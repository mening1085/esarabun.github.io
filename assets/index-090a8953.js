import{I as W}from"./index-72ee420c.js";import{bf as K,A as E,aA as h,k as y,au as z,al as B,aq as H,$ as Q,ab as R,aF as D,as as g,m as w,bj as S,aE as L,ac as _,w as G,aT as P,x as T,o as M,F as J,aD as X,p as C,c as Y}from"./preload-helper-9e0646ca.js";import{_ as Z}from"./index-e058a960.js";import{o as I,u as ee,V as N,t as $,R as j,a as b}from"./dom-891ac6c3.js";import{m as te,h as ae,F as le,v as ne,M as V,D as U,O as se}from"./focus-management-e6c5d1fd.js";import{c as oe,l as O,p as re}from"./open-closed-486d85f0.js";import{b as ue}from"./use-resolve-button-type-38f1f99a.js";import{y as ie}from"./use-outside-click-a758fdce.js";function ce(t){throw new Error("Unexpected object: "+t)}var k=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(k||{});function de(t,c){let r=c.resolveItems();if(r.length<=0)return null;let p=c.resolveActiveIndex(),e=p??-1,v=(()=>{switch(t.focus){case 0:return r.findIndex(l=>!c.resolveDisabled(l));case 1:{let l=r.slice().reverse().findIndex((u,i,f)=>e!==-1&&f.length-i-1>=e?!1:!c.resolveDisabled(u));return l===-1?l:r.length-1-l}case 2:return r.findIndex((l,u)=>u<=e?!1:!c.resolveDisabled(l));case 3:{let l=r.slice().reverse().findIndex(u=>!c.resolveDisabled(u));return l===-1?l:r.length-1-l}case 4:return r.findIndex(l=>c.resolveId(l)===t.id);case 5:return null;default:ce(t)}})();return v===-1?p:v}function ve({container:t,accept:c,walk:r,enabled:p}){K(()=>{let e=t.value;if(!e||p!==void 0&&!p.value)return;let v=te(t);if(!v)return;let l=Object.assign(i=>c(i),{acceptNode:c}),u=v.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;u.nextNode();)r(u.currentNode)})}var pe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(pe||{}),me=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(me||{});function fe(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let q=Symbol("MenuContext");function A(t){let c=Q(q,null);if(c===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,A),r}return c}let be=E({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:c,attrs:r}){let p=h(1),e=h(null),v=h(null),l=h([]),u=h(""),i=h(null),f=h(1);function d(n=s=>s){let s=i.value!==null?l.value[i.value]:null,o=se(n(l.value.slice()),x=>I(x.dataRef.domRef)),m=s?o.indexOf(s):null;return m===-1&&(m=null),{items:o,activeItemIndex:m}}let a={menuState:p,buttonRef:e,itemsRef:v,items:l,searchQuery:u,activeItemIndex:i,activationTrigger:f,closeMenu:()=>{p.value=1,i.value=null},openMenu:()=>p.value=0,goToItem(n,s,o){let m=d(),x=de(n===k.Specific?{focus:k.Specific,id:s}:{focus:n},{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:F=>F.id,resolveDisabled:F=>F.dataRef.disabled});u.value="",i.value=x,f.value=o??1,l.value=m.items},search(n){let s=u.value!==""?0:1;u.value+=n.toLowerCase();let o=(i.value!==null?l.value.slice(i.value+s).concat(l.value.slice(0,i.value+s)):l.value).find(x=>x.dataRef.textValue.startsWith(u.value)&&!x.dataRef.disabled),m=o?l.value.indexOf(o):-1;m===-1||m===i.value||(i.value=m,f.value=1)},clearSearch(){u.value=""},registerItem(n,s){let o=d(m=>[...m,{id:n,dataRef:s}]);l.value=o.items,i.value=o.activeItemIndex,f.value=1},unregisterItem(n){let s=d(o=>{let m=o.findIndex(x=>x.id===n);return m!==-1&&o.splice(m,1),o});l.value=s.items,i.value=s.activeItemIndex,f.value=1}};return ie([e,v],(n,s)=>{var o;a.closeMenu(),ae(s,le.Loose)||(n.preventDefault(),(o=I(e))==null||o.focus())},y(()=>p.value===0)),z(q,a),oe(y(()=>ee(p.value,{[0]:O.Open,[1]:O.Closed}))),()=>{let n={open:p.value===0};return N({ourProps:{},theirProps:t,slot:n,slots:c,attrs:r,name:"Menu"})}}}),Ie=E({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(t,{attrs:c,slots:r,expose:p}){let e=A("MenuButton"),v=`headlessui-menu-button-${$()}`;p({el:e.buttonRef,$el:e.buttonRef});function l(d){switch(d.key){case b.Space:case b.Enter:case b.ArrowDown:d.preventDefault(),d.stopPropagation(),e.openMenu(),R(()=>{var a;(a=I(e.itemsRef))==null||a.focus({preventScroll:!0}),e.goToItem(k.First)});break;case b.ArrowUp:d.preventDefault(),d.stopPropagation(),e.openMenu(),R(()=>{var a;(a=I(e.itemsRef))==null||a.focus({preventScroll:!0}),e.goToItem(k.Last)});break}}function u(d){switch(d.key){case b.Space:d.preventDefault();break}}function i(d){t.disabled||(e.menuState.value===0?(e.closeMenu(),R(()=>{var a;return(a=I(e.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(d.preventDefault(),e.openMenu(),fe(()=>{var a;return(a=I(e.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let f=ue(y(()=>({as:t.as,type:c.type})),e.buttonRef);return()=>{var d;let a={open:e.menuState.value===0},n={ref:e.buttonRef,id:v,type:f.value,"aria-haspopup":!0,"aria-controls":(d=I(e.itemsRef))==null?void 0:d.id,"aria-expanded":t.disabled?void 0:e.menuState.value===0,onKeydown:l,onKeyup:u,onClick:i};return N({ourProps:n,theirProps:t,slot:a,attrs:c,slots:r,name:"MenuButton"})}}}),ke=E({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:c,slots:r,expose:p}){let e=A("MenuItems"),v=`headlessui-menu-items-${$()}`,l=h(null);p({el:e.itemsRef,$el:e.itemsRef}),ve({container:y(()=>I(e.itemsRef)),enabled:y(()=>e.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function u(a){var n;switch(l.value&&clearTimeout(l.value),a.key){case b.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case b.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeItemIndex.value!==null){let s=e.items.value[e.activeItemIndex.value];(n=I(s.dataRef.domRef))==null||n.click()}e.closeMenu(),U(I(e.buttonRef));break;case b.ArrowDown:return a.preventDefault(),a.stopPropagation(),e.goToItem(k.Next);case b.ArrowUp:return a.preventDefault(),a.stopPropagation(),e.goToItem(k.Previous);case b.Home:case b.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToItem(k.First);case b.End:case b.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToItem(k.Last);case b.Escape:a.preventDefault(),a.stopPropagation(),e.closeMenu(),R(()=>{var s;return(s=I(e.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case b.Tab:a.preventDefault(),a.stopPropagation(),e.closeMenu(),R(()=>ne(I(e.buttonRef),a.shiftKey?V.Previous:V.Next));break;default:a.key.length===1&&(e.search(a.key),l.value=setTimeout(()=>e.clearSearch(),350));break}}function i(a){switch(a.key){case b.Space:a.preventDefault();break}}let f=re(),d=y(()=>f!==null?f.value===O.Open:e.menuState.value===0);return()=>{var a,n;let s={open:e.menuState.value===0},o={"aria-activedescendant":e.activeItemIndex.value===null||(a=e.items.value[e.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(n=I(e.buttonRef))==null?void 0:n.id,id:v,onKeydown:u,onKeyup:i,role:"menu",tabIndex:0,ref:e.itemsRef};return N({ourProps:o,theirProps:t,slot:s,attrs:c,slots:r,features:j.RenderStrategy|j.Static,visible:d.value,name:"MenuItems"})}}}),ge=E({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(t,{slots:c,attrs:r,expose:p}){let e=A("MenuItem"),v=`headlessui-menu-item-${$()}`,l=h(null);p({el:l,$el:l});let u=y(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===v:!1),i=y(()=>({disabled:t.disabled,textValue:"",domRef:l}));B(()=>{var s,o;let m=(o=(s=I(l))==null?void 0:s.textContent)==null?void 0:o.toLowerCase().trim();m!==void 0&&(i.value.textValue=m)}),B(()=>e.registerItem(v,i)),H(()=>e.unregisterItem(v)),K(()=>{e.menuState.value===0&&(!u.value||e.activationTrigger.value!==0&&R(()=>{var s,o;return(o=(s=I(l))==null?void 0:s.scrollIntoView)==null?void 0:o.call(s,{block:"nearest"})}))});function f(s){if(t.disabled)return s.preventDefault();e.closeMenu(),U(I(e.buttonRef))}function d(){if(t.disabled)return e.goToItem(k.Nothing);e.goToItem(k.Specific,v)}function a(){t.disabled||u.value||e.goToItem(k.Specific,v,0)}function n(){t.disabled||!u.value||e.goToItem(k.Nothing)}return()=>{let{disabled:s}=t,o={active:u.value,disabled:s};return N({ourProps:{id:v,ref:l,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,onClick:f,onFocus:d,onPointermove:a,onMousemove:a,onPointerleave:n,onMouseleave:n},theirProps:t,slot:o,attrs:r,slots:c,name:"MenuItem"})}}});const he={components:{Menu:be,MenuButton:Ie,MenuItems:ke,MenuItem:ge,Icon:W},props:{label:{type:String,default:"DropDown"},labelClass:{type:String},classMenuItems:{type:String,default:"mt-2 w-[220px]"},classItem:{type:String,default:"px-4 py-2"},parentClass:{type:String,default:"inline-block"},items:{type:Array,default:()=>[{label:"Action",link:"#"},{label:"Another action",link:"#"},{label:"Something else here",link:"#"},{label:"Separated link",link:"#",hasDivider:!0}]}},methods:{eventClick(t){this.$emit("onClickItem",t)}}},xe={key:0},ye={key:0,class:"flex items-center"},Se={class:"block text-sm"},_e={key:1,class:"block text-sm"},Me=["onClick"],De={key:0,class:"flex items-center"},Re={class:"block text-sm"},we={key:1,class:"block text-sm"};function Pe(t,c,r,p,e,v){const l=D("MenuButton"),u=D("Icon"),i=D("router-link"),f=D("MenuItem"),d=D("MenuItems"),a=D("Menu");return g(),w(a,{as:"div",class:_(["relative",r.parentClass])},{default:S(()=>[t.$slots.default?(g(),w(l,{key:0,class:"block w-full"},{default:S(()=>[L(t.$slots,"default")]),_:3})):(g(),w(l,{key:1,class:_([r.labelClass,"block w-full"])},{default:S(()=>[G(P(r.label),1)]),_:1},8,["class"])),T(Y,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:S(()=>[T(d,{class:_([r.classMenuItems,"absolute ltr:right-0 rtl:left-0 origin-top-right rounded bg-white dark:bg-slate-800 dark:border dark:border-slate-700 shadow-dropdown z-[29]"])},{default:S(()=>[t.$slots.menus?L(t.$slots,"menus",{key:1}):(g(),M("div",xe,[(g(!0),M(J,null,X(r.items,(n,s)=>(g(),w(f,{key:s},{default:S(({active:o})=>[n.link?(g(),w(i,{key:0,class:_(`${o?"bg-slate-100 text-slate-900 dark:bg-slate-600 dark:text-slate-300 dark:bg-opacity-50":"text-slate-600 dark:text-slate-300"} block   ${r.classItem}  ${n.hasDivider?"border-t border-slate-100 dark:border-slate-700":""}`),to:n.link},{default:S(()=>[n.icon?(g(),M("div",ye,[C("span",{class:_([n.classIcon,"block text-xl ltr:mr-3 rtl:ml-3"])},[T(u,{icon:n.icon},null,8,["icon"])],2),C("span",Se,P(n.label),1)])):(g(),M("span",_e,P(n.label),1))]),_:2},1032,["class","to"])):(g(),M("span",{key:1,class:_(`${o?"bg-slate-100 text-slate-800 cursor-pointer":""}  ${n.hasDivider===!0?"border-t border-gray-500 dark:border-slate-700":""}  block ${r.classItem}`),onClick:m=>v.eventClick(n)},[n.icon?(g(),M("div",De,[C("span",{class:_([n.classIcon,"block text-xl ltr:mr-3 rtl:ml-3"])},[T(u,{icon:n.icon},null,8,["icon"])],2),C("span",Re,P(n.label),1)])):(g(),M("span",we,P(n.label),1))],10,Me))]),_:2},1024))),128))]))]),_:3},8,["class"])]),_:3})]),_:3},8,["class"])}const Be=Z(he,[["render",Pe]]);export{Be as D,Ie as I,ge as S,k as a,ke as g,ve as p,be as v,de as x};
