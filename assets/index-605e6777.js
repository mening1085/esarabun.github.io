import{D as Y,S as G}from"./index-976a2577.js";import{C as H}from"./index-cb5a08aa.js";import{I as Q}from"./index-8d30ace7.js";import{B as q}from"./index-c2d6eb9c.js";import{I as J}from"./index-2198f2cf.js";import{P as K}from"./index-5ddbaceb.js";import{S as W}from"./index-a56f86b1.js";import{V as X,C as Z}from"./VueSelect-403231fd.js";import{S as $}from"./index-ca598517.js";import{M as ee}from"./Modal-b54f1b5f.js";import{T as te}from"./index-3e8503e7.js";import{C as se}from"./index-4d060206.js";import{_ as le,c as oe,a as g}from"./index-f91482a0.js";import{C as ae}from"./index-1653d012.js";import{M as ie}from"./index-8e7d66d6.js";import{M as re}from"./index-3891a0e1.js";import{R as ne}from"./index-e163c14d.js";import{T as de}from"./index-78f015fc.js";import{C as ue}from"./index-325a54cb.js";import{M as ce}from"./index-e1db63de.js";import{T as pe}from"./index-b52aeb81.js";import{N as me}from"./index-f32159fc.js";import{d as he}from"./dayjs.min-472eb357.js";import{aA as R,o as d,x as a,bj as n,m as _,n as h,aF as m,as as r,p as l,aT as S,F as v,w,aD as y,ac as fe}from"./preload-helper-f37a9bec.js";import"./dom-b10fc197.js";import"./focus-management-94a631f4.js";import"./open-closed-75edfb8a.js";import"./use-resolve-button-type-d7bee841.js";import"./use-outside-click-156e41c1.js";import"./iconify-2baafea4.js";import"./vue-cleave.min-df5c8cc9.js";import"./transition-be7c09bc.js";import"./hidden-800255f5.js";import"./micro-task-89dcd6af.js";import"./index-b704274e.js";import"./ck-white-3501111f.js";import"./vue3-tree-vue.esm-0dbd4492.js";import"./checkbox-12649afb.js";const xe={components:{NavigationPath:me,Tooltip:pe,ModalRole:ce,Pagination:K,InputGroup:J,Dropdown:Y,Icon:Q,Button:q,Card:H,MenuItem:G,Select:W,VueSelect:X,vSelect:Z,Switch:$,Modal:ee,Radio:ne,Textinput:te,ChangeStatus:se,ConfirmDelete:ae,ModalSuccess:ie,ModalError:re,Textarea:de,Checkbox:ue},data(){var o;return{adminCheck:(o=oe().userInfo)==null?void 0:o.admin_flag,modalId:null,modalStatus:!1,isSuccess:!1,isShowModalAS:!1,isShowModalDetail:!1,isShowDialogSwitch:!1,isShowModalDashBoard:!1,isShowModalCreateBookNumber:!1,BookNumberStatus:!1,isShowModalReturnBook:!1,isShowModalDelete:!1,isModalDeleteSuccess:!1,isModalDeleteError:!1,errorMessage:"",dashboardPayload:{name:null,public:!0,type:"แดชบอร์ด"},paginate:{total:50,current_page:1,perpage:10,pageRange:5},modalTitle:"",formStatus:!0,searchTerm:"",manageList:"",manageLists:[{id:1,label:"สร้างรายงานหนังสือรับ"},{id:2,label:"สร้างรายงานหนังสือส่ง"},{id:3,label:"สร้างแดชบอร์ด"}],filterDetail:"",createBookRegisterOption:"1",createBookRegisterOptions:[{value:"1",label:"ออกเลขรับหนังสือ",activeClass:"ring-primary-500 border-primary-500"}],typeReceiveOption:"1",typeReceiveOptions:[{value:"1",label:"เพื่อทราบ",activeClass:"ring-primary-500 border-primary-500"},{value:"2",label:"ลงนาม",activeClass:"ring-primary-500 border-primary-500"},{value:"3",label:"สั่งการ",activeClass:"ring-primary-500 border-primary-500"}],filter:{reportType:"ประเภทรายงาน",activity:"สถานะใช้งาน",search:""},radioOption:"1",radioOptions:[{value:!0,label:"ทุกคน",activeClass:"ring-primary-500 border-primary-500"},{value:!1,label:"เฉพาะที่ได้รับสิทธิ์",activeClass:"ring-primary-500 border-primary-500"}],documentTypeOption:[],documentTypeOptions:[{value:"1",label:"อิเล็กทรอนิกส์"},{value:"2",label:"ทั่วไป (ส่งฉบับจริง)"},{value:"3",label:"รับจากอีเมล"}],bookTypeOption:[],bookTypeOptions:[{value:"1",label:"หนังสือภายนอก",title:"หนังสือภายนอก"},{value:"2",label:"หนังสือภายใน",title:"หนังสือภายใน"},{value:"3",label:"หนังสือเวียน",title:"หนังสือเวียน"}],registerTypeOption:[],registerTypeOptions:[{value:"1",title:"เล่มทะเบียนภายนอก"},{value:"2",title:"เล่มทะเบียนภายใน"}],searchOption:[],searchOptions:[{value:"1",title:"เพื่อโปรดพิจารณา"},{value:"2",title:"เพื่อโปรดอนุมติ"},{value:"3",title:"เพื่อโปรดอนุเคราะห์"},{value:"4",title:"เพื่อควรมอบ"}],columns:[{label:"ชื่อรายงาน",field:"name",width:"200px",tdClass:"text_left",thClass:"text_left"},{label:"การมองเห็น",field:"is_published",width:"100px",tdClass:"text_left",thClass:"text_left"},{label:"ประเภทรายงาน",field:"report_type",width:"100px",tdClass:"text_left",thClass:"text_left"},{label:"เข้าใช้งานล่าสุด",field:"last_read_at",width:"100px",tdClass:"text_left",thClass:"text_left"}],advancedTable:[],BookNumbercolumns:[{label:"เลขที่หนังสือ",field:"bookNumber",width:"100px",tdClass:"text_left",thClass:"text_left"},{label:"เรื่อง",field:"name",width:"350px",tdClass:"text_left",thClass:"text_left"},{label:"เลขรับ",field:"receiveNumber",width:"100px",tdClass:"text_center",thClass:"text_left"},{label:"วันที่/เวลารับ",field:"date",width:"150px",tdClass:"text_left",thClass:"text_left"}],BookNumberTable:[{bookNumber:"U 12/3456",name:"การกำหนดจำนวนอัตรากำลังแทนให้ส่วนราชการที่ส่งข้าราช",receiveNumber:"4",date:"27/04/2566 12:34"},{bookNumber:"U 12/3456",name:"การกำหนดจำนวนอัตรากำลังแทนให้ส่วนราชการที่ส่งข้าราช",receiveNumber:"5",date:"27/04/2566 12:34"},{bookNumber:"U 12/3456",name:"การกำหนดจำนวนอัตรากำลังแทนให้ส่วนราชการที่ส่งข้าราช",receiveNumber:"6",date:"27/04/2566 12:34"}],openModalRole:R(!1),roleList:R([]),userRole:R([]),selectedItem2:"",parent_id2:"",userRoleDisplay:R([]),reportTypeList:[{id:"",title:"ประเภทรายงาน"},{id:1,title:"รายงานหนังสือรับ"},{id:2,title:"รายงานหนังสือส่ง"},{id:3,title:"แดชบอร์ด"}],activityList:[{id:"",title:"สถานะใช้งาน"},{id:1,title:"เปิดใช้งาน"},{id:2,title:"ปิดใช้งาน"}],editMode:!1,editId:null}},watch:{password:{handler(){this.password&&(this.passwordError=0)}}},created(){this.getData(1)},computed:{columns(){return[{label:"ชื่อรายงาน",field:"name",width:"200px",tdClass:"text_left",thClass:"text_left"},{label:"การมองเห็น",field:"is_published",width:"100px",tdClass:"text_left",thClass:"text_left"},{label:"ประเภทรายงาน",field:"report_type",width:"100px",tdClass:"text_left",thClass:"text_left"},{label:"เข้าใช้งานล่าสุด",field:"last_read_at",width:"100px",tdClass:"text_left",thClass:"text_left"},{label:"สถานะการใช้งาน",field:"enabled",width:"100px",tdClass:"text_left",thClass:"text_left",hidden:!this.adminCheck},{label:"จัดการ",field:"action",width:"50px"}]}},methods:{convertDateTime(o){return he(o).locale("th").add(543,"year").format("DD MMM YYYY HH:mm")},onFilter(){this.getData(1)},countIndex(o,t){return this.userRoleDisplay.map(f=>f.length).slice(0,o).reduce((f,e)=>f+e,0)+t+1},deleteRole(o){this.userRole=this.userRole.filter(t=>t.item_id!=o),this.userRoleDisplay=this.generateShowData(this.userRole)},onClosemodal(){this.openModalRole=!1},generateShowData(o){return o.reduce((u,f)=>{const e=f.organization_id,i=u.findIndex(x=>{var p;return((p=x[0])==null?void 0:p.organization_id)===e});return i!==-1?u[i].push(f):u.push([f]),u},[])},onSelectedItemRole(o){console.log("item",o),this.selectedItem2=o,this.userRole=o.map(t=>({name:t.name,item_id:t.item_id})),this.userRoleDisplay=this.generateShowData(this.userRole)},addRole(){this.openModalRole=!0},goEdit(o,t){if(t==="แดชบอร์ด"){const u=this.advancedTable.find(f=>f.id===o);if((u==null?void 0:u.report_master_permission.length)>0){let f=[];u.report_master_permission.forEach(e=>{f.push(e.sarabun_role_id)}),this.userRole=[],this.userRole=this.roleList[0].children.filter(e=>f.includes(e.item_id)),this.userRoleDisplay=this.generateShowData(this.userRole)}this.dashboardPayload.name=u.name,this.dashboardPayload.public=u.is_published,this.editMode=!0,this.editId=o,this.isShowModalDashBoard=!0}else t==="รายงานหนังสือส่ง"?this.$router.push({name:"report-export-edit",params:{id:o}}):t==="รายงานหนังสือรับ"&&this.$router.push({name:"report-import-edit",params:{id:o}})},goDetail(o,t){t==="แดชบอร์ด"?this.$router.push({name:"dynamic-report",params:{master:o}}):t==="รายงานหนังสือส่ง"?this.$router.push({name:"report-export-detail",params:{id:o}}):t==="รายงานหนังสือรับ"&&this.$router.push({name:"report-import-detail",params:{id:o}})},async getData(o){var f,e;let t={report_type:this.filter.reportType!=="ประเภทรายงาน"?this.filter.reportType:"",active:this.filter.activity!=="สถานะใช้งาน"?this.filter.activity:"",word:this.filter.search};const u=await g("reportAdminStore","get",{payload:{page:o,filter:t}});u.status===200&&(this.advancedTable=u.data.result.data,this.paginate.total=u.data.result.total_page*u.data.result.per_page,this.paginate.total=u.data.result.total_page,this.paginate.current_page=u.data.result.current_page,this.paginate.perpage=u.data.result.per_page,((f=u.data.result)==null?void 0:f.sarabun_role_list.length)>0&&(this.roleList=(e=u.data.result)==null?void 0:e.sarabun_role_list.map(i=>{function x(p){p.item_id=p.id,delete p.id,p.children&&(p.children=p.children.map(C=>(x(C),C)))}return x(i),i})))},onUpdateSwitch(o,t){this.isShowDialogSwitch=!0,this.modalId=o,this.modalStatus=t},async onAcceptSwitch(){this.$router.push("report/export"),this.clearModal()},onCloseStatus(o){this.isShowDialogSwitch=!1,this.getData(1)},async onChangeStatus(o){const{status:t}=await g("reportAdminStore","changeStatus",{payload:{id:o.id,status:o.status}});t===200&&(this.isShowDialogSwitch=!1)},async onAcceptDashBoard(){const o=await g("reportAdminStore","store",{payload:{id:this.editMode?this.editId:null,name:this.dashboardPayload.name,is_published:this.dashboardPayload.public,report_type:this.dashboardPayload.type,enabled:"true",permissions:this.userRoleDisplay[0]??null}});o.status===200&&this.$router.push({name:"dynamic-report",params:{master:o.data.result.master.id}})},onCloseSwitch(){this.advancedTable=this.advancedTable.map(o=>(o.id===this.modalId&&(o.status=!!o.status),o)),this.clearModal()},async openModalDelete(o){this.isShowModalDelete=!0,this.modalId=o},async onDelete(o){const t=await g("reportAdminStore","delete",{payload:o});t.status==200?(this.getData(1),this.isShowModalDelete=!1):this.errorMessage=t.response.data.message},clearModal(){this.isShowDialogSwitch=!1,this.isShowModalDelete=!1,this.isModalDeleteSuccess=!1,this.isModalDeleteError=!1,this.isShowModalDetail=!1,this.isShowModalCreateBookNumber=!1,this.isShowModalReturnBook=!1,this.isShowModalAS=!1,this.errorMessage="",this.modalId=null},async changePage(o){this.paginate.current_page=o,await this.getData(o)},async showDetail(o){(await g("roleSettingStore","show",{payload:o})).status===200&&(this.modalId=o,this.isShowModalDetail=!0)},closeModal(){this.isShowModalDetail=!1,this.isShowModalCreateBookNumber=!1,this.isShowModalReturnBook=!1,this.isShowModalAS=!1,this.isShowModalDashBoard=!1},async openModalAction(o,t=void 0){o=="edit"?(window.location="wait-to-receive/edit-book/1",(await g("roleSettingStore","show",{payload:t})).status===200&&(this.modalId=t,this.formStatus=!0,this.isShowModalDetail=!0,this.modalTitle="แบบฟอร์มแก้ไขรายงาน")):o=="view"?(this.modalId=t,this.formStatus=!1,this.isShowModalDetail=!0,this.modalTitle="รายละเอียดรายงาน"):o=="create"?(this.modalId=t,this.formStatus=!0,this.isShowModalDetail=!0,this.modalTitle="แบบฟอร์มเพิ่มรายงาน"):o=="return"&&(this.isShowModalReturnBook=!0)},async openModalManage(o){o.id==1?this.$router.push("report/import"):o.id==2?this.$router.push("report/export"):o.id==3&&(this.editMode=!1,this.editId=null,this.isShowModalDashBoard=!0)},async onAcceptMange(o){this.BookNumberStatus=!0},async openModalAdvancedSearch(){this.isShowModalAS=!0}}},_e={class:"role_managment"},be={class:"p-6"},ve={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},ge={class:"flex gap-3"},ye={class:"flex items-center"},we=l("span",{class:"px-2"},"สร้างรายงาน",-1),Ce={class:"flex flex-wrap sm:flex-nowrap gap-3 basis-3/5"},Se={class:"basis-full"},Me={class:"basis-full"},ke={class:"basis-full"},De=l("div",{class:"text-center"},[l("div",{class:"text-gray-400"},"ไม่พบข้อมูล")],-1),Ie={key:0},Re={key:1},Oe={key:2,class:"flex"},Te=l("span",{class:"pt-1 pl-1"},"เฉพาะคนที่ได้รับสิทธิ์",-1),Ve=l("span",{class:"pt-1 pl-1"},"ทุกคน",-1),Be={key:3},Ee={key:4},Ne={class:"w-full"},Pe=["onClick"],Ae=["onClick"],Ue=l("li",null,[l("hr")],-1),Le=["onClick"],ze={class:"py-4 px-3"},je={class:"list space-y-8"},Fe={class:"flex py-2"},Ye={class:"flex-1 flex gap-5 items-center"},Ge=l("div",{class:"text-sm font-medium text-slate-900 dark:text-slate-200 layout-flex text-start min-w-[20%] max-w-[20%]"}," ชื่อแดชบอร์ด ",-1),He={class:"text-slate-600 dark:text-slate-400 mb-1"},Qe={class:"flex py-2"},qe={class:"flex-1 flex gap-5 items-start"},Je=l("div",{class:"text-sm font-medium text-slate-900 dark:text-slate-200 layout-flex text-start min-w-[20%] max-w-[20%]"}," การมองเห็น ",-1),Ke={class:"text-slate-600 dark:text-slate-400 mb-1 space-y-2"},We={class:"flex"},Xe=l("div",{class:"min-w-[20%] max-w-[20%]"},null,-1),Ze={class:"w-full text-left"},$e=l("tr",{style:{"border-bottom":"1px solid grey"}},[l("th",{class:"py-3 w-[90%] text-left"},"กลุ่มผู้ใช้งาน"),l("th",{class:"py-3 w-[10%] text-center"},"จัดการ")],-1),et={class:"py-2"},tt={class:"py-2"},st={class:"flex"},lt=l("div",{class:"min-w-[20%] max-w-[20%]"},null,-1),ot={class:"text-center mt-4 flex justify-center w-full"},at={class:"list space-y-8 list-odd"},it={class:"flex py-2"},rt={class:"flex-1 flex gap-5 items-center"},nt=l("div",{class:"text-sm font-medium text-slate-900 dark:text-slate-200 layout-flex text-end min-w-[35%] max-w-[35%]"},[w(" ชื่อรายงาน "),l("span",{class:"text-red-600"},"*")],-1),dt={class:"text-slate-600 dark:text-slate-400 mb-1"},ut={class:"flex py-2"},ct={class:"flex-1 flex gap-5 items-center"},pt=l("div",{class:"text-sm font-medium text-slate-900 dark:text-slate-200 layout-flex text-end min-w-[35%] max-w-[35%]"}," การใช้งาน ",-1),mt={class:"text-slate-600 dark:text-slate-400 mb-1 flex space-x-5"},ht={class:"text-center mt-4 flex justify-center w-full"},ft={key:0,class:"list space-y-5 list-odd"},xt={class:"flex py-2"},_t={class:"flex-1 flex gap-5"},bt=l("div",{class:"text-sm font-medium text-slate-900 dark:text-slate-200 layout-flex text-end min-w-[20%] max-w-[20%]"}," รูปแบบการรับ ",-1),vt={class:"text-slate-600 dark:text-slate-400 mb-1 space-y-1"},gt={class:"flex p-2"},yt={class:"flex-1 flex gap-5"},wt=l("div",{class:"text-sm font-medium text-slate-900 dark:text-slate-200 layout-flex text-end min-w-[20%] max-w-[20%]"}," รายละเอียดการปฏิบัติ ",-1),Ct={class:"text-slate-600 dark:text-slate-400 mb-1 flex space-x-5"},St={class:"flex space-x-3"},Mt={class:"text-xs font-medium text-slate-900 dark:text-slate-200 layout-flex space-y-2"},kt=l("div",null,"รูปแบบคำสั่งการ/คำเสนอ/การปฏิบัติ",-1),Dt={class:"flex py-2"},It={class:"flex-1 flex gap-5 items-center"},Rt=l("div",{class:"text-sm font-medium text-slate-900 dark:text-slate-200 layout-flex text-end min-w-[20%] max-w-[20%]"}," การลงทะเบียนรับ ",-1),Ot={class:"text-slate-600 dark:text-slate-400 mb-1 flex space-x-5"},Tt={class:"text-sm font-medium text-slate-900 dark:text-slate-200 layout-flex text-end min-w-[30%] max-w-[30%]"},Vt={key:1,class:"list space-y-5"},Bt=l("div",{class:"text-center"},[l("div",{class:"text-gray-400"},"ไม่พบข้อมูล")],-1),Et={key:0},Nt={class:"text-base text-red-400 font-bold"},Pt={class:"py-4 px-3"},At={class:"text-center mt-4 flex justify-center w-full"},Ut={class:"list space-y-1"},Lt=l("div",{class:"text-sm font-medium text-slate-500 dark:text-slate-200"}," เหตุผลในการคืนเรื่อง ",-1),zt={class:"text-slate-600 dark:text-slate-400 mb-1"},jt={class:"text-center mt-4 flex justify-center w-full"},Ft=l("h4",{class:"text-lg text-slate-900"},[w(" เปิด/ปิดใช้งานรายงาน"),l("span",{class:"text-green-500"},"สำเร็จ")],-1),Yt=l("h4",{class:"text-lg text-slate-900"},[w(" ลบข้อมูลใช้งานรายงาน"),l("span",{class:"text-green-500"},"สำเร็จ")],-1),Gt={class:"text-lg text-slate-900"};function Ht(o,t,u,f,e,i){const x=m("Icon"),p=m("Button"),C=m("Dropdown"),M=m("vSelect"),k=m("VueSelect"),A=m("InputGroup"),O=m("Switch"),T=m("Pagination"),V=m("vue-good-table"),U=m("Card"),B=m("Textinput"),D=m("Radio"),I=m("Modal"),E=m("Textarea"),L=m("ChangeStatus"),N=m("ModalSuccess"),z=m("ConfirmDelete"),j=m("ModalError"),F=m("ModalRole");return r(),d("div",_e,[a(U,{noborder:"",bodyClass:"p-0"},{default:n(()=>[l("div",be,[l("div",ve,[l("div",ge,[e.adminCheck?(r(),_(C,{key:0,classMenuItems:"left-0  w-[220px] top-[110%]",items:e.manageLists,onOnClickItem:i.openModalManage},{default:n(()=>[a(p,{btnClass:"btn-primary",div:"",iconClass:"text-lg"},{default:n(()=>[l("div",ye,[a(x,{icon:"ic:baseline-plus",class:"handle text-[20px]"}),we,a(x,{icon:"heroicons-outline:chevron-down",class:"handle text-[20px]"})])]),_:1})]),_:1},8,["items","onOnClickItem"])):h("",!0)]),l("div",Ce,[l("div",Se,[a(k,{classInput:"input_color"},{default:n(()=>[a(M,{modelValue:e.filter.reportType,"onUpdate:modelValue":t[0]||(t[0]=s=>e.filter.reportType=s),label:"title",class:"input_color border rounded",reduce:s=>s.title,options:e.reportTypeList,"onOption:selected":t[1]||(t[1]=s=>i.onFilter())},null,8,["modelValue","reduce","options"])]),_:1})]),l("div",Me,[a(k,{classInput:"input_color"},{default:n(()=>[a(M,{modelValue:e.filter.activity,"onUpdate:modelValue":t[2]||(t[2]=s=>e.filter.activity=s),label:"title",class:"input_color border rounded",reduce:s=>s.title,options:e.activityList,"onOption:selected":t[3]||(t[3]=s=>i.onFilter())},null,8,["modelValue","reduce","options"])]),_:1})]),l("div",ke,[a(A,{modelValue:e.filter.search,"onUpdate:modelValue":t[4]||(t[4]=s=>e.filter.search=s),placeholder:"Search",type:"text",prependIcon:"heroicons-outline:search",merged:"",inputEnter:!0,"onEvent:inputEnter":t[5]||(t[5]=s=>i.onFilter())},null,8,["modelValue"])])])])]),a(V,{columns:i.columns,styleClass:" vgt-table bordered lesspadding2",rows:e.advancedTable,"pagination-options":{enabled:!0,perPage:e.paginate.perpage},"search-options":{enabled:!0,externalQuery:e.searchTerm},"sort-options":{enabled:!1}},{emptystate:n(()=>[De]),"table-row":n(s=>[s.column.field=="last_read_at"?(r(),d("span",Ie,S(s.row.last_read_at?i.convertDateTime(s.row.last_read_at)+" น.":"-"),1)):h("",!0),s.column.field=="name"||s.column.field=="report_type"?(r(),d("span",Re,S(s.row[s.column.field]),1)):h("",!0),s.column.field=="is_published"?(r(),d("span",Oe,[s.row[s.column.field]?(r(),d(v,{key:1},[a(x,{icon:"mdi:earth",class:"handle text-[25px] text-blue-500"}),Ve],64)):(r(),d(v,{key:0},[a(x,{icon:"circum:lock",class:"handle text-[25px] text-red-500"}),Te],64))])):h("",!0),s.column.field=="enabled"?(r(),d("span",Be,[s.row.enabled?(r(),_(O,{key:0,label:"เปิดใช้งาน",activeClass:"bg-primary-500",active:!0,modelValue:s.row.enabled,"onUpdate:modelValue":c=>{s.row.enabled=c,e.modalId=s.row.id,i.onUpdateSwitch(s.row.id,c)}},null,8,["modelValue","onUpdate:modelValue"])):(r(),_(O,{key:1,label:"ปิดใช้งาน",activeClass:"bg-primary-500",active:!1,modelValue:s.row.enabled,"onUpdate:modelValue":c=>{s.row.enabled=c,e.modalId=s.row.id,i.onUpdateSwitch(s.row.id,c)}},null,8,["modelValue","onUpdate:modelValue"]))])):h("",!0),s.column.field=="action"?(r(),d("span",Ee,[a(C,{classMenuItems:"right-full  w-[220px] top-[110%] "},{menus:n(()=>[l("div",null,[l("ul",Ne,[l("li",null,[e.adminCheck?(r(),d("div",{key:0,class:"p-2 flex items-center hover:bg-gray-50 cursor-pointer",onClick:c=>i.goEdit(s.row.id,s.row.report_type)},[a(x,{icon:"bx:edit",class:"text-xl mr-2"}),w(" แก้ไข ")],8,Pe)):h("",!0)]),l("li",null,[l("div",{class:"p-2 flex items-center hover:bg-gray-50 cursor-pointer",onClick:c=>i.goDetail(s.row.id,s.row.report_type)},[a(x,{icon:"grommet-icons:document-text",class:"text-xl mr-2"}),w(" รายละเอียด ")],8,Ae)]),Ue,l("li",null,[e.adminCheck?(r(),d("div",{key:0,class:"p-2 flex items-center hover:bg-gray-50 cursor-pointer",onClick:c=>i.openModalDelete(s.row.id)},[a(x,{icon:"material-symbols:delete",class:"text-xl mr-2 text-red-500"}),w(" ลบ ")],8,Le)):h("",!0)])])])]),default:n(()=>[a(x,{icon:"pepicons-pencil:dots-x",class:"text-gray-400 text-4xl"})]),_:2},1024)])):h("",!0)]),"pagination-bottom":n(s=>[l("div",ze,[a(T,{total:e.paginate.total,current:e.paginate.current_page,"per-page":e.paginate.perpage,pageRange:e.paginate.pageRange,onPageChanged:t[6]||(t[6]=c=>i.changePage(c)),pageChanged:s.pageChanged,perPageChanged:s.perPageChanged,textAfterInput:"ไปที่หน้า",enableSearch:"",enableInput:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","pagination-options","search-options"])]),_:1}),e.isShowModalDashBoard?(r(),_(I,{key:0,title:e.editMode?"แก้ไขแดชบอร์ด":"สร้างแดชบอร์ด",activeModal:e.isShowModalDashBoard,"onEvent:closeModal":t[11]||(t[11]=s=>e.isShowModalDashBoard=!1),label:"",labelClass:"btn-outline-dark",sizeClass:"w-2/4",centered:""},{footer:n(()=>[l("div",ot,[e.formStatus?(r(),_(p,{key:0,text:"บันทึก",btnClass:"btn-primary w-32 mx-2",onOnClick:t[9]||(t[9]=s=>i.onAcceptDashBoard())})):h("",!0),a(p,{text:e.formStatus?"ยกเลิก":"ปิด",btnClass:"btn-outline-dark w-32 mx-2",onOnClick:t[10]||(t[10]=s=>i.closeModal())},null,8,["text"])])]),default:n(()=>[l("div",je,[l("div",Fe,[l("div",Ye,[Ge,l("div",He,[a(B,{disabled:!e.formStatus,modelValue:e.dashboardPayload.name,"onUpdate:modelValue":t[7]||(t[7]=s=>e.dashboardPayload.name=s),classInput:"border border-gray-400 w-[275px]"},null,8,["disabled","modelValue"])])])]),l("div",Qe,[l("div",qe,[Je,l("div",Ke,[(r(!0),d(v,null,y(e.radioOptions,(s,c)=>(r(),d("div",{key:c},[a(D,{label:s.label,class:"mb-5",modelValue:e.dashboardPayload.public,"onUpdate:modelValue":t[8]||(t[8]=b=>e.dashboardPayload.public=b),activeClass:s.activeClass,value:s.value,disabled:!e.formStatus},null,8,["label","modelValue","activeClass","value","disabled"])]))),128))])])]),l("div",We,[Xe,l("table",Ze,[$e,(r(!0),d(v,null,y(e.userRoleDisplay,(s,c)=>(r(),d(v,{key:c},[(r(!0),d(v,null,y(s,(b,P)=>(r(),d("tr",{key:P,class:fe({"bg-gray-200":i.countIndex(c,P)%2===0}),style:{"border-bottom":"1px solid lightgrey"}},[l("td",et,S(b.name),1),l("td",tt,[a(x,{icon:"fa6-solid:trash-can",class:"flex justify-center text-red-500 cursor-pointer",onClick:Qt=>i.deleteRole(b.item_id)},null,8,["onClick"])])],2))),128))],64))),128))])]),l("div",st,[lt,a(p,{type:"button",icon:"ic:baseline-plus",text:"เพิ่มบทบาทผู้ใช้งาน",onClick:i.addRole,btnClass:"btn-primary w-40 font-medium mx-2"},null,8,["onClick"])])])]),_:1},8,["title","activeModal"])):h("",!0),e.isShowModalDetail?(r(),_(I,{key:1,title:e.modalTitle,activeModal:e.isShowModalDetail,"onEvent:closeModal":t[15]||(t[15]=s=>e.isShowModalDetail=!1),label:"",labelClass:"btn-outline-dark",sizeClass:"w-2/4",centered:""},{footer:n(()=>[l("div",ht,[e.formStatus?(r(),_(p,{key:0,text:"บันทึก",btnClass:"btn-primary w-32 mx-2",onOnClick:t[13]||(t[13]=s=>i.onAcceptSwitch())})):h("",!0),a(p,{text:e.formStatus?"ยกเลิก":"ปิด",btnClass:"btn-outline-dark w-32 mx-2",onOnClick:t[14]||(t[14]=s=>i.closeModal())},null,8,["text"])])]),default:n(()=>[l("div",at,[l("div",it,[l("div",rt,[nt,l("div",dt,[a(B,{disabled:!e.formStatus,classInput:"border border-gray-400 w-[275px]"},null,8,["disabled"])])])]),l("div",ut,[l("div",ct,[pt,l("div",mt,[(r(!0),d(v,null,y(e.radioOptions,(s,c)=>(r(),d("div",{key:c},[a(D,{label:s.label,class:"mb-5",modelValue:e.radioOption,"onUpdate:modelValue":t[12]||(t[12]=b=>e.radioOption=b),activeClass:s.activeClass,value:s.value,disabled:!e.formStatus},null,8,["label","modelValue","activeClass","value","disabled"])]))),128))])])])])]),_:1},8,["title","activeModal"])):h("",!0),e.isShowModalCreateBookNumber?(r(),_(I,{key:2,title:"ยอมรับหนังสือ x เรื่อง",activeModal:e.isShowModalCreateBookNumber,"onEvent:closeModal":t[23]||(t[23]=s=>e.isShowModalCreateBookNumber=!1),label:"",labelClass:"btn-outline-dark",sizeClass:"w-full max-w-[700px]",centered:""},{footer:n(()=>[l("div",At,[e.BookNumberStatus?h("",!0):(r(),_(p,{key:0,text:"ออกเลขหนังสือ (x)",btnClass:"btn-primary w-32 mx-2",onOnClick:t[21]||(t[21]=s=>i.onAcceptMange())})),a(p,{text:e.BookNumberStatus?"กลับไปหน้ารายการ":"ยกเลิก",btnClass:"btn-outline-dark w-32 mx-2",onOnClick:t[22]||(t[22]=s=>i.closeModal())},null,8,["text"])])]),default:n(()=>[e.BookNumberStatus?(r(),d("div",Vt,[a(V,{columns:e.BookNumbercolumns,styleClass:" vgt-table bordered lesspadding2",rows:e.BookNumberTable,"search-options":{enabled:!0,externalQuery:e.searchTerm},"sort-options":{enabled:!1}},{emptystate:n(()=>[Bt]),"table-row":n(s=>[s.column.field=="receiveNumber"?(r(),d("span",Et,[l("div",Nt,S(s.row.receiveNumber),1)])):h("",!0)]),"pagination-bottom":n(s=>[l("div",Pt,[a(T,{total:e.paginate.total,current:e.paginate.current_page,"per-page":e.paginate.perpage,pageRange:e.paginate.pageRange,onPageChanged:t[20]||(t[20]=c=>i.changePage(c)),pageChanged:s.pageChanged,perPageChanged:s.perPageChanged,textAfterInput:"ไปที่หน้า",enableSearch:"",enableInput:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","search-options"])])):(r(),d("div",ft,[l("div",xt,[l("div",_t,[bt,l("div",vt,[(r(!0),d(v,null,y(e.typeReceiveOptions,(s,c)=>(r(),d("div",{key:c},[a(D,{label:s.label,class:"mb-5",modelValue:e.typeReceiveOption,"onUpdate:modelValue":t[16]||(t[16]=b=>e.typeReceiveOption=b),activeClass:s.activeClass,value:s.value},null,8,["label","modelValue","activeClass","value"])]))),128))])])]),l("div",gt,[l("div",yt,[wt,l("div",Ct,[l("div",St,[a(E,{placeholder:"",name:"detail",classInput:"border border-gray-400 w-[275px] text_area_bg"}),l("div",Mt,[kt,a(k,{classInput:"input_color"},{default:n(()=>[a(M,{modelValue:e.searchOption,"onUpdate:modelValue":t[17]||(t[17]=s=>e.searchOption=s),label:"title",class:"input_color border rounded",reduce:s=>s.id,options:e.searchOptions},null,8,["modelValue","reduce","options"])]),_:1})])])])])]),l("div",Dt,[l("div",It,[Rt,l("div",Ot,[(r(!0),d(v,null,y(e.createBookRegisterOptions,(s,c)=>(r(),d("div",{key:c},[a(D,{label:s.label,class:"mb-5",modelValue:e.createBookRegisterOption,"onUpdate:modelValue":t[18]||(t[18]=b=>e.createBookRegisterOption=b),activeClass:s.activeClass,value:s.value},null,8,["label","modelValue","activeClass","value"])]))),128))]),l("div",Tt,[a(k,{classInput:"input_color"},{default:n(()=>[a(M,{modelValue:e.registerTypeOption,"onUpdate:modelValue":t[19]||(t[19]=s=>e.registerTypeOption=s),label:"title",class:"input_color border rounded",reduce:s=>s.id,options:e.registerTypeOptions},null,8,["modelValue","reduce","options"])]),_:1})])])])]))]),_:1},8,["activeModal"])):h("",!0),e.isShowModalReturnBook?(r(),_(I,{key:3,title:"คืนหนังสือ x เรื่อง",activeModal:e.isShowModalReturnBook,"onEvent:closeModal":t[26]||(t[26]=s=>e.isShowModalReturnBook=!1),label:"",labelClass:"btn-outline-dark",sizeClass:"w-full max-w-[700px]",centered:""},{footer:n(()=>[l("div",jt,[e.formStatus?(r(),_(p,{key:0,text:"คืนหนังสือ",btnClass:"btn-primary w-32 mx-2",onOnClick:t[24]||(t[24]=s=>i.onAcceptSwitch())})):h("",!0),a(p,{text:"ยกเลิก",btnClass:"btn-outline-dark w-32 mx-2",onOnClick:t[25]||(t[25]=s=>i.closeModal())})])]),default:n(()=>[l("div",Ut,[Lt,l("div",zt,[a(E,{placeholder:"",name:"detail",classInput:"border border-gray-400 text_area_bg p-3",rows:"4"})])])]),_:1},8,["activeModal"])):h("",!0),a(L,{title:"ยืนยันการเปิด/ปิดใช้งานรายงาน",isOpen:e.isShowDialogSwitch,modalId:e.modalId,status:e.modalStatus,"onEvent:close":i.onCloseStatus,"onEvent:success":i.onChangeStatus},null,8,["isOpen","modalId","status","onEvent:close","onEvent:success"]),a(N,{title:"เปิด/ปิดใช้งานรายงาน",isOpen:e.isSuccess,"onEvent:closeModal":t[27]||(t[27]=s=>e.isSuccess=!1)},{default:n(()=>[Ft]),_:1},8,["isOpen"]),a(z,{title:"ยืนยันการลบข้อมูล",isOpen:e.isShowModalDelete,modalId:e.modalId,errorMessage:e.errorMessage,"onEvent:delete":i.onDelete,"onEvent:close":i.clearModal,"onEvent:success":i.clearModal},null,8,["isOpen","modalId","errorMessage","onEvent:delete","onEvent:close","onEvent:success"]),a(N,{title:"ยืนยันการลบข้อมูล",isOpen:e.isModalDeleteSuccess,"onEvent:closeModal":t[28]||(t[28]=s=>e.isModalDeleteSuccess=!1)},{default:n(()=>[Yt]),_:1},8,["isOpen"]),a(j,{title:"ลบข้อมูล",isOpen:e.isModalDeleteError,"onEvent:closeModal":t[29]||(t[29]=s=>e.isModalDeleteError=!1)},{default:n(()=>[l("h4",Gt,S(e.errorMessage),1)]),_:1},8,["isOpen"]),a(F,{isOpen:e.openModalRole,items:e.roleList,value:e.userRole,"onEvent:closeModal":t[30]||(t[30]=s=>i.onClosemodal()),"onEvent:acceptSelectOrganize":t[31]||(t[31]=s=>i.onClosemodal()),"onEvent:onSelectedItem":i.onSelectedItemRole},null,8,["isOpen","items","value","onEvent:onSelectedItem"])])}const Ts=le(xe,[["render",Ht]]);export{Ts as default};
