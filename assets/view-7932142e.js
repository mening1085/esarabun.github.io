import{s as g}from"./showOrg-16ac930f.js";import{C as A}from"./index-cb5a08aa.js";import{I as F}from"./index-8d30ace7.js";import{B as R}from"./index-c2d6eb9c.js";import{E}from"./index-360221be.js";import{D as O}from"./index-976a2577.js";import{C as I,B as P,A as V,a as Y,b as j,R as H}from"./RouteDetail-d06baee9.js";import{M as N}from"./index-b704274e.js";import{A as z}from"./AttachedFileStamp-6d1dcfc6.js";import{_ as T,t as f,g as q,a as _}from"./index-f91482a0.js";import{d as G}from"./dayjs.min-472eb357.js";import{o as J,x as s,bj as h,m,n as l,aF as o,as as n,p as a,aT as p}from"./preload-helper-f37a9bec.js";import"./TextValid-d1c607fc.js";import"./VueSelect-403231fd.js";import"./index-3e8503e7.js";import"./vue-cleave.min-df5c8cc9.js";import"./index-fdd62298.js";import"./Modal-b54f1b5f.js";import"./transition-be7c09bc.js";import"./dom-b10fc197.js";import"./hidden-800255f5.js";import"./focus-management-94a631f4.js";import"./micro-task-89dcd6af.js";import"./open-closed-75edfb8a.js";import"./use-outside-click-156e41c1.js";import"./index-325a54cb.js";import"./ck-white-3501111f.js";import"./tabs-cf3e0d3b.js";import"./use-resolve-button-type-d7bee841.js";import"./index-60fb4808.js";import"./vue3-tree-vue.esm-0dbd4492.js";import"./index-e163c14d.js";import"./index-8ecfca6d.js";import"./iconify-2baafea4.js";import"./index-f32159fc.js";const K={name:"ReceiveView",components:{Card:A,Icon:F,Button:R,Expansion:E,Dropdown:O,CoverSheet:I,BookDetail:P,AttachedFile:V,BookReference:Y,Activity:j,RouteDetail:H,AttachedFileStamp:z,Modal:N,showOrg:g},data(){return{isOpen:!1,pdfPath:"",urlSarabun:f,item:null,isSuccess:!1,isError:!1,isSigned:!1,pinError:""}},created(){this.fetchData()},computed:{isMobile(){return q().isMobile}},methods:{async pdfHistory(){const{data:t,status:i}=await _("documentStore","PDFHistory",{payload:this.$route.params.id});i==200&&(console.log("data pdf",t.result),this.pdfPath=t.result,this.isOpen=!0)},async fetchData(){console.log("fetchData");const{data:t,status:i}=await _("documentStore","showReceived",{payload:this.$route.params.id});i===200&&(this.item=t.result)},convertDate(t){return t?G(t).locale("th").add(543,"year").format("DD/MM/YYYY"):"-"},downloadFileDocument(t){console.log(t)},downloadFile(t){const i=f+t;window.open(i,"_blank")}}},L={class:"flex items-center gap-3"},Q=a("div",null,"กลับไปหน้ารายการ",-1),U={class:"md:text-2xl text-[16px] font-medium my-6"},W=["src"];function X(t,i,Z,$,e,r){const v=o("Icon"),y=o("CoverSheet"),k=o("BookDetail"),D=o("AttachedFileStamp"),b=o("AttachedFile"),w=o("BookReference"),x=o("Activity"),C=o("RouteDetail"),M=o("showOrg"),B=o("Card"),S=o("Modal");return n(),J("div",null,[s(B,null,{default:h(()=>{var c,d,u;return[a("div",L,[a("div",{onClick:i[0]||(i[0]=ee=>t.$router.back()),class:"flex items-center text-primary-600 cursor-pointer"},[s(v,{icon:"mdi:chevron-left",class:"text-xl"}),Q])]),a("div",U," วันที่ "+p(r.convertDate((c=e.item)==null?void 0:c.document_date))+" "+p((d=e.item)==null?void 0:d.subject)+" พ.ศ. "+p((u=e.item)==null?void 0:u.year),1),s(y,{item:e.item},null,8,["item"]),s(k,{item:e.item},null,8,["item"]),s(D,{item:e.item},null,8,["item"]),r.isMobile?l("",!0):(n(),m(b,{key:0,item:e.item},null,8,["item"])),r.isMobile?l("",!0):(n(),m(w,{key:1,item:e.item},null,8,["item"])),r.isMobile?l("",!0):(n(),m(x,{key:2,item:e.item,"onEvent:onClick":r.pdfHistory},null,8,["item","onEvent:onClick"])),r.isMobile?l("",!0):(n(),m(C,{key:3,item:e.item},null,8,["item"])),s(M,{item:e.item},null,8,["item"])]}),_:1}),e.isOpen?(n(),m(S,{key:0,title:"ดูรายละเอียดเอกสาร",labelClass:"btn-outline-dark",sizeClass:"w-3/4",label:"",centered:"",activeModal:e.isOpen,"onEvent:closeModal":i[1]||(i[1]=c=>e.isOpen=!1)},{default:h(()=>[a("div",null,[a("iframe",{class:"w-full h-[1000px] mt-4",src:"data:application/pdf;base64, "+e.pdfPath,frameborder:"0"},null,8,W)])]),_:1},8,["activeModal"])):l("",!0)])}const Ve=T(K,[["render",X]]);export{Ve as default};
