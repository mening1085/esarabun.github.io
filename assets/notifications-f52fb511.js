import{D as Y}from"./index-090a8953.js";import{C as B}from"./index-263882d1.js";import{I as N}from"./index-72ee420c.js";import{P}from"./index-bb139ada.js";import{g as C,_ as j,a as h}from"./index-e058a960.js";import{M as H}from"./index-7dc8252b.js";import{M as L}from"./Modal-19eb68c4.js";import{B as F}from"./index-441935dc.js";import{M as z}from"./index-2a7f4259.js";import{T as G}from"./index-9078ba5b.js";import{A as D}from"./index-2bf9679a.js";import{V as E,C as q}from"./VueSelect-4c8519b3.js";import{d as I}from"./dayjs.min-72c81edc.js";import{k as V,as as o,o as a,p as t,x as l,a$ as O,aT as b,n as S,aA as p,al as U,be as J,bj as x,F as g,aD as y,aF as u,m as K,ac as Q,aa as R}from"./preload-helper-9e0646ca.js";import{l as W,a as X,n as Z,r as $,u as tt}from"./tabs-aa384b53.js";import"./dom-891ac6c3.js";import"./focus-management-e6c5d1fd.js";import"./open-closed-486d85f0.js";import"./use-resolve-button-type-38f1f99a.js";import"./use-outside-click-a758fdce.js";import"./iconify-4e42c13d.js";import"./index-7e9b1d19.js";import"./index-1b218db3.js";import"./transition-39b574f4.js";import"./hidden-11a9ab9d.js";import"./micro-task-89dcd6af.js";const et={class:"text-center py-3 px-3 md:px-0 border-b"},st={class:"flex gap-3 justify-between"},ot={class:"flex gap-3 items-center"},at={class:"h-[50px] w-[50px]"},rt={class:"text-left"},it={class:"text-[12px] md:text-[16px]"},nt={key:0,class:"bg-gray-700 text-white text-center rounded-md text-[12px] md:text-[16px] px-2"},dt=["innerHTML"],lt={class:"text-end text-[12px] md:text-[16px]"},ct={__name:"ItemNoti",props:{item:{type:Object,required:!0},activity:{type:Boolean,default:!1}},setup(n){V(()=>C().isMobile);const d=_=>_?I(_).locale("th").add(543,"year").format("DD MMM YYYY HH:mm"):"-";return(_,s)=>{var v,c;return o(),a("div",et,[t("div",st,[t("div",ot,[t("div",at,[l(O(D),{image:((c=(v=n.item)==null?void 0:v.actioner)==null?void 0:c.profile_image)??"profile-1"},null,8,["image"])]),t("div",rt,[t("div",it,b(n.item.topic),1),n.activity?S("",!0):(o(),a("div",nt,b(n.item.topic),1)),t("div",{innerHTML:n.item.detail,class:"text-[12px] md:text-[16px]"},null,8,dt)])]),t("div",null,[t("div",lt,b(d(n.item.created_at)),1)])])])}}};const mt={components:{ModalError:z,Button:F,Modal:L,ModalSuccess:H,Pagination:P,Dropdown:Y,Icon:N,Card:B,Tooltip:G,Avatar:D,TabGroup:W,TabList:X,Tab:Z,TabPanels:$,TabPanel:tt,VueSelect:E,vSelect:q,ItemNoti:ct},setup(){const n=p([]),d=p([]),_=p(0),s=p(0),v=p([{title:"ที่ต้องดำเนินการ"},{title:"กิจกรรม"}]);let c=p("");const w=p([{title:"ทุกระบบ",value:""},{title:"ระบบการประชุมอิเล็กทรอนิกส์",value:"e-meeting"},{title:"ระบบสารบรรณอิเล็กทรอนิกส์",value:"e-sarabun"},{title:"ระบบบริหารเอกสารอิเล็กทรอนิกส์",value:"e-document"}]),T=V(()=>C().isMobile);U(async()=>{const{data:i,status:r}=await h("notificationStore","getProcess");r==200&&(console.log("notification",i.result),d.value=i.result.process_false,n.value=i.result.process_true)});const k=i=>i?I(i).locale("th").add(543,"year").format("DD MMM YYYY HH:mm"):"-",f=async i=>{if(console.log(c.value),s.value=i,s.value==0){const{data:r,status:e}=await h("notificationStore","getProcess",{payload:{system:c.value}});e==200&&(console.log("notification",r.result),d.value=r.result.process_false,n.value=r.result.process_true)}else{const{data:r,status:e}=await h("notificationStore","getActivity",{payload:{system:c.value}});e==200&&(console.log("notification",r.result),d.value=r.result.activity_false,n.value=r.result.activity_true)}},M=async()=>{console.log("read all");const{data:i,status:r}=await h("notificationStore","readAll");r==200&&console.log("read all",i.message)};return J(()=>c.value,i=>{console.log("newSystem",i),f(s.value)}),{selected:_,selectedTab:s,buttons:v,previous:n,latest:d,systems:w,system:c,isMobile:T,readAll:M,changeTab:f,convertDateTime:k}}},pt={class:"md:border border-0 border-gray-5002 rounded-md md:bg-white bg-transparent md:p-3 p-0"},xt={class:"flex justify-between items-center mt-4 bg-white md:bg-transparent -mx-3 md:mx-0 border-t md:border-t-0 px-2 md:px-0"},ut={class:"basis-1/2"},_t={class:"ell-1 capitalize md:text-[14px] text-[12px]"},bt={class:"ell-1 capitalize text-primary-500 md:text-[16px] text-[12px]"},vt={key:0,class:"-mx-3 md:mx-0"},gt={class:"mt-5"},yt=t("div",{class:"text-[12px] md:text-[16px] px-3 md:px-0"},"มาใหม่",-1),ft={class:"md:border border-0 border-gray-5002 rounded-md md:bg-white bg-transparent md:p-3 p-0"},ht={key:0,class:"text-center text-[12px] md:text-[16px] bg-white md:bg-transparent py-2 md:py-0"},wt={class:"mt-5"},Tt=t("div",{class:"text-[12px] md:text-[16px] px-3 md:px-0"},"ก่อนหน้านี้",-1),kt={class:"md:border border-0 border-gray-5002 rounded-md md:bg-white bg-transparent md:p-3 p-0"},Mt={key:0,class:"text-center text-[12px] md:text-[16px] bg-white md:bg-transparent py-2 md:py-0"},St={key:1,class:"-mx-3 md:mx-0"},Ct={class:"mt-5"},Dt=t("div",{class:"text-[12px] md:text-[16px] px-3 md:px-0"},"มาใหม่",-1),It={class:"md:border border-0 border-gray-5002 rounded-md md:bg-white bg-transparent md:p-3 p-0"},Vt={key:0,class:"text-center text-[12px] md:text-[16px] bg-white md:bg-transparent py-2 md:py-0"},At={class:"mt-5"},Yt=t("div",{class:"text-[12px] md:text-[16px] px-3 md:px-0"},"ก่อนหน้านี้",-1),Bt={class:"md:border border-0 border-gray-5002 rounded-md md:bg-white bg-transparent md:p-3 p-0"},Nt={key:0,class:"text-center text-[12px] md:text-[16px] bg-white md:bg-transparent py-2 md:py-0"};function Pt(n,d,_,s,v,c){const w=u("Tab"),T=u("TabList"),k=u("TabGroup"),f=u("Icon"),M=u("vSelect"),i=u("VueSelect"),r=u("ItemNoti");return o(),a("div",null,[t("div",null,[t("div",pt,[l(k,{selectedIndex:s.selectedTab,onChange:s.changeTab},{default:x(()=>[l(T,{class:"border-b flex justify-center"},{default:x(()=>[(o(!0),a(g,null,y(s.buttons,(e,m)=>(o(),K(w,{as:"template",key:m,class:"px-3 basis-1/2 outline-none focus:outline-none focus:right-0 cursor-pointer"},{default:x(({selected:A})=>[t("div",{class:Q([[A?"border-b-2 border-primary-500":""],"text-center"])},b(e.title),3)]),_:2},1024))),128))]),_:1})]),_:1},8,["selectedIndex","onChange"]),t("div",xt,[t("div",ut,[l(i,{class:"flex-1 custom_vselect rounded-lg border-none md:w-[250px] w-full h-[30px] md:h-[40px] flex items-center"},{default:x(()=>[l(M,{class:"md:bg-white bg-transparent rounded-lg custom_vselect w-full border-0",options:s.systems,reduce:e=>e.value,label:"title",modelValue:s.system,"onUpdate:modelValue":d[0]||(d[0]=e=>s.system=e),clearable:!1},{option:x(({title:e})=>[t("div",_t,b(e),1)]),"selected-option":x(({title:e})=>[t("div",bt,b(e),1)]),"open-indicator":x(({attributes:e})=>[t("span",R(e,{class:"custom__select__icon"}),[l(f,{icon:"octicon:chevron-down-16",class:"text-[26px] text-primary-500"})],16)]),_:1},8,["options","reduce","modelValue"])]),_:1})]),t("div",{class:"text-primary-500 hover:underline pointer py-3 basis-1/2 text-right text-[12px] md:text-[16px]",onClick:d[1]||(d[1]=(...e)=>s.readAll&&s.readAll(...e))}," ทำเครื่องหมายอ่านแล้ว ")])])]),s.selectedTab==0?(o(),a("div",vt,[t("div",gt,[yt,t("div",ft,[s.latest.length==0?(o(),a("div",ht," ไม่มีแจ้งเตือน ")):(o(!0),a(g,{key:1},y(s.latest,(e,m)=>(o(),a("div",{key:m},[l(r,{item:e},null,8,["item"])]))),128))])]),t("div",wt,[Tt,t("div",kt,[s.previous.length==0?(o(),a("div",Mt," ไม่มีแจ้งเตือน ")):(o(!0),a(g,{key:1},y(s.previous,(e,m)=>(o(),a("div",{key:m,class:"bg-white"},[l(r,{item:e},null,8,["item"])]))),128))])])])):S("",!0),s.selectedTab==1?(o(),a("div",St,[t("div",Ct,[Dt,t("div",It,[s.latest.length==0?(o(),a("div",Vt," ไม่มีแจ้งเตือน ")):(o(!0),a(g,{key:1},y(s.latest,(e,m)=>(o(),a("div",{key:m},[l(r,{item:e},null,8,["item"])]))),128))])]),t("div",At,[Yt,t("div",Bt,[s.previous.length==0?(o(),a("div",Nt," ไม่มีแจ้งเตือน ")):(o(!0),a(g,{key:1},y(s.previous,(e,m)=>(o(),a("div",{key:m,class:"bg-white"},[l(r,{activity:"",item:e},null,8,["item"])]))),128))])])])):S("",!0)])}const de=j(mt,[["render",Pt]]);export{de as default};
