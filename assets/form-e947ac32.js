import{S as hn,E as qn,M as wn,a as Cn}from"./garudaLogo1-59819407.js";import{C as Tn}from"./index-263882d1.js";import{V as On,C as Vn}from"./VueSelect-4c8519b3.js";import{M as zn}from"./Modal-19eb68c4.js";import{R as Dn}from"./index-3069c0b6.js";import{B as Sn}from"./index-441935dc.js";import{I as Bn}from"./index-72ee420c.js";import{I as In}from"./index-a60d9262.js";import{T as Fn}from"./index-ce9a51c5.js";import{T as jn}from"./index-31d1a8ca.js";import{u as En,a as _}from"./vee-validate.esm-0c282d04.js";import{aA as u,ay as Rn,k as Fo,al as Ln,be as Y,o as g,x as d,bj as j,m as R,n as T,aF as x,as as b,p as a,bo as pt,aT as L,F as ue,aD as _e,ac as Wo,bl as Un,bb as An,w as I}from"./preload-helper-9e0646ca.js";import{c as U,a as r,f as Xo}from"./array-e684e252.js";import{C as Nn}from"./index-8994827d.js";import{_ as Yn,a as xo,u as Pn,g as bt,c as Hn}from"./index-e058a960.js";import{d as Ae}from"./dayjs.min-72c81edc.js";import{M as Jn,B as Gn,a as Kn,b as Qn,c as Wn,d as Xn,e as Zn,f as $n,g as es,h as os,i as ls}from"./BookMeetingReport-f27f8682.js";import{M as as}from"./index-fb54ce14.js";import{M as ts}from"./index-86a58ede.js";import{S as ns}from"./index-a1f0ab8a.js";import{T as ss}from"./TextValid-100be459.js";import{M as rs}from"./index-2a7f4259.js";import{M as ds}from"./index-92c84577.js";import{T as is}from"./index-9078ba5b.js";import{N as us}from"./index-cc7a2b4b.js";import{a as _s,s as vs,c as Zo,l as ct}from"./select-option-b2a02578.js";import{C as ps}from"./index-2d8ae848.js";import"./index-1b218db3.js";import"./transition-39b574f4.js";import"./dom-891ac6c3.js";import"./hidden-11a9ab9d.js";import"./focus-management-e6c5d1fd.js";import"./micro-task-89dcd6af.js";import"./open-closed-486d85f0.js";import"./use-outside-click-a758fdce.js";import"./tabs-aa384b53.js";import"./use-resolve-button-type-38f1f99a.js";import"./index-bb139ada.js";import"./index-7e9b1d19.js";import"./iconify-4e42c13d.js";import"./vue-cleave.min-9e1201c2.js";import"./ck-white-7280cd79.js";import"./vue3-tree-vue.esm-b89ac387.js";import"./checkbox-2f45272f.js";const bs={components:{ScannerModal:hn,ModalOrganizeAll:ts,CFlatPickr:ps,TextValid:ss,Button:Sn,Icon:Bn,Textinput:jn,InputGroup:In,Textarea:Fn,Card:Tn,VueSelect:On,vSelect:Vn,Modal:zn,Radio:Dn,Editor:qn,Checkbox:Nn,ModalOrganizeOut:Jn,ModalOrganizeIn:as,ModalOrganizeUser:wn,ModalBookRef:Cn,Stepper:ns,ModalError:rs,BookOut:Gn,BookSaveText:Kn,BookStamp:Qn,BookRegulation:Wn,BookRule:Xn,BookAnounc:Zn,BookDeclaration:$n,BookNews:es,BookCertificate:os,BookMeetingReport:ls,ModalRole:ds,NavigationPath:us,Tooltip:is},data(){return{plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | styleselect | fontsizeselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullscreen | forecolor backcolor emoticons | help"}},setup(){const qe=u(""),s=u(!1),jo=u(!1),o=u(!1),Mo=u([]),Eo=u(!1),ho=u([]),A=u([]),S=u([]),D=u(!1),De=u(""),Ne=u(!1),N=u(!1),H=u(""),Q=u(""),ve=u(""),Ye=u([]),Se=u([]),ie=u(!1),J=u(""),Be=u(""),Pe=u(""),He=u(""),Je=u([]),qo=u(Zo),pe=u(Zo),Ie=u(""),we=u(""),be=u([]),Ge=u([]),Ke=u([]),Ce=u([]),ce=u([]),wo=u(null),Te=u([]),me=u([]),fe=u([]),Fe=u([]),Qe=u([]),f=u([]),F=u([]);let n=u([]),C=u([]);const h=Rn({isModalFromOut:!1,isModalFromIn:!1,isModalFromOut:!1,isModalTo:!1,isModalBookRef:!1,isModalBookRelate:!1,isShowDialogPdf:!1,isSuccess:!1,isError:!1}),W=u(""),je=Pn(),Co=u([]),mt=u(""),ft=u([{value:"1",label:"หนังสือภายนอก",title:"หนังสือส่งภายใน - จากสารบรรณกลาง (ลงนามโดย เลขาธิการกรม/รองเลขธิการ)"},{value:"2",label:"หนังสือภายใน",title:"หนังสือส่งภายใน - จากสารบรรณกลาง (ลงนามโดย เลขาธิการกรม/รองเลขธิการ)"},{value:"3",label:"หนังสือเวียน",title:"หนังสือส่งภายใน - จากสารบรรณกลาง (ลงนามโดย เลขาธิการกรม/รองเลขธิการ)"}]),We=u([]),kt=u([{label:"เลขที่หนังสือ",field:"bookNumber"},{label:"หง่วยงาน/บุคคล",field:"organize"},{label:"ชื่อหน่วยงาน/บุคคล",field:"officer"}]),gt=u([{label:"ประเภท",field:"type"},{label:"ชื่อหน่วยงาน/บุคคล",field:"officer"},{label:"จัดการ",field:"action"}]),yt=u([{value:"1",label:"หนังสือภายนอก",title:"หนังสือภายนอก"},{value:"2",label:"หนังสือภายใน",title:"หนังสือภายใน"},{value:"3",label:"หนังสือเวียน",title:"หนังสือเวียน"}]),xt=u([{value:"inside",label:"หนังสือส่งออกภายใน"},{value:"outside",label:"หนังสือส่งออกภายนอก"}]),Mt=u([{value:"1",label:"เอกสารอิเล็กทรอนิกส์"},{value:"2",label:"เอกสารทั่วไป (ส่งฉบับจริง)"}]),G=u("หนังสือภายนอก"),ke=u(ct),ht=u(ct),qt=u([{value:"1",label:"ไปรษณีย์"},{value:"2",label:"ไปรษณีย์อิเท็กทรอนิกส์ (Email)"}]),Ro=u(""),wt=u([{value:!0,label:"สร้าง"},{value:!1,label:"ไม่สร้าง"}]),Lo=u(""),Ct=u([{value:!1,label:"ไม่ติดตาม"},{value:!0,label:"ติดตาม"}]),Ee=u(!1),Tt=u([{value:!1,label:"ไม่มี"},{value:!0,label:"มี"}]),Ot=u([{value:"1",label:"ออกเลขตามลำดับ"},{value:"2",label:"ใช้เลขจอง"},{value:"3",label:"ยังไม่ออกเลข"}]),Vt=u(""),zt=u([{value:1,label:"23"},{value:2,label:"24"}]);let $o=[{id:1,title:"ข้อมูลเบื้องต้น"},{id:2,title:"รูปแบบหนังสือ/นำเสนอ"},{id:3,title:"ยื่นเสนอลงนาม"}],ge=u(0),To=u(!1);const Uo=u(null),el=Fo(()=>bt().accept_document),ol=Fo(()=>{var l;return(l=bt().acceptList[1])==null?void 0:l.file_size_limit});let Dt=el.value.split(", "),X=U().shape({draft_role_id:r().nullable().required("กรุณาเลือกสำหรับบทบาท"),draft_ref_document:Xo().nullable().required("กรุณาเลือกหนังสือเกี่ยวเนื่อง"),bookDate:r().nullable().required("กรุณากรอกวันที่หนังสือ"),from:r().required("กรุณาเลือกจาก"),subject:r().required("กรุณากรอกเรื่อง"),to_id:r().nullable().required("กรุณาระบุว่าจะส่งหนังสือไปบุคคลใด"),bookType:r().nullable().required("กรุณาเลือกรูปแบบหนังสือ"),bookTypeOption:r().nullable().required("กรุณาเลือกประเภทหนังสือ"),documentTypeOption:r().nullable().required("กรุณาเลือกประเภทเอกสาร"),bookRoute:r().nullable().required("กรุณาเลือกเส้นทางหนังสือ"),objective:r().nullable().required("กรุณาเลือกวัตถุประสงค์"),speed:r().nullable().required("กรุณาเลือกชั้นความเร็ว"),secret:r().nullable().required("กรุณาเลือกชั้นความลับ"),postmalone:r().nullable().required("กรุณาเลือกวิธีนำส่งหนังสือ")}),St=U().shape({offer:r().nullable().required("เลขทะเบียนหนังสือ")});const Bt=Fo(()=>{switch(ge.value){case 0:let l=U().shape({checkAttrForm:r().nullable().required("กรุณากรอกเรียน")}),c=U().shape({attn:r().required("กรุณากรอกเรียน")});return ie.value?X=X.concat(l):X=X.concat(c),X;case 1:switch(G.value){case"หนังสือภายนอก":return U().shape({book_pdf_date:r().nullable().required("กรุณากรอกวันที่"),ref_detail:r().nullable(),attachment:r().nullable(),book_pdf_detail:r().nullable().required("กรุณากรอกรายละเอียด"),book_pdf_objective:r().nullable().required("กรุณากรอกวัตถุประสงค์"),book_pdf_full_name:r().nullable().required("กรุณาพิมพ์ชื่อเต็ม"),book_pdf_name:r().nullable().required("กรุณากรอกชื่อผู้ลงชื่อ"),book_pdf_position:r().nullable().required("กรุณากรอกตำแหน่ง"),book_pdf_owner_name:r().nullable().required("กรุณากรอกส่วนของราชการเจ้าของเรื่อง"),book_pdf_tel:r().nullable().required("กรุณากรอกเบอร์โทร"),book_pdf_fax:r().nullable().required("กรุณากรอกเบอร์แฟกซ์"),book_pdf_email:r().nullable().required("กรุณากรอกอีเมล")});case"หนังสือบันทึกข้อความ":return U().shape({book_pdf_government:r().nullable().required("กรุณากรอกส่วนราชการ"),book_pdf_date:r().nullable().required("กรุณากรอกวันที่"),subject:r().nullable(),attn:r().nullable(),book_pdf_detail:r().nullable().required("กรุณากรอกรายละเอียด"),book_pdf_name:r().nullable().required("กรุณาลงชื่อ"),book_pdf_full_name:r().nullable().required("กรุณาลงชื่อเต็ม"),book_pdf_position:r().nullable().required("กรุณากรอกตำแหน่ง")});case"หนังสือตราประทับ":return U().shape({book_pdf_to:r().nullable().required("กรุณากรอกถึง"),book_pdf_detail:r().nullable().required("กรุณากรอกรายละเอียด"),book_pdf_image_stamp:r().nullable().required("กรุณากรอกตราประทับ"),book_pdf_government_name_send:r().nullable().required("กรุณากรอกชื่อส่วนราชการที่ส่งหนังสือ"),book_pdf_government_name_brand:r().nullable().required("กรุณากรอกตราชื่อส่วนราชการ"),book_pdf_date:r().nullable().required("กรุณากรอกวันที่"),book_pdf_full_name:r().nullable().required("กรุณาลงชื่อ"),book_pdf_owner_name:r().nullable().required("กรุณากรอกส่วนของราชการเจ้าของเรื่อง"),book_pdf_tel:r().nullable().required("กรุณากรอกเบอร์โทร")});case"หนังสือระเบียบ":return U().shape({book_pdf_title:r().nullable().required("กรุณากรอกระเบียบ"),book_pdf_about:r().nullable().required("กรุณากรอกรายว่าด้วย"),book_pdf_number:r().nullable().required("กรุณากรอกฉบับที่"),book_pdf_year:r().nullable().required("กรุณากรอก พ.ศ."),book_pdf_regulation_1:r().nullable().required("กรุณากรอกข้อ 1"),book_pdf_regulation_1_year:r().nullable().required("กรุณากรอก พ.ศ. ข้อ 1"),book_pdf_regulation_2:r().nullable().required("กรุณากรอกข้อ 2"),book_pdf_detail_1:r().nullable().required("กรุณากรอกรายละเอียดข้อ"),book_pdf_detail_2:r().nullable().required("กรุณากรอกรายละเอียดข้อ"),book_pdf_date:r().nullable().required("กรุณากรอกประกาศ ณ วันที่"),book_pdf_name:r().nullable().required("กรุณาลงชื่อ"),book_pdf_full_name:r().nullable().required("กรุณาลงชื่อเต็ม"),book_pdf_position:r().nullable().required("กรุณากรอกตำแหน่ง")});case"หนังสือข้อบังคับ":return U().shape({book_pdf_title:r().nullable().required("กรุณากรอข้อบังคับ"),book_pdf_about:r().nullable().required("กรุณากรอกรายว่าด้วย"),book_pdf_number:r().nullable().required("กรุณากรอกฉบับที่"),book_pdf_year:r().nullable().required("กรุณากรอก พ.ศ."),book_pdf_regulation_1:r().nullable().required("กรุณากรอกข้อ 1"),book_pdf_regulation_1_year:r().nullable().required("กรุณากรอก พ.ศ. ข้อ 1"),book_pdf_regulation_2:r().nullable().required("กรุณากรอกข้อ 2"),book_pdf_detail_1:r().nullable().required("กรุณากรอกรายละเอียดข้อ"),book_pdf_detail_2:r().nullable().required("กรุณากรอกรายละเอียดข้อ"),book_pdf_date:r().nullable().required("กรุณากรอกประกาศ ณ วันที่"),book_pdf_name:r().nullable().required("กรุณาลงชื่อ"),book_pdf_full_name:r().nullable().required("กรุณาลงชื่อเต็ม"),book_pdf_position:r().nullable().required("กรุณากรอกตำแหน่ง")});case"หนังสือประกาศ":return U().shape({book_pdf_title:r().nullable().required("กรุณากรอกประกาศ"),subject:r().nullable(),book_pdf_detail:r().nullable().required("กรุณากรอกรายละเอียด"),book_pdf_date:r().nullable().required("กรุณากรอกประกาศ ณ วันที่"),book_pdf_name:r().nullable().required("กรุณาลงชื่อ"),book_pdf_full_name:r().nullable().required("กรุณาลงชื่อเต็ม"),book_pdf_position:r().nullable().required("กรุณากรอกตำแหน่ง")});case"หนังสือแถลงการณ์":return U().shape({book_pdf_title:r().nullable().required("กรุณากรอกแถลงการณ์"),book_pdf_number:r().nullable().required("กรุณากรอกฉบับที่"),book_pdf_detail:r().nullable().required("กรุณากรอกรายละเอียด"),book_pdf_government_announc:r().nullable().required("กรุณากรอกส่วนราชการที่ออกแถลงการณ์"),book_pdf_date:r().nullable().required("กรุณากรอกวันที่")});case"หนังสือข่าว":return U().shape({book_pdf_title:r().nullable().required("กรุณากรอกข่าว"),book_pdf_number:r().nullable().required("กรุณากรอกฉบับที่"),book_pdf_detail:r().nullable().required("กรุณากรอกรายละเอียด"),book_pdf_government_announc:r().nullable().required("กรุณากรอกส่วนราชการที่ออกแถลงการณ์"),book_pdf_date:r().nullable().required("กรุณากรอกวันที่")});case"หนังสือรับรอง":return U().shape({book_pdf_detail:r().nullable().required("กรุณากรอกรายละเอียด"),book_pdf_date:r().nullable().required("กรุณากรอกวันที่"),book_pdf_name:r().nullable().required("กรุณาลงชื่อ"),book_pdf_full_name:r().nullable().required("กรุณาลงชื่อเต็ม"),book_pdf_position:r().nullable().required("กรุณากรอกตำแหน่ง"),book_pdf_image_stamp:r().nullable().required("กรุณากรอกตราประทับ"),book_pdf_certificate_name:r().nullable().required("กรุณาลงชื่อผู้ได้รับการรับรอง"),book_pdf_certificate_full_name:r().nullable().required("กรุณาลงชื่อเต็มผู้ได้รับการรับรอง")});case"หนังสือรายงานการประชุม":return U().shape({book_pdf_title:r().nullable().required("กรุณากรอกรายงานการประชุม"),book_pdf_number:r().nullable().required("กรุณากรอกครั้งที่"),book_pdf_date:r().nullable().required("กรุณากรอกเมื่อ"),book_pdf_location:r().nullable().required("กรุณากรอกสถานที่"),book_pdf_meeting_attendee:r().nullable().required("กรุณากรอกผู้มาประชุม"),book_pdf_start_meeting:r().nullable().required("กรุณากรอกเวลาเริ่มประชุม"),book_pdf_detail:r().nullable().required("กรุณากรอกรายละเอียด"),book_pdf_end_meeting:r().nullable().required("กรุณากรอกเวลาสิ้นสุดประชุม"),book_pdf_meeting_organizer:r().nullable().required("กรุณากรอกผู้จัดรายงานการประชุม")})}case 2:return St;default:return X}}),{handleSubmit:It,resetForm:_i}=En({validationSchema:Bt,keepValuesOnUnmount:!0}),{value:Oo,errorMessage:Ft}=_("draft_role_id"),{value:Vo,errorMessage:jt}=_("draft_ref_document"),{value:Ao,errorMessage:Et}=_("postmalone"),{value:No,errorMessage:Rt}=_("speed"),{value:Re,errorMessage:Lt}=_("secret"),{value:Yo,errorMessage:Ut}=_("objective"),{value:Po,errorMessage:vi}=_("document_number",r().nullable()),{value:Xe,errorMessage:At}=_("bookRoute"),{value:Z,errorMessage:Nt}=_("bookTypeOption"),{value:zo,errorMessage:Yt}=_("documentTypeOption"),{value:Ze,errorMessage:Pt}=_("bookType"),{value:Ho,errorMessage:Ht}=_("bookDate"),{value:Do,errorMessage:Jt}=_("from"),{value:O,errorMessage:Gt}=_("subject"),{value:E,errorMessage:Kt}=_("attn"),{value:ye,errorMessage:Qt}=_("to_id"),{value:Le,errorMessage:Wt}=_("checkAttrForm"),{value:y,errorMessage:pi}=_("book_pdf_at",r().required("กรุณากรอกวันที่")),{value:v,errorMessage:bi}=_("book_pdf_date",r().required("กรุณากรอกวันที่")),{value:Ue,errorMessage:ci}=_("book_pdf_subject",r().required("กรุณากรอกเรื่อง")),{value:Jo,errorMessage:mi}=_("book_pdf_attn",r().required("กรุณากรอกเรียน")),{value:q,errorMessage:Xt}=_("book_pdf_name",r().required("กรุณากรอกชื่อผู้ลงชื่อ")),{value:k,errorMessage:Zt}=_("book_pdf_full_name",r().required("กรุณากรอกชื่อเต็ม")),{value:w,errorMessage:$t}=_("book_pdf_position",r().required("กรุณากรอกตำแหน่ง")),{value:m,errorMessage:fi}=_("book_pdf_detail",r().required("กรุณากรอกรายละเอียด")),{value:$e,errorMessage:ki}=_("book_pdf_objective",r().required("กรุณากรอกคำลงท้าย")),{value:M,errorMessage:en}=_("book_pdf_title"),{value:K,errorMessage:gi}=_("book_pdf_owner_name",r().required("กรุณากรอกส่วนของราชการเจ้าของเรื่อง")),{value:$,errorMessage:yi}=_("book_pdf_tel",r().nullable().required("กรุณากรอกโทร")),{value:eo,errorMessage:xi}=_("book_pdf_fax",r().nullable().required("กรุณากรอกโทรสาร")),{value:ee,errorMessage:Mi}=_("book_pdf_image_stamp"),{value:ll}=_("imageStampPreview"),{value:oo,errorMessage:hi}=_("book_pdf_ref_detail",r().nullable()),{value:lo,errorMessage:qi}=_("book_pdf_attachment",r().nullable()),{value:ao,errorMessage:wi}=_("book_pdf_email",r().nullable().required("กรุณากรอกไปรษณีย์อิเล็กทรอนิกส์")),{value:to,errorMessage:Ci}=_("book_pdf_send_copy",r().nullable()),{value:no,errorMessage:Ti}=_("book_pdf_to"),{value:so,errorMessage:Oi}=_("book_pdf_government_name_send"),{value:ro,errorMessage:Vi}=_("book_pdf_government_name_brand"),{value:io,errorMessage:zi}=_("book_pdf_government"),{value:oe,errorMessage:on}=_("book_pdf_about"),{value:V,errorMessage:ln}=_("book_pdf_number"),{value:le,errorMessage:an}=_("book_pdf_year"),{value:ae,errorMessage:tn}=_("book_pdf_regulation_1"),{value:te,errorMessage:nn}=_("book_pdf_regulation_1_year"),{value:ne,errorMessage:sn}=_("book_pdf_regulation_2"),{value:se,errorMessage:rn}=_("book_pdf_detail_1"),{value:re,errorMessage:dn}=_("book_pdf_detail_2"),{value:de,errorMessage:Di}=_("book_pdf_government_announc"),{value:uo,errorMessage:Si}=_("book_pdf_certificate_name"),{value:_o,errorMessage:Bi}=_("book_pdf_certificate_full_name"),{value:vo,errorMessage:Ii}=_("book_pdf_image"),{value:un}=_("imagePreview"),{value:po,errorMessage:Fi}=_("book_pdf_location"),{value:bo,errorMessage:ji}=_("book_pdf_meeting_attendee"),{value:co,errorMessage:Ei}=_("book_pdf_not_meeting_attendee"),{value:mo,errorMessage:Ri}=_("book_pdf_attendee"),{value:fo,errorMessage:Li}=_("book_pdf_start_meeting"),{value:ko,errorMessage:Ui}=_("book_pdf_end_meeting"),{value:go,errorMessage:Ai}=_("book_pdf_meeting_organizer"),{value:So,errorMessage:_n}=_("offer"),vn=It(async()=>{var z;let l=$o.length;if(ge.value===l-1){let t=new FormData;t.append("is_draft",To.value),t.append("draft_role_id",Oo.value),t.append("draft_ref_document_id",(z=Vo.value)==null?void 0:z.id),t.append("document_flow_id",Xe.value),t.append("document_type",zo.value),t.append("year",W.value),t.append("book_type",Z.value),t.append("document_date",Ho.value),t.append("document_number",Po.value),t.append("from_type",Pe.value),t.append("from_id",Be.value),t.append("is_circular",!!ie.value);let Oe=F.value.map(B=>({attn_type:B.data_type,attn_id:B.data_id})),Ve=f.value.map(B=>({attn_id:B.id}));t.append("document_attn_inside",JSON.stringify(Oe)),t.append("document_attn_outside",JSON.stringify(Ve)),t.append("to_type",He.value),t.append("to_id",ye.value),t.append("subject",O.value),t.append("attn",E.value),t.append("document_objective_id",Yo.value),t.append("document_format",Ze.value),t.append("urgency_level",No.value),t.append("secrecy_level",Re.value),t.append("delivered_type",Ao.value),Te.value.forEach(B=>{t.append("file",B.file)}),t.append("ref_document",JSON.stringify(Ce.value.map(B=>({ref_document_id:B.id})))),t.append("create_qr_code",!!Ro.value),t.append("have_user_ref",!!Ee.value),t.append("ref_user",J.value),t.append("follow_up_document",!!Lo.value),t.append("follow_up_date",Ie.value?Ie.value:"");const Me=G.value;switch(Me){case"หนังสือภายนอก":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_date",v.value?v.value:""),t.append("book_pdf_subject",O.value?O.value:""),t.append("book_pdf_attn",E.value?E.value:""),t.append("book_pdf_ref_detail",oo.value?oo.value:""),t.append("book_pdf_attachment",lo.value?lo.value:""),t.append("book_pdf_detail",m.value?m.value:""),t.append("book_pdf_objective",$e.value?$e.value:""),t.append("book_pdf_name",q.value?q.value:""),t.append("book_pdf_full_name",k.value?k.value:""),t.append("book_pdf_position",w.value?w.value:""),t.append("book_pdf_owner_name",K.value?K.value:""),t.append("book_pdf_tel",$.value?$.value:""),t.append("book_pdf_fax",eo.value?eo.value:""),t.append("book_pdf_email",ao.value?ao.value:""),t.append("book_pdf_send_copy",to.value?to.value:"");break;case"หนังสือบันทึกข้อความ":t.append("book_pdf_government",io.value?io.value:""),t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_date",v.value?v.value:""),t.append("book_pdf_subject",O.value?O.value:""),t.append("book_pdf_attn",E.value?E.value:""),t.append("book_pdf_detail",m.value?m.value:""),t.append("book_pdf_name",q.value?q.value:""),t.append("book_pdf_full_name",k.value?k.value:""),t.append("book_pdf_position",w.value?w.value:"");break;case"หนังสือตราประทับ":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_to",no.value?no.value:""),t.append("book_pdf_detail",m.value?m.value:""),t.append("book_pdf_image_stamp",ee.value?ee.value:""),t.append("book_pdf_government_name_send",so.value?so.value:""),t.append("book_pdf_government_name_brand",ro.value?ro.value:""),t.append("book_pdf_date",v.value?v.value:""),t.append("book_pdf_full_name",k.value?k.value:""),t.append("book_pdf_owner_name",K.value?K.value:""),t.append("book_pdf_tel",$.value?$.value:"");break;case"หนังสือระเบียบ":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_title",M.value?M.value:""),t.append("book_pdf_about",oe.value?oe.value:""),t.append("book_pdf_number",V.value?V.value:""),t.append("book_pdf_year",le.value?le.value:""),t.append("book_pdf_regulation_1",ae.value?ae.value:""),t.append("book_pdf_regulation_1_year",te.value?te.value:""),t.append("book_pdf_regulation_2",ne.value?ne.value:""),t.append("book_pdf_detail_1",se.value?se.value:""),t.append("book_pdf_detail_2",re.value?re.value:""),t.append("book_pdf_date",v.value?v.value:""),t.append("book_pdf_name",q.value?q.value:""),t.append("book_pdf_full_name",k.value?k.value:""),t.append("book_pdf_position",w.value?w.value:"");break;case"หนังสือข้อบังคับ":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_title",M.value?M.value:""),t.append("book_pdf_about",oe.value?oe.value:""),t.append("book_pdf_number",V.value?V.value:""),t.append("book_pdf_year",le.value?le.value:""),t.append("book_pdf_regulation_1",ae.value?ae.value:""),t.append("book_pdf_regulation_1_year",te.value?te.value:""),t.append("book_pdf_regulation_2",ne.value?ne.value:""),t.append("book_pdf_detail_1",se.value?se.value:""),t.append("book_pdf_detail_2",re.value?re.value:""),t.append("book_pdf_date",v.value?v.value:""),t.append("book_pdf_name",q.value?q.value:""),t.append("book_pdf_full_name",k.value?k.value:""),t.append("book_pdf_position",w.value?w.value:"");break;case"หนังสือประกาศ":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_title",M.value?M.value:""),t.append("book_pdf_subject",O.value?O.value:""),t.append("book_pdf_detail",m.value?m.value:""),t.append("book_pdf_date",v.value?v.value:""),t.append("book_pdf_name",q.value?q.value:""),t.append("book_pdf_full_name",k.value?k.value:""),t.append("book_pdf_position",w.value?w.value:"");break;case"หนังสือแถลงการณ์":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_title",M.value?M.value:""),t.append("book_pdf_subject",O.value?O.value:""),t.append("book_pdf_number",V.value?V.value:""),t.append("book_pdf_detail",m.value?m.value:""),t.append("book_pdf_government_announc",de.value?de.value:""),t.append("book_pdf_date",v.value?v.value:"");break;case"หนังสือข่าว":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_title",M.value?M.value:""),t.append("book_pdf_subject",O.value?O.value:""),t.append("book_pdf_number",V.value?V.value:""),t.append("book_pdf_detail",m.value?m.value:""),t.append("book_pdf_government_announc",de.value?de.value:""),t.append("book_pdf_date",v.value?v.value:"");break;case"หนังสือรับรอง":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_detail",m.value?m.value:""),t.append("book_pdf_date",v.value?v.value:""),t.append("book_pdf_name",q.value?q.value:""),t.append("book_pdf_full_name",k.value?k.value:""),t.append("book_pdf_position",w.value?w.value:""),t.append("book_pdf_image",vo.value?vo.value:""),t.append("book_pdf_image_stamp",ee.value?ee.value:""),t.append("book_pdf_certificate_name",uo.value?uo.value:""),t.append("book_pdf_certificate_full_name",_o.value?_o.value:"");break;case"หนังสือรายงานการประชุม":t.append("book_pdf_at",y.value?y.value:""),t.append("book_pdf_title",M.value?M.value:""),t.append("book_pdf_number",V.value?V.value:""),t.append("book_pdf_date",v.value?v.value:""),t.append("book_pdf_location",po.value?po.value:""),t.append("book_pdf_meeting_attendee",bo.value?bo.value:""),t.append("book_pdf_not_meeting_attendee",co.value?co.value:""),t.append("book_pdf_attendee",mo.value?mo.value:""),t.append("book_pdf_start_meeting",fo.value?fo.value:""),t.append("book_pdf_detail",m.value?m.value:""),t.append("book_pdf_end_meeting",ko.value?ko.value:""),t.append("book_pdf_meeting_organizer",go.value?go.value:"");break}if(t.append("have_initial_number",So.value!="ยังไม่ออกเลข"),t.append("initial_number_type",So.value),t.append("reserve_number_id",ve.value),t.append("book_format",Me),je.currentRoute.value.params.id){const B=me.value.length>0?me.value.map(Io=>Io.id):[];t.append("document_attachments",JSON.stringify(B));const{data:P,status:Bo}=await xo("documentSendStore","update",{payload:{id:je.currentRoute.value.params.id,data:t}});Bo===200?(console.log("success",P),h.isSuccess=!0,Uo.value=P==null?void 0:P.result,ge=l-1):(console.log("error"),h.isError=!0,H.value=P==null?void 0:P.message)}else{const{data:B,status:P}=await xo("documentSendStore","store",{payload:t});P===200?(console.log("success",B),ge=l-1,h.isSuccess=!0,Uo.value=B.result):(console.log("error"),H.value=B==null?void 0:B.message)}}else ge.value++});Ln(async()=>{var l,c,z,t,Oe,Ve,Me,B,P,Bo,Io,sl,rl,dl,il,ul,_l,vl,pl,bl,cl,ml,fl,kl,gl,yl,xl,Ml,hl,ql,wl,Cl,Tl,Ol,Vl,zl,Dl,Sl,Bl,Il,Fl,jl,El,Rl,Ll,Ul,Al,Nl,Yl,Pl,Hl,Jl,Gl,Kl,Ql,Wl,Xl,Zl,$l,ea,oa,la,aa,ta,na,sa,ra,da,ia,ua,_a,va,pa,ba,ca,ma,fa,ka,ga,ya,xa,Ma,ha,qa,wa,Ca,Ta,Oa,Va,za,Da,Sa,Ba,Ia,Fa,ja,Ea,Ra,La,Ua,Aa,Na,Ya,Pa,Ha,Ja,Ga,Ka,Qa,Wa,Xa,Za,$a,et,ot,lt,at,tt,nt,st,rt,dt,it,ut,_t;if(je.currentRoute.value.params.id){console.log("edit");const{data:i,status:Ko}=await xo("documentSendStore","edit",{payload:je.currentRoute.value.params.id});if(Ko===200){if(console.log("data",i),Co.value=(bl=i.result)==null?void 0:bl.document_flow_send_list.map(p=>({...p,label:p.flow_name,value:p.id})),o.value=(ml=(cl=i.result)==null?void 0:cl.data)==null?void 0:ml.is_draft_ready,To.value=(kl=(fl=i.result)==null?void 0:fl.data)==null?void 0:kl.is_draft,Oo.value=(yl=(gl=i.result)==null?void 0:gl.data)==null?void 0:yl.draft_role_id,De.value=(Ml=(xl=i.result)==null?void 0:xl.data)!=null&&Ml.draft_role_data?(ql=(hl=i.result)==null?void 0:hl.data)==null?void 0:ql.draft_role_data:"",Vo.value=(Cl=(wl=i.result)==null?void 0:wl.data)!=null&&Cl.draft_ref_documents?(Ol=(Tl=i.result)==null?void 0:Tl.data)==null?void 0:Ol.draft_ref_documents:"",Ne.value=(zl=(Vl=i.result.permission)==null?void 0:Vl.sarabun_role)==null?void 0:zl.can_attach_file,N.value=(Sl=(Dl=i.result.permission)==null?void 0:Dl.sarabun_role)==null?void 0:Sl.can_scan_file,Se.value=(Bl=i.result)==null?void 0:Bl.reserve_number,Ge.value=(Il=i.result)==null?void 0:Il.document_list,Ke.value=(Fl=i.result)==null?void 0:Fl.document_draft_list,fe.value=(jl=i.result)==null?void 0:jl.user_list,Fe.value=(El=i.result)==null?void 0:El.inside_organization,Qe.value=(Rl=i.result)==null?void 0:Rl.outside_organization,Je.value=(Ll=i.result)==null?void 0:Ll.document_objective_list,ie.value=(Al=(Ul=i.result)==null?void 0:Ul.data)==null?void 0:Al.is_circular,Ee.value=(Yl=(Nl=i.result)==null?void 0:Nl.data)==null?void 0:Yl.have_user_ref,J.value=(Hl=(Pl=i.result)==null?void 0:Pl.data)==null?void 0:Hl.ref_user,J.value){let p=fe.value.find(ze=>ze.id==J.value);al(p)}A.value=(Jl=i.result)==null?void 0:Jl.inside_organization,Mo.value=(Gl=i.result)==null?void 0:Gl.user_list,F.value=(Ql=(Kl=i.result)==null?void 0:Kl.data)==null?void 0:Ql.document_attn_inside.map(p=>({data_type:p.attn_type,data_id:p.attn_data.id,name:p.attn_type=="users"?p.attn_data.full_name:p.attn_data.organization_name})),f.value=(Xl=(Wl=i.result)==null?void 0:Wl.data)==null?void 0:Xl.document_attn_outside.map(p=>({id:p.attn_data.id,name:p.attn_data.name,guide_book:p.attn_data.guide_book,address:p.attn_data.address,phone_number:p.attn_data.phone_number,email:p.attn_data.email,enabled:p.attn_data.enabled})),n.value=F.value.filter(p=>p.data_type=="users").map(p=>({data_type:p.data_type,id:p.data_id,name:p.name})),C.value=F.value.filter(p=>p.data_type=="organizations").map(p=>({data_type:p.data_type,id:p.data_id,name:p.name})),Ao.value=($l=(Zl=i.result)==null?void 0:Zl.data)==null?void 0:$l.delivered_type,Xe.value=(oa=(ea=i.result)==null?void 0:ea.data)==null?void 0:oa.document_flow_id,Z.value=(aa=(la=i.result)==null?void 0:la.data)==null?void 0:aa.book_type,zo.value=(na=(ta=i.result)==null?void 0:ta.data)==null?void 0:na.document_type,W.value=(ra=(sa=i.result)==null?void 0:sa.data)==null?void 0:ra.year,Po.value=(ia=(da=i.result)==null?void 0:da.data)==null?void 0:ia.document_number,Ho.value=(_a=(ua=i.result)==null?void 0:ua.data)==null?void 0:_a.document_date,Pe.value=(pa=(va=i.result)==null?void 0:va.data)==null?void 0:pa.from_type,Be.value=(ca=(ba=i.result)==null?void 0:ba.data)==null?void 0:ca.from_id,Do.value=(ka=(fa=(ma=i.result)==null?void 0:ma.data)==null?void 0:fa.from_data)!=null&&ka.name?(xa=(ya=(ga=i.result)==null?void 0:ga.data)==null?void 0:ya.from_data)==null?void 0:xa.name:(qa=(ha=(Ma=i.result)==null?void 0:Ma.data)==null?void 0:ha.from_data)==null?void 0:qa.organization_name,console.log("frommmmmm",Do.value),He.value=(Ca=(wa=i.result)==null?void 0:wa.data)==null?void 0:Ca.to_type,ye.value=(Oa=(Ta=i.result)==null?void 0:Ta.data)==null?void 0:Oa.to_id;let he=fe.value.filter(p=>p.id==ye.value);tl("user",he[0]),O.value=(za=(Va=i.result)==null?void 0:Va.data)==null?void 0:za.subject,E.value=(Sa=(Da=i.result)==null?void 0:Da.data)==null?void 0:Sa.attn,Yo.value=(Ia=(Ba=i.result)==null?void 0:Ba.data)==null?void 0:Ia.document_objective_id,Ze.value=(ja=(Fa=i.result)==null?void 0:Fa.data)==null?void 0:ja.document_format,No.value=(Ra=(Ea=i.result)==null?void 0:Ea.data)==null?void 0:Ra.urgency_level,Re.value=(Ua=(La=i.result)==null?void 0:La.data)==null?void 0:Ua.secrecy_level,Ce.value=(Na=(Aa=i.result)==null?void 0:Aa.data)==null?void 0:Na.ref_document,Ro.value=(Pa=(Ya=i.result)==null?void 0:Ya.data)==null?void 0:Pa.create_qr_code,Lo.value=(Ja=(Ha=i.result)==null?void 0:Ha.data)==null?void 0:Ja.follow_up_document,Ie.value=(Ka=(Ga=i.result)==null?void 0:Ga.data)==null?void 0:Ka.follow_up_date,ce.value=(Wa=(Qa=i.result)==null?void 0:Qa.data)==null?void 0:Wa.document_attachments.map(p=>({name:p.file_name,size:p.file_size,date_input:Ae(p.created_at).locale("th").add(543,"year").format("DD MMM YYYY HH:mm")})),me.value=(Za=(Xa=i.result)==null?void 0:Xa.data)==null?void 0:Za.document_attachments.map(p=>({id:p.id,name:p.file_name,size:p.file_size,date_input:Ae(p.created_at).locale("th").add(543,"year").format("DD MMM YYYY HH:mm")})),(($a=i.result)==null?void 0:$a.sarabun_role_list.length)>0&&(S.value=(et=i.result)==null?void 0:et.sarabun_role_list.map(p=>{function ze(Qo){Qo.children&&(Qo.children=Qo.children.map(vt=>(ze(vt),vt)))}return ze(p),p}));const e=(ot=i.result)==null?void 0:ot.data;e&&(y.value=(e==null?void 0:e.initial_number_from)!=null?e==null?void 0:e.book_pdf_at:(at=(lt=yo.value)==null?void 0:lt.organization)==null?void 0:at.organization_code,v.value=e==null?void 0:e.book_pdf_date,Ue.value=e==null?void 0:e.book_pdf_subject,Jo.value=e==null?void 0:e.book_pdf_attn,oo.value=e==null?void 0:e.book_pdf_ref_detail,lo.value=e==null?void 0:e.book_pdf_attachment,m.value=e==null?void 0:e.book_pdf_detail,$e.value=e==null?void 0:e.book_pdf_objective,q.value=e!=null&&e.book_pdf_name?e==null?void 0:e.book_pdf_name:e==null?void 0:e.book_pdf_full_name,k.value=e==null?void 0:e.book_pdf_full_name,w.value=e==null?void 0:e.book_pdf_position,K.value=e==null?void 0:e.book_pdf_owner_name,$.value=e==null?void 0:e.book_pdf_tel,eo.value=e==null?void 0:e.book_pdf_fax,ao.value=e==null?void 0:e.book_pdf_email,to.value=e==null?void 0:e.book_pdf_send_copy,io.value=e==null?void 0:e.book_pdf_government,y.value=(e==null?void 0:e.initial_number_from)!=null?e==null?void 0:e.book_pdf_at:(nt=(tt=yo.value)==null?void 0:tt.organization)==null?void 0:nt.organization_code,v.value=e==null?void 0:e.book_pdf_date,Ue.value=e==null?void 0:e.book_pdf_subject,Jo.value=e==null?void 0:e.book_pdf_attn,m.value=e==null?void 0:e.book_pdf_detail,q.value=e!=null&&e.book_pdf_name?e==null?void 0:e.book_pdf_name:e==null?void 0:e.book_pdf_full_name,k.value=e==null?void 0:e.book_pdf_full_name,w.value=e==null?void 0:e.book_pdf_position,y.value=(e==null?void 0:e.initial_number_from)!=null?e==null?void 0:e.book_pdf_at:(rt=(st=yo.value)==null?void 0:st.organization)==null?void 0:rt.organization_code,no.value=e==null?void 0:e.book_pdf_to,m.value=e==null?void 0:e.book_pdf_detail,ee.value=e==null?void 0:e.book_pdf_image_stamp,ll.value=e==null?void 0:e.book_pdf_image_stamp,so.value=e==null?void 0:e.book_pdf_government_name_send,ro.value=e==null?void 0:e.book_pdf_government_name_brand,v.value=e==null?void 0:e.book_pdf_date,k.value=e==null?void 0:e.book_pdf_full_name,K.value=e==null?void 0:e.book_pdf_owner_name,$.value=e==null?void 0:e.book_pdf_tel,M.value=e==null?void 0:e.book_pdf_title,oe.value=e==null?void 0:e.book_pdf_about,V.value=e==null?void 0:e.book_pdf_number,le.value=e==null?void 0:e.book_pdf_year,ae.value=e==null?void 0:e.book_pdf_regulation_1,te.value=e==null?void 0:e.book_pdf_regulation_1_year,ne.value=e==null?void 0:e.book_pdf_regulation_2,se.value=e==null?void 0:e.book_pdf_detail_1,re.value=e==null?void 0:e.book_pdf_detail_2,v.value=e==null?void 0:e.book_pdf_date,q.value=e!=null&&e.book_pdf_name?e==null?void 0:e.book_pdf_name:e==null?void 0:e.book_pdf_full_name,k.value=e==null?void 0:e.book_pdf_full_name,w.value=e==null?void 0:e.book_pdf_position,M.value=e==null?void 0:e.book_pdf_title,oe.value=e==null?void 0:e.book_pdf_about,V.value=e==null?void 0:e.book_pdf_number,le.value=e==null?void 0:e.book_pdf_year,ae.value=e==null?void 0:e.book_pdf_regulation_1,te.value=e==null?void 0:e.book_pdf_regulation_1_year,ne.value=e==null?void 0:e.book_pdf_regulation_2,se.value=e==null?void 0:e.book_pdf_detail_1,re.value=e==null?void 0:e.book_pdf_detail_2,v.value=e==null?void 0:e.book_pdf_date,q.value=e!=null&&e.book_pdf_name?e==null?void 0:e.book_pdf_name:e==null?void 0:e.book_pdf_full_name,k.value=e==null?void 0:e.book_pdf_full_name,w.value=e==null?void 0:e.book_pdf_position,M.value=e==null?void 0:e.book_pdf_title,Ue.value=e==null?void 0:e.book_pdf_subject,m.value=e==null?void 0:e.book_pdf_detail,v.value=e==null?void 0:e.book_pdf_date,q.value=e!=null&&e.book_pdf_name?e==null?void 0:e.book_pdf_name:e==null?void 0:e.book_pdf_full_name,k.value=e==null?void 0:e.book_pdf_full_name,w.value=e==null?void 0:e.book_pdf_position,M.value=e==null?void 0:e.book_pdf_title,Ue.value=e==null?void 0:e.book_pdf_subject,V.value=e==null?void 0:e.book_pdf_number,m.value=e==null?void 0:e.book_pdf_detail,de.value=e==null?void 0:e.book_pdf_government_announc,v.value=e==null?void 0:e.book_pdf_date,M.value=e==null?void 0:e.book_pdf_title,Ue.value=e==null?void 0:e.book_pdf_subject,V.value=e==null?void 0:e.book_pdf_number,m.value=e==null?void 0:e.book_pdf_detail,de.value=e==null?void 0:e.book_pdf_government_announc,v.value=e==null?void 0:e.book_pdf_date,y.value=(e==null?void 0:e.initial_number_from)!=null?e==null?void 0:e.book_pdf_at:(it=(dt=yo.value)==null?void 0:dt.organization)==null?void 0:it.organization_code,m.value=e==null?void 0:e.book_pdf_detail,v.value=e==null?void 0:e.book_pdf_date,q.value=e!=null&&e.book_pdf_name?e==null?void 0:e.book_pdf_name:e==null?void 0:e.book_pdf_full_name,k.value=e==null?void 0:e.book_pdf_full_name,w.value=e==null?void 0:e.book_pdf_position,vo.value=e==null?void 0:e.book_pdf_image,un.value=e==null?void 0:e.book_pdf_image,ee.value=e==null?void 0:e.book_pdf_image_stamp,ll.value=e==null?void 0:e.book_pdf_image_stamp,uo.value=e==null?void 0:e.book_pdf_certificate_name,_o.value=e==null?void 0:e.book_pdf_certificate_full_name,M.value=e==null?void 0:e.book_pdf_title,V.value=e==null?void 0:e.book_pdf_number,v.value=e==null?void 0:e.book_pdf_date,po.value=e==null?void 0:e.book_pdf_location,bo.value=e==null?void 0:e.book_pdf_meeting_attendee,co.value=e==null?void 0:e.book_pdf_not_meeting_attendee,mo.value=e==null?void 0:e.book_pdf_attendee,fo.value=e==null?void 0:e.book_pdf_start_meeting,m.value=e==null?void 0:e.book_pdf_detail,ko.value=e==null?void 0:e.book_pdf_end_meeting,go.value=e==null?void 0:e.book_pdf_meeting_organizer),So.value=(_t=(ut=i.result)==null?void 0:ut.data)==null?void 0:_t.initial_number_type}}else{const{data:i,status:Ko}=await xo("documentSendStore","create");Ko==200&&(Mo.value=(l=i.result)==null?void 0:l.user_list,A.value=(c=i.result)==null?void 0:c.inside_organization,ho.value=(z=i.result)==null?void 0:z.custom_groups,((t=i.result)==null?void 0:t.sarabun_role_list.length)>0&&(S.value=(Oe=i.result)==null?void 0:Oe.sarabun_role_list.map(he=>{function e(p){p.children&&(p.children=p.children.map(ze=>(e(ze),ze)))}return e(he),he})),W.value=Ae().locale("th").add(543,"year").format("YYYY"),Co.value=(Ve=i.result)==null?void 0:Ve.document_flow_send_list.map(he=>({...he,label:he.flow_name,value:he.id})),Ne.value=(B=(Me=i.result.permission)==null?void 0:Me.sarabun_role)==null?void 0:B.can_attach_file,N.value=(Bo=(P=i.result.permission)==null?void 0:P.sarabun_role)==null?void 0:Bo.can_scan_file,Se.value=(Io=i.result)==null?void 0:Io.reserve_number,Fe.value=(sl=i.result)==null?void 0:sl.inside_organization,Qe.value=(rl=i.result)==null?void 0:rl.outside_organization,fe.value=(dl=i.result)==null?void 0:dl.user_list,Ge.value=(il=i.result)==null?void 0:il.document_list,Ke.value=(ul=i.result)==null?void 0:ul.document_draft_list,Je.value=(_l=i.result)==null?void 0:_l.document_objective_list,y.value=(pl=(vl=yo.value)==null?void 0:vl.organization)==null?void 0:pl.organization_code)}});const yo=Fo(()=>Hn().userInfo),pn=async()=>{const l=new FormData,c=G.value;switch(c){case"หนังสือภายนอก":l.append("book_pdf_at",y.value?y.value:""),l.append("book_pdf_date",v.value?v.value:""),l.append("book_pdf_subject",O.value?O.value:""),l.append("book_pdf_attn",E.value?E.value:""),l.append("book_pdf_ref_detail",oo.value?oo.value:""),l.append("book_pdf_attachment",lo.value?lo.value:""),l.append("book_pdf_detail",m.value?m.value:""),l.append("book_pdf_objective",$e.value?$e.value:""),l.append("book_pdf_name",q.value?q.value:""),l.append("book_pdf_full_name",k.value?k.value:""),l.append("book_pdf_position",w.value?w.value:""),l.append("book_pdf_owner_name",K.value?K.value:""),l.append("book_pdf_tel",$.value?$.value:""),l.append("book_pdf_fax",eo.value?eo.value:""),l.append("book_pdf_email",ao.value?ao.value:""),l.append("book_pdf_send_copy",to.value?to.value:"");break;case"หนังสือบันทึกข้อความ":l.append("book_pdf_government",io.value?io.value:""),l.append("book_pdf_at",y.value?y.value:""),l.append("book_pdf_date",v.value?v.value:""),l.append("book_pdf_subject",O.value?O.value:""),l.append("book_pdf_attn",E.value?E.value:""),l.append("book_pdf_detail",m.value?m.value:""),l.append("book_pdf_name",q.value?q.value:""),l.append("book_pdf_full_name",k.value?k.value:""),l.append("book_pdf_position",w.value?w.value:"");break;case"หนังสือตราประทับ":l.append("book_pdf_at",y.value?y.value:""),l.append("book_pdf_to",no.value?no.value:""),l.append("book_pdf_detail",m.value?m.value:""),l.append("book_pdf_image_stamp",ee.value?ee.value:""),l.append("book_pdf_government_name_send",so.value?so.value:""),l.append("book_pdf_government_name_brand",ro.value?ro.value:""),l.append("book_pdf_date",v.value?v.value:""),l.append("book_pdf_full_name",k.value?k.value:""),l.append("book_pdf_owner_name",K.value?K.value:""),l.append("book_pdf_tel",$.value?$.value:"");break;case"หนังสือระเบียบ":l.append("book_pdf_title",M.value?M.value:""),l.append("book_pdf_about",oe.value?oe.value:""),l.append("book_pdf_number",V.value?V.value:""),l.append("book_pdf_year",le.value?le.value:""),l.append("book_pdf_regulation_1",ae.value?ae.value:""),l.append("book_pdf_regulation_1_year",te.value?te.value:""),l.append("book_pdf_regulation_2",ne.value?ne.value:""),l.append("book_pdf_detail_1",se.value?se.value:""),l.append("book_pdf_detail_2",re.value?re.value:""),l.append("book_pdf_date",v.value?v.value:""),l.append("book_pdf_name",q.value?q.value:""),l.append("book_pdf_full_name",k.value?k.value:""),l.append("book_pdf_position",w.value?w.value:"");break;case"หนังสือข้อบังคับ":l.append("book_pdf_title",M.value?M.value:""),l.append("book_pdf_about",oe.value?oe.value:""),l.append("book_pdf_number",V.value?V.value:""),l.append("book_pdf_year",le.value?le.value:""),l.append("book_pdf_regulation_1",ae.value?ae.value:""),l.append("book_pdf_regulation_1_year",te.value?te.value:""),l.append("book_pdf_regulation_2",ne.value?ne.value:""),l.append("book_pdf_detail_1",se.value?se.value:""),l.append("book_pdf_detail_2",re.value?re.value:""),l.append("book_pdf_date",v.value?v.value:""),l.append("book_pdf_name",q.value?q.value:""),l.append("book_pdf_full_name",k.value?k.value:""),l.append("book_pdf_position",w.value?w.value:"");break;case"หนังสือประกาศ":l.append("book_pdf_title",M.value?M.value:""),l.append("book_pdf_subject",O.value?O.value:""),l.append("book_pdf_detail",m.value?m.value:""),l.append("book_pdf_date",v.value?v.value:""),l.append("book_pdf_name",q.value?q.value:""),l.append("book_pdf_full_name",k.value?k.value:""),l.append("book_pdf_position",w.value?w.value:"");break;case"หนังสือแถลงการณ์":l.append("book_pdf_title",M.value?M.value:""),l.append("book_pdf_subject",O.value?O.value:""),l.append("book_pdf_number",V.value?V.value:""),l.append("book_pdf_detail",m.value?m.value:""),l.append("book_pdf_government_announc",de.value?de.value:""),l.append("book_pdf_date",v.value?v.value:"");break;case"หนังสือข่าว":l.append("book_pdf_title",M.value?M.value:""),l.append("book_pdf_subject",O.value?O.value:""),l.append("book_pdf_number",V.value?V.value:""),l.append("book_pdf_detail",m.value?m.value:""),l.append("book_pdf_government_announc",de.value?de.value:""),l.append("book_pdf_date",v.value?v.value:"");break;case"หนังสือรับรอง":l.append("book_pdf_at",y.value?y.value:""),l.append("book_pdf_detail",m.value?m.value:""),l.append("book_pdf_date",v.value?v.value:""),l.append("book_pdf_name",q.value?q.value:""),l.append("book_pdf_full_name",k.value?k.value:""),l.append("book_pdf_position",w.value?w.value:""),l.append("book_pdf_image",vo.value?vo.value:""),l.append("book_pdf_image_stamp",ee.value?ee.value:""),l.append("book_pdf_certificate_name",uo.value?uo.value:""),l.append("book_pdf_certificate_full_name",_o.value?_o.value:"");break;case"หนังสือรายงานการประชุม":l.append("book_pdf_title",M.value?M.value:""),l.append("book_pdf_number",V.value?V.value:""),l.append("book_pdf_date",v.value?v.value:""),l.append("book_pdf_location",po.value?po.value:""),l.append("book_pdf_meeting_attendee",bo.value?bo.value:""),l.append("book_pdf_not_meeting_attendee",co.value?co.value:""),l.append("book_pdf_attendee",mo.value?mo.value:""),l.append("book_pdf_start_meeting",fo.value?fo.value:""),l.append("book_pdf_detail",m.value?m.value:""),l.append("book_pdf_end_meeting",ko.value?ko.value:""),l.append("book_pdf_meeting_organizer",go.value?go.value:"");break}console.log("payload",l),l.append("book_format",c);const{data:z,status:t}=await xo("documentSendStore","previewPDFWaitToSend",{payload:l});t===200?(console.log("data",z),Q.value=z.result,h.isShowDialogPdf=!0):console.log("error")},bn=l=>{let c=new Date;jo.value=!1,console.log(l),Dt.includes(l.type)&&ol.value*1024*1024>=l.size?(Te.value.push({file:l,date_input:c}),ce.value.push({name:l.name,size:l.size,date_input:c})):(s.value=!0,qe.value="ชนิดของไฟล์ไม่อนู่ในรายการที่อนุญาต")},xe=(l,c)=>{h[l]=c},al=l=>{console.log(l),we.value=l==null?void 0:l.full_name,J.value=l==null?void 0:l.id,xe("isModalUser",!1)},tl=(l,c)=>{var z;if(console.log("setFromTo type",l),console.log("setFromTo data",c),l=="from_type")Pe.value=Z.value=="inside"?"organizations":"outside_organization",Be.value=c.id,Do.value=c.lv1_name==null?c.name:c.name+" ("+c.lv1_name+")",xe("isModalFromOut",!1),xe("isModalFromIn",!1);else{He.value="users",ye.value=c.id,console.log("data.represent_users.length",c.user_represent_permissions),c.user_represent_permissions.length>0?(be.value=c.user_represent_permissions.map(Oe=>{var Ve,Me;return{id:(Ve=Oe.represent_user)==null?void 0:Ve.id,full_name:(Me=Oe.represent_user)==null?void 0:Me.full_name,organization:c.organization}}),Ee.value=!0,we.value=be.value[0].full_name,J.value=be.value[0].id):(be.value=[],Ee.value=!1,we.value="",J.value="");const t={icon:"iconamoon:profile-circle-fill",full_name:c.full_name,organization_name:(z=c.organization)==null?void 0:z.organization_name};We.value=[t],xe("isModalTo",!1)}},cn=(l,c)=>{l=="from_type"&&(console.log("out ",c),f.value=c,xe("isModalFromOut",!1),nl())},mn=l=>{console.log("all ",l),F.value=l,Eo.value=!1,nl()},nl=()=>{f.value.length==0&&F.value.length==0?Le.value="":Le.value="validAttr4"},fn=()=>{wo.value.click()},kn=async l=>{let c=new Date,z=Ae(c).locale("th").add(543,"year").format("DD MMM YYYY HH:mm"),t=l.target.files[0];t&&ol.value*1024*1024>=t.size?(Te.value.push({file:t,date_input:z}),ce.value.push({name:t.name,size:t.size,date_input:z}),l.target.value=""):(s.value=!0,qe.value="ขนาดของไฟล์ไม่อนู่ในรายการที่อนุญาต",l.target.value="")},gn=l=>{Ce.value=l.map(c=>({id:c.id,subject:c.subject})),xe("isModalBookRef",!1)},yn=l=>{ce.value.splice(l,1),Te.value.splice(l,1),je.currentRoute.value.params.id&&me.value.splice(l,1)},xn=()=>{ge.value--},Mn=()=>{We.value=[],ye.value=""},Go=()=>{Re.value&&Z.value&&ye.value&&(Ye.value=Se.value.filter(l=>Re.value==l.secrecy_level=="ปกติ"?"ปกติ":Z.value==l.book_type),We.value[0].number=Ye.value)};return Y(()=>To.value,l=>{X.fields.draft_role_id=l==!1?r().nullable():r().nullable().required("กรุณาเลือกสำหรับบทบาท"),X.fields.draft_ref_document=l==!1?Xo().nullable():Xo().nullable().required("กรุณาเลือกหนังสือเกี่ยวเนื่อง")},{immediate:!0}),Y(()=>ie.value,l=>{console.log("test",l),l?f.value.length==0&&F.value.length==0?Le.value="":Le.value="validAttr":(Le.value="validAttr",f.value=[],F.value=[]),X.fields.attn=l==!0?r().nullable():r().required("กรุณากรอกเรียน"),E.value=""}),Y(()=>Z.value,l=>{X.fields.postmalone=l=="outside"?r().nullable().required("กรุณาเลือกวิธีนำส่งหนังสือ"):r().nullable()},{immediate:!0}),Y(We,(l,c)=>{l.length==0&&(Ee.value=!1,we.value="",J.value="",be.value=[])}),Y(O,(l,c)=>{Ue.value=O.value}),Y(E,(l,c)=>{Jo.value=E.value}),Y(ge,l=>{var c,z;l===1&&ie.value&&(E.value=F.value.length>0?(c=F.value[0])==null?void 0:c.name:(z=f.value[0])==null?void 0:z.name)}),Y(Ze,(l,c)=>{switch(ke.value=ht.value,Ze.value){case"หนังสือภายนอก":ke.value=[{value:"หนังสือภายนอก"}],G.value="หนังสือภายนอก";break;case"หนังสือภายใน":ke.value=[{value:"หนังสือบันทึกข้อความ"}],G.value="หนังสือบันทึกข้อความ";break;case"หนังสือประทับตรา":ke.value=[{value:"หนังสือตราประทับ"}],G.value="หนังสือตราประทับ";break;case"หนังสือสั่งการ":ke.value=[{value:"หนังสือระเบียบ"},{value:"หนังสือข้อบังคับ"}],G.value="หนังสือระเบียบ";break;case"หนังสือประชาสัมพันธ์":ke.value=[{value:"หนังสือประกาศ"},{value:"หนังสือแถลงการณ์"},{value:"หนังสือข่าว"}],G.value="หนังสือประกาศ";break;case"หนังสืออื่นๆ":ke.value=[{value:"หนังสือรับรอง"},{value:"หนังสือรายงานการประชุม"}],G.value="หนังสือรับรอง";break}}),Y(ye,(l,c)=>{Go()},{immediate:!0}),Y(G,(l,c)=>{console.log("reset")}),Y(Z,(l,c)=>{Go()},{immediate:!0}),Y(Re,(l,c)=>{Go()},{immediate:!0}),Y(Xe,(l,c)=>{if(pe.value=qo.value,l){const z=Co.value.find(t=>t.id===Xe.value);z&&(console.log("document_flow.doc_type",z),Z.value=z.doc_type,z.secret_level!=="ปกติ"?(console.log("secret_level",z.secret_level),pe.value=pe.value.filter(t=>t.label!=="ปกติ")):pe.value=pe.value.filter(t=>t.label=="ปกติ"))}else Z.value="",zo.value=""}),{fileErrorMessage:qe,isFileSizeError:s,afterScanComplete:bn,pdfModal:jo,userListIn:Mo,isOpen:Eo,organizeInList:A,customList:ho,is_draft:To,draft_ready:o,draft_role:De,draft_role_id:Oo,draft_role_id_error:Ft,draft_ref_document:Vo,draft_ref_document_error:jt,setFromToOut:cn,attn_outside:f,checkAttrForm:Le,checkAttrForm_error:Wt,setFromToAll:mn,attn_inside:F,attn_inside_users:n,attn_inside_org:C,openModalRole:D,roleList:S,addRole:()=>{console.log("open add role modal"),D.value=!0},onSelectedItemRole:l=>{console.log("onSelectedItemRole",l),De.value=l,Oo.value=l.id,D.value=!1},closeModalRole:()=>{D.value=!1},acceptList:el,errorMessage:H,removeDocRef:l=>{Ce.value.splice(l,1)},dataModal:Uo,pdfPath:Q,previewPDF:pn,from_id:Be,reserveID:ve,reserveNumberList:Se,is_circular:ie,userList:be,setUser:al,setBookRef:gn,book_ref_list:Ge,book_draft_list:Ke,ref_document:Ce,removeFile:yn,uploadFile:kn,previewFile:ce,files:Te,document_attachments:me,fileInput:wo,handleUploadFile:fn,submit:vn,steps:$o,stepNumber:ge,prev:xn,option:mt,options:yt,bookTypeOption:Z,bookTypeOptions:xt,documentTypeOption:zo,documentTypeOptions:Mt,bookRoute:Xe,bookRouteList:ft,bookDate:Ho,bookDateError:Ht,from:Do,fromError:Jt,attn:E,attnError:Kt,subject:O,subjectError:Gt,objective:Yo,objectiveList:Je,bookType:Ze,bookTypeError:Pt,bookFormatList:_s,bookDraftType:G,bookDraftTypeList:ke,speed:No,speedLevelList:vs,secret:Re,secretLevelList:Zo,qrCode:Ro,qrCodeList:wt,followBook:Lo,followBookList:Ct,followBookDate:Ie,representative:Ee,representativeList:Tt,representativeOfficer:we,representativeOfficerID:J,offerList:Ot,columns:kt,advancedTable:We,bookNumber:Vt,bookNumberList:zt,columns2:gt,postmalone:Ao,postMaloneList:qt,checkUploadFile:Ne,checkScanFile:N,document_flow_list:Co,year:W,openModalAction:xe,setFromTo:tl,isModal:h,inside_organization:Fe,outside_organization:Qe,user_list:fe,to_id:ye,to_id_error:Qt,bookTypeOptionError:Nt,documentTypeOptionError:Yt,bookRouteError:At,objectiveError:Ut,speedError:Rt,secretError:Lt,postmaloneError:Et,secretLevelOptionDefault:qo,secretLevelOptions:pe,document_number:Po,offer:So,offerError:_n,convertDate:l=>l?Ae(l).locale("th").add(543,"year").format("DD/MM/YYYY"):"-",convertDateTime:l=>l?Ae(l).locale("th").add(543,"year").format("DD MMM YYYY HH:mm"):"-",deleteOfficer:Mn,book_pdf_title:M,book_pdf_title_error:en,book_pdf_about_error:on,book_pdf_number_error:ln,book_pdf_year_error:an,book_pdf_regulation_1_error:tn,book_pdf_regulation_1_year_error:nn,book_pdf_regulation_2_error:sn,book_pdf_detail_1_error:rn,book_pdf_detail_2_error:dn,book_pdf_name_error:Xt,book_pdf_full_name_error:Zt,book_pdf_position_error:$t,book_pdf_owner_name:K,setBookRelate:l=>{console.log("setBookRelate",l),Vo.value=l,xe("isModalBookRelate",!1)}}}},cs=a("div",{class:"mb-6"},"แบบฟอร์มสร้างหนังสือส่งออก",-1),ms={class:"conten-box mt-14 border-t border-slate-100 dark:border-slate-700 -mx-6 px-6 pt-6"},fs={key:0},ks={class:"list list-odd space-y-1 px-12"},gs={class:"py-4 flex p-3 gap-4"},ys=a("div",{class:"text-end basis-1/4"},[I(" ประเภทการสร้าง "),a("span",{class:"text-red-600"},"*")],-1),xs={class:"basis-2/4"},Ms={class:"flex items-center gap-3"},hs={key:0,class:"py-4 flex p-3 gap-4"},qs=a("div",{class:"pt-3 text-end basis-1/4"},[I(" สำหรับบทบาท "),a("span",{class:"text-red-600"},"*")],-1),ws={class:"basis-2/4"},Cs={key:0,class:"mt-2 p-3 border-2 rounded-md"},Ts={class:"ell-11 truncate text-left"},Os={class:"text-slate-500 text-sm pl-3 mt-2"},Vs={key:1,class:"py-4 flex p-3 gap-4"},zs=a("div",{class:"text-end basis-1/4 pt-2"},[I(" หนังสือเกี่ยวเนื่อง "),a("span",{class:"text-red-600"},"*")],-1),Ds={class:"basis-2/4"},Ss={key:0,class:"mt-2 border-2 rounded-md border-gray-200 bg-gray-50 px-3 py-2"},Bs={class:"flex items-center justify-between"},Is={class:"shrink w-[20px]"},Fs={class:"basis-full pl-4"},js={class:"text-md ell-1"},Es={class:"flex py-2 gap-3"},Rs=a("div",{class:"basis-1/4 text-end pt-2"},[I(" เส้นทางหนังสือ "),a("span",{class:"text-red-600"},"*")],-1),Ls={class:"basis-2/4"},Us={class:"flex py-2 gap-3"},As=a("div",{class:"basis-1/4 text-end"},[I(" ประเภทเอกสาร "),a("span",{class:"text-red-600"},"*")],-1),Ns={class:"basis-2/4 flex space-x-9"},Ys={class:"flex py-2 gap-3"},Ps=a("div",{class:"basis-1/4 text-end pt-2"},[I(" ปี "),a("span",{class:"text-red-600"},"*")],-1),Hs={class:"basis-2/4"},Js={class:"flex py-2 gap-3"},Gs=a("div",{class:"basis-1/4 text-end"},[I(" ประเภทหนังสือ "),a("span",{class:"text-red-600"},"*")],-1),Ks={class:"basis-2/4 flex space-x-10"},Qs={class:"flex py-2 gap-3"},Ws=a("div",{class:"basis-1/4 text-end pt-2"},[I(" หนังสือลงวันที่ "),a("span",{class:"text-red-600"},"*")],-1),Xs={class:"basis-2/4"},Zs={class:"flex items-center border border-gray-300 rounded-md pr-2 w-[250px]"},$s={class:"basis-full"},er={class:"shrink w-[20px]"},or={class:"flex py-2 gap-3"},lr=a("div",{class:"basis-1/4 text-end pt-2"},[I(" จาก "),a("span",{class:"text-red-600"},"*")],-1),ar={class:"basis-2/4"},tr={class:"flex text-slate-600 dark:text-slate-400 mb-1"},nr={class:"flex py-2 gap-3"},sr=a("div",{class:"basis-1/4 text-end pt-2"},[I(" ถึง "),a("span",{class:"text-red-600"},"*")],-1),rr={class:"basis-2/4"},dr={class:"space-y-1 mt-4"},ir=a("div",{class:"text-center"},[a("div",{class:"text-gray-400"},"ไม่พบข้อมูล")],-1),ur={key:0},_r={key:1},vr={key:2},pr={class:"flex py-2 gap-3"},br=a("div",{class:"basis-1/4 text-end pt-2"},[I(" เรื่อง "),a("span",{class:"text-red-600"},"*")],-1),cr={class:"basis-2/4"},mr={class:"flex py-2 gap-3"},fr=a("div",{class:"basis-1/4 text-end pt-2"},[I(" เรียน "),a("span",{class:"text-red-600"},"*")],-1),kr={class:"basis-2/4"},gr={key:0,class:"py-3"},yr={key:1,class:"flex gap-3 py-3"},xr={class:"flex py-2 gap-3"},Mr=a("div",{class:"basis-1/4 text-end pt-2"},[I(" วัตถุประสงค์ "),a("span",{class:"text-red-600"},"*")],-1),hr={class:"basis-2/4"},qr={class:"flex items-center space-x-5"},wr={class:"mb-1 w-[270px]"},Cr={class:"flex py-2 gap-3"},Tr=a("div",{class:"basis-1/4 text-end pt-2"},[I(" รูปแบบหนังสือ "),a("span",{class:"text-red-600"},"*")],-1),Or={class:"basis-2/4"},Vr={class:"mb-1 w-[270px]"},zr={class:"flex py-2 gap-3"},Dr=a("div",{class:"basis-1/4 text-end pt-2"},[I(" ชั้นความเร็ว "),a("span",{class:"text-red-600"},"*")],-1),Sr={class:"basis-2/4"},Br={class:"mb-1 w-[200px]"},Ir={class:"flex py-2 gap-3"},Fr=a("div",{class:"basis-1/4 text-end pt-2"},[I(" ชั้นความลับ "),a("span",{class:"text-red-600"},"*")],-1),jr={class:"basis-2/4"},Er={class:"mb-1 w-[200px]"},Rr={key:2,class:"flex py-2 gap-3"},Lr=a("div",{class:"basis-1/4 text-end pt-2"},[I(" วิธีนำส่งหนังสือ "),a("span",{class:"text-red-600"},"*")],-1),Ur={class:"basis-2/4"},Ar={class:"items-center text-slate-600 space-y-2"},Nr={class:"flex gap-3 py-2"},Yr=a("div",{class:"basis-1/4 text-end pt-2"},"เอกสารแนบ",-1),Pr={class:"basis-2/4"},Hr={class:"gap-3 flex"},Jr=["accept"],Gr={class:"flex items-center justify-between"},Kr={class:"shrink w-[20px]"},Qr={class:"basis-full pl-4"},Wr={class:"text-md ell-1"},Xr={class:"text-sm text-gray-500 flex items-center"},Zr={class:"basis-1/2"},$r={class:"basis-1/2"},ed={class:"shrink w-[20px]"},od={class:"flex py-2 gap-3"},ld=a("div",{class:"basis-1/4 text-end pt-2"},"หนังสืออ้างอิง",-1),ad={class:"basis-2/4"},td={class:"flex items-center justify-between"},nd={class:"shrink w-[20px]"},sd={class:"basis-full pl-4"},rd={class:"text-md ell-1"},dd={class:"shrink w-[20px]"},id={class:"flex py-2 gap-3"},ud=a("div",{class:"basis-1/4 text-end"},"QR Code เอกสารแนบ/อ้างอิง",-1),_d={class:"basis-2/4"},vd={class:"items-center text-slate-600 dark:text-slate-400 mb-1 flex space-x-10"},pd={class:"flex py-2 gap-3"},bd=a("div",{class:"basis-1/4 text-end"},"ผู้ปฏิบัติราชการแทน",-1),cd={class:"basis-2/4"},md={class:"flex flex-1 items-center text-slate-600 dark:text-slate-400 mb-1 space-x-10"},fd={class:"flex items-center"},kd={class:"flex py-2 gap-3"},gd=a("div",{class:"basis-1/4 text-end pt-2"},"ติดตามหนังสือ",-1),yd={class:"basis-2/4"},xd={class:"flex flex-1 items-center text-slate-600 dark:text-slate-400 mb-1 space-x-10"},Md={key:0,class:"flex-1"},hd={class:"flex items-center border border-gray-300 rounded-md pr-2 w-[200px]"},qd={class:"basis-full"},wd={class:"shrink w-[20px]"},Cd={key:1},Td={class:"list list-odd mb-10"},Od={class:"h-[70px] py-5 flex items-center"},Vd=a("div",{class:"px-5"},"รูปแบบหนังสือร่าง",-1),zd={class:"flex justify-center"},Dd={class:"flex justify-center mt-4 mb-12"},Sd={key:2},Bd={class:"list list-odd space-y-1"},Id={class:"flex p-3 gap-3"},Fd=a("div",{class:"basis-1/4 text-end"},[I(" เลขทะเบียนหนังสือ "),a("span",{class:"text-red-600"},"*")],-1),jd={class:"basis-2/4 mb-3 space-y-3"},Ed={key:0},Rd=a("span",{class:"text-gray-400"}," ออกเลขที่หนังสือแยกแต่ละหน่วยงาน ",-1),Ld=a("div",{class:"flex gap-3 items-center text-[13px] font-semibold my-2 p-2"},[a("div",{class:"basis-1/4"},"เลขที่หนังสือ"),a("div",{class:"basis-2/4"},"หน่วยงาน/บุคคล"),a("div",{class:"basis-1/4"},"ชื่อหน่วยงาน/บุคคล")],-1),Ud={class:"flex gap-3 items-center bg-white text-[14px] p-2"},Ad={class:"basis-1/4 pr-5"},Nd={class:"basis-2/4"},Yd={class:"basis-1/4"},Pd=["src"],Hd={class:"py-5"},Jd={class:"flex items-center mb-3 gap-3"},Gd=a("div",{class:"basis-1/3 font-semibold text-end"},"เลขที่หนังสือ",-1),Kd={class:"basis-2/3"},Qd={class:"flex items-center mb-3 gap-3"},Wd=a("div",{class:"basis-1/3 font-semibold text-end"},"ลงวันที่",-1),Xd={class:"basis-2/3"},Zd={class:"flex items-center mb-3 gap-3"},$d=a("div",{class:"basis-1/3 font-semibold text-end"},"วันที่/เวลาส่ง",-1),ei={class:"basis-2/3"},oi={class:"flex gap-3"},li=a("div",{class:"basis-1/3 font-semibold text-end"},"เลขที่ส่ง",-1),ai={class:"basis-2/3"},ti={class:"mb-1"},ni=a("div",{class:"text-[12px] text-red-500"}," เอาเลขรับปั้มที่หนังสือฉบับจริง (ถ้ามี) ",-1),si=a("hr",{class:"my-4"},null,-1),ri={class:"flex justify-center gap-5"},di=a("div",{class:"text-lg text-slate-900"},"เกิดข้อผิดพลาดในการบันทึกข้อมูล",-1),ii={class:"text-lg text-slate-900"};function ui(qe,s,jo,o,Mo,Eo){const ho=x("Stepper"),A=x("Radio"),S=x("Button"),D=x("TextValid"),De=x("NavigationPath"),Ne=x("Tooltip"),N=x("Icon"),H=x("vSelect"),Q=x("VueSelect"),ve=x("Textinput"),Ye=x("CFlatPickr"),Se=x("vue-good-table"),ie=x("Checkbox"),J=x("ScannerModal"),Be=x("BookOut"),Pe=x("BookSaveText"),He=x("BookStamp"),Je=x("BookRegulation"),qo=x("BookRule"),pe=x("BookAnounc"),Ie=x("BookDeclaration"),we=x("BookNews"),be=x("BookCertificate"),Ge=x("BookMeetingReport"),Ke=x("Card"),Ce=x("ModalRole"),ce=x("ModalBookRef"),wo=x("ModalOrganizeOut"),Te=x("ModalOrganizeIn"),me=x("ModalOrganizeUser"),fe=x("Modal"),Fe=x("ModalError"),Qe=x("ModalOrganizeAll");return b(),g("div",null,[d(Ke,{noborder:""},{default:j(()=>{var f,F;return[cs,d(ho,{steps:o.steps,stepNumber:o.stepNumber},null,8,["steps","stepNumber"]),a("div",ms,[a("form",{onSubmit:s[43]||(s[43]=pt((...n)=>o.submit&&o.submit(...n),["prevent"]))},[o.stepNumber===0?(b(),g("div",fs,[a("div",ks,[a("div",gs,[ys,a("div",xs,[a("div",Ms,[d(A,{label:"ปกติ",class:"mb-5",modelValue:o.is_draft,"onUpdate:modelValue":s[0]||(s[0]=n=>o.is_draft=n),value:!1,onClick:s[1]||(s[1]=n=>{o.draft_role_id="",o.draft_role="",o.draft_ref_document=null})},null,8,["modelValue"]),d(A,{label:"ดราฟ",class:"mb-5",modelValue:o.is_draft,"onUpdate:modelValue":s[2]||(s[2]=n=>o.is_draft=n),value:!0},null,8,["modelValue"])])])]),o.is_draft?(b(),g("div",hs,[qs,a("div",ws,[d(S,{type:"button",icon:"tdesign:link-1",onClick:s[3]||(s[3]=n=>o.addRole()),text:"เลือกบทบาท",btnClass:"btn-primary w-32 font-medium"}),d(D,{valid:o.draft_role_id_error},null,8,["valid"]),o.draft_role?(b(),g("div",Cs,[d(Ne,{placement:"top",arrow:"",theme:"light"},{base:j(()=>{var n;return[a("div",Ts,[d(De,{arrayItems:o.roleList,targetId:(n=o.draft_role)==null?void 0:n.organization_id,keyId:"id",targetName:"organization_name",typePath:"role"},null,8,["arrayItems","targetId"])])]}),default:j(()=>{var n;return[a("div",null,[d(De,{arrayItems:o.roleList,targetId:(n=o.draft_role)==null?void 0:n.organization_id,keyId:"id",targetName:"organization_name",typePath:"role"},null,8,["arrayItems","targetId"])])]}),_:1}),a("div",Os,L("• "+((f=o.draft_role)==null?void 0:f.name)),1)])):T("",!0)])])):T("",!0),o.is_draft?(b(),g("div",Vs,[zs,a("div",Ds,[d(S,{icon:"tdesign:link-1",text:"หนังสือเกี่ยวเนื่อง",btnClass:"btn-primary rounded-md",onClick:s[4]||(s[4]=n=>o.openModalAction("isModalBookRelate",!0))}),d(D,{valid:o.draft_ref_document_error},null,8,["valid"]),o.draft_ref_document?(b(),g("div",Ss,[a("div",Bs,[a("div",Is,[d(N,{icon:"ant-design:file-word-filled",class:"text-blue-500 text-3xl cursor-pointer"})]),a("div",Fs,[a("div",js,L((F=o.draft_ref_document)==null?void 0:F.subject),1)])])])):T("",!0)])])):T("",!0),a("div",Es,[Rs,a("div",Ls,[d(Q,{classInput:"input_color"},{default:j(()=>[d(H,{modelValue:o.bookRoute,"onUpdate:modelValue":s[5]||(s[5]=n=>o.bookRoute=n),label:"label",class:"input_color border rounded",reduce:n=>n.value,options:o.document_flow_list},null,8,["modelValue","reduce","options"])]),_:1}),a("div",null,[d(D,{valid:o.bookRouteError},null,8,["valid"])])])]),a("div",Us,[As,a("div",null,[a("div",Ns,[(b(!0),g(ue,null,_e(o.documentTypeOptions,(n,C)=>(b(),g("div",{key:C},[d(A,{label:n.label,class:"mb-5",modelValue:o.documentTypeOption,"onUpdate:modelValue":s[6]||(s[6]=h=>o.documentTypeOption=h),activeClass:n.activeClass,value:n.label},null,8,["label","modelValue","activeClass","value"])]))),128))]),a("div",null,[d(D,{valid:o.documentTypeOptionError},null,8,["valid"])])])]),a("div",Ys,[Ps,a("div",Hs,[d(ve,{type:"text",classInput:"border border-gray-300 w-[200px]",name:"userName",modelValue:o.year,"onUpdate:modelValue":s[7]||(s[7]=n=>o.year=n),disabled:""},null,8,["modelValue"])])]),a("div",Js,[Gs,a("div",null,[a("div",Ks,[(b(!0),g(ue,null,_e(o.bookTypeOptions,(n,C)=>(b(),g("div",{key:C},[d(A,{label:n.label,class:"mb-5",modelValue:o.bookTypeOption,"onUpdate:modelValue":s[8]||(s[8]=h=>o.bookTypeOption=h),activeClass:n.activeClass,value:n.value,disabled:""},null,8,["label","modelValue","activeClass","value"])]))),128))]),a("div",null,[d(D,{valid:o.bookTypeOptionError},null,8,["valid"])])])]),a("div",Qs,[Ws,a("div",Xs,[a("div",Zs,[a("div",$s,[d(Ye,{modelValue:o.bookDate,"onUpdate:modelValue":s[9]||(s[9]=n=>o.bookDate=n),onOnChange:s[10]||(s[10]=n=>o.bookDate=n),class:Wo(["form-control border-0 focus:ring-0",o.bookDateError?"border-red-500":""])},null,8,["modelValue","class"])]),a("div",er,[d(N,{class:"text-2xl",icon:"ant-design:calendar-outlined"})])]),d(D,{valid:o.bookDateError},null,8,["valid"])])]),a("div",or,[lr,a("div",ar,[a("div",tr,[d(ve,{class:"mr-5",classInput:"border border-gray-300 w-[250px]",placeholder:"",modelValue:o.from,"onUpdate:modelValue":s[11]||(s[11]=n=>o.from=n),disabled:""},null,8,["modelValue"]),a("div",null,[d(S,{icon:"heroicons-outline:search",text:"เลือกหน่วยงาน",btnClass:"btn-primary rounded-md",onClick:s[12]||(s[12]=n=>o.openModalAction("isModalFromIn",!0))})])]),d(D,{valid:o.fromError},null,8,["valid"])])]),a("div",nr,[sr,a("div",rr,[d(S,{icon:"heroicons-outline:search",text:"เลือกผู้ลงนาม",btnClass:"btn-primary rounded-md",onClick:s[13]||(s[13]=n=>o.openModalAction("isModalTo",!0))}),a("div",dr,[d(Se,{columns:o.columns2,styleClass:" vgt-table lesspadding2 table-head striped",rows:o.advancedTable,"pagination-options":{enabled:!1},"sort-options":{enabled:!1},"select-options":{enabled:!1}},{emptystate:j(()=>[ir]),"table-row":j(n=>{var C,h,W;return[n.column.field=="type"?(b(),g("span",ur,[d(N,{icon:(C=o.advancedTable[0])==null?void 0:C.icon,class:"text-3xl text-blue-500"},null,8,["icon"])])):T("",!0),n.column.field=="officer"?(b(),g("span",_r,L(((h=o.advancedTable[0])==null?void 0:h.full_name)+"/"+((W=o.advancedTable[0])==null?void 0:W.organization_name)),1)):T("",!0),n.column.field=="action"?(b(),g("span",vr,[d(N,{icon:"fa6-solid:trash-can",class:"text-gray-500",onClick:s[14]||(s[14]=je=>o.deleteOfficer())})])):T("",!0)]}),_:1},8,["columns","rows"]),d(D,{valid:o.to_id_error},null,8,["valid"])])])]),a("div",pr,[br,a("div",cr,[d(ve,{type:"text",classInput:"border border-gray-300 ",placeholder:"",modelValue:o.subject,"onUpdate:modelValue":s[15]||(s[15]=n=>o.subject=n),error:o.subjectError},null,8,["modelValue","error"])])]),a("div",mr,[fr,a("div",kr,[a("div",null,[o.is_circular?(b(),R(ie,{key:0,label:"หนังสือเวียน",modelValue:o.is_circular,"onUpdate:modelValue":s[16]||(s[16]=n=>o.is_circular=n),checked:!0,value:!0},null,8,["modelValue"])):(b(),R(ie,{key:1,label:"หนังสือเวียน",modelValue:o.is_circular,"onUpdate:modelValue":s[17]||(s[17]=n=>o.is_circular=n),value:!1},null,8,["modelValue"]))]),o.is_circular?(b(),g("div",yr,[a("div",null,[d(S,{icon:"ic:baseline-plus",text:"เรียนภายใน ("+(o.attn_inside?o.attn_inside.length:0)+")",btnClass:"btn-primary",onClick:s[19]||(s[19]=n=>o.isOpen=!0)},null,8,["text"])]),a("div",null,[d(S,{icon:"ic:baseline-plus",text:"เรียนภายนอก ("+(o.attn_outside?o.attn_outside.length:0)+")",btnClass:"btn-primary",onClick:s[20]||(s[20]=n=>o.openModalAction("isModalFromOut",!0))},null,8,["text"])])])):(b(),g("div",gr,[d(ve,{type:"text",classInput:"border border-gray-300 ",placeholder:"",modelValue:o.attn,"onUpdate:modelValue":s[18]||(s[18]=n=>o.attn=n),error:o.attnError},null,8,["modelValue","error"])])),a("div",null,[d(D,{valid:o.checkAttrForm_error},null,8,["valid"])])])]),a("div",xr,[Mr,a("div",hr,[a("div",qr,[a("div",wr,[d(Q,{classInput:"input_color"},{default:j(()=>[d(H,{modelValue:o.objective,"onUpdate:modelValue":s[21]||(s[21]=n=>o.objective=n),label:"name",class:"input_color border rounded",reduce:n=>n.id,options:o.objectiveList},null,8,["modelValue","reduce","options"])]),_:1})])]),a("div",null,[d(D,{valid:o.objectiveError},null,8,["valid"])])])]),a("div",Cr,[Tr,a("div",Or,[a("div",Vr,[d(Q,{classInput:"input_color"},{default:j(()=>[d(H,{modelValue:o.bookType,"onUpdate:modelValue":s[22]||(s[22]=n=>o.bookType=n),label:"label",class:"input_color border rounded",reduce:n=>n.label,options:o.bookFormatList},null,8,["modelValue","reduce","options"])]),_:1}),a("div",null,[d(D,{valid:o.bookTypeError},null,8,["valid"])])])])]),a("div",zr,[Dr,a("div",Sr,[a("div",Br,[d(Q,{classInput:"input_color"},{default:j(()=>[d(H,{modelValue:o.speed,"onUpdate:modelValue":s[23]||(s[23]=n=>o.speed=n),label:"label",class:"input_color border rounded",reduce:n=>n.label,options:o.speedLevelList},null,8,["modelValue","reduce","options"])]),_:1}),d(D,{valid:o.speedError},null,8,["valid"])])])]),a("div",Ir,[Fr,a("div",jr,[a("div",Er,[d(Q,{classInput:"input_color"},{default:j(()=>[d(H,{modelValue:o.secret,"onUpdate:modelValue":s[24]||(s[24]=n=>o.secret=n),label:"label",class:"input_color border rounded",reduce:n=>n.label,options:o.secretLevelOptions},null,8,["modelValue","reduce","options"])]),_:1}),d(D,{valid:o.secretError},null,8,["valid"])])])]),o.bookTypeOption=="outside"?(b(),g("div",Rr,[Lr,a("div",Ur,[a("div",Ar,[(b(!0),g(ue,null,_e(o.postMaloneList,(n,C)=>(b(),g("div",{key:C},[d(A,{label:n.label,class:"mb-5",modelValue:o.postmalone,"onUpdate:modelValue":s[25]||(s[25]=h=>o.postmalone=h),activeClass:n.activeClass,value:n.label},null,8,["label","modelValue","activeClass","value"])]))),128))]),d(D,{valid:o.postmaloneError},null,8,["valid"])])])):T("",!0),a("div",Nr,[Yr,a("div",Pr,[a("div",Hr,[a("input",{type:"file",class:"hidden",ref:"fileInput",accept:o.acceptList,onChange:s[26]||(s[26]=(...n)=>o.uploadFile&&o.uploadFile(...n))},null,40,Jr),d(S,{isDisabled:!o.checkUploadFile,icon:"ic:baseline-cloud-upload",text:"อัปโหลดจากคอมพิวเตอร์",btnClass:"btn-primary rounded-md",onClick:s[27]||(s[27]=n=>o.handleUploadFile("create"))},null,8,["isDisabled"]),d(S,{isDisabled:!o.checkScanFile,icon:"material-symbols:scanner",text:"สแกนเอกสาร",btnClass:"btn-primary rounded-md",onClick:s[28]||(s[28]=n=>o.pdfModal=!0)},null,8,["isDisabled"])]),d(J,{"active-modal":o.pdfModal,onOnClose:s[29]||(s[29]=n=>o.pdfModal=!1),onOnFinish:o.afterScanComplete},null,8,["active-modal","onOnFinish"]),(b(!0),g(ue,null,_e(o.previewFile,(n,C)=>(b(),g("div",{class:"mt-2 border rounded border-gray-200 bg-gray-50 px-3 py-2",key:C},[a("div",Gr,[a("div",Kr,[d(N,{icon:"ant-design:file-pdf-filled",class:"text-red-500 text-2xl cursor-pointer"})]),a("div",Qr,[a("div",Wr,L(n==null?void 0:n.name),1),a("div",Xr,[a("div",Zr,L(n==null?void 0:n.size)+" KB",1),a("div",$r," วันที่นำเข้า : "+L(n.date_input),1)])]),a("div",ed,[d(N,{onClick:h=>o.removeFile(C),icon:"mdi:trash",class:"text-red-500 text-2xl cursor-pointer"},null,8,["onClick"])])])]))),128))])]),a("div",od,[ld,a("div",ad,[d(S,{icon:"tdesign:link-1",text:"หนังสืออ้างอิง",btnClass:"btn-primary rounded-md",onClick:s[30]||(s[30]=n=>o.openModalAction("isModalBookRef",!0))}),(b(!0),g(ue,null,_e(o.ref_document,(n,C)=>{var h;return b(),g("div",{class:"mt-2 border rounded border-gray-200 bg-gray-50 px-3 py-2",key:C},[a("div",td,[a("div",nd,[d(N,{icon:"ant-design:file-word-filled",class:"text-blue-500 text-3xl cursor-pointer"})]),a("div",sd,[a("div",rd,L(n!=null&&n.subject?n==null?void 0:n.subject:(h=n==null?void 0:n.document)==null?void 0:h.subject),1)]),a("div",dd,[d(N,{onClick:W=>o.removeDocRef(C),icon:"mdi:trash",class:"text-red-500 text-2xl cursor-pointer"},null,8,["onClick"])])])])}),128))])]),a("div",id,[ud,a("div",_d,[a("div",vd,[(b(!0),g(ue,null,_e(o.qrCodeList,(n,C)=>(b(),g("div",{key:C},[d(A,{label:n.label,class:"mb-5",modelValue:o.qrCode,"onUpdate:modelValue":s[31]||(s[31]=h=>o.qrCode=h),activeClass:n.activeClass,value:n.value},null,8,["label","modelValue","activeClass","value"])]))),128))])])]),a("div",pd,[bd,a("div",cd,[a("div",md,[(b(!0),g(ue,null,_e(o.representativeList,(n,C)=>(b(),g("div",{key:C},[d(A,{label:n.label,class:"mb-5",modelValue:o.representative,"onUpdate:modelValue":s[32]||(s[32]=h=>o.representative=h),activeClass:n.activeClass,value:n.value,userList:"",disabled:o.userList.length==0&&n.value==!0},null,8,["label","modelValue","activeClass","value","disabled"])]))),128)),Un(a("div",fd,[d(ve,{disabled:"",classInput:"border border-gray-300 w-[200px]",placeholder:"",modelValue:o.representativeOfficer,"onUpdate:modelValue":s[33]||(s[33]=n=>o.representativeOfficer=n)},null,8,["modelValue"]),d(S,{icon:"grommet-icons:tree",btnClass:"btn-primary rounded-md  w-[20px] ml-2",onClick:s[34]||(s[34]=n=>o.openModalAction("isModalUser",!0))})],512),[[An,o.representative==!0]])])])]),a("div",kd,[gd,a("div",yd,[a("div",xd,[(b(!0),g(ue,null,_e(o.followBookList,(n,C)=>(b(),g("div",{key:C},[d(A,{label:n.label,class:"mb-5",modelValue:o.followBook,"onUpdate:modelValue":s[35]||(s[35]=h=>o.followBook=h),activeClass:n.activeClass,value:n.value},null,8,["label","modelValue","activeClass","value"])]))),128)),o.followBook==!0?(b(),g("div",Md,[a("div",hd,[a("div",qd,[d(Ye,{modelValue:o.followBookDate,"onUpdate:modelValue":s[36]||(s[36]=n=>o.followBookDate=n),onOnChange:s[37]||(s[37]=n=>o.followBookDate=n),class:"form-control border-0 focus:ring-0"},null,8,["modelValue"])]),a("div",wd,[d(N,{class:"text-2xl",icon:"ant-design:calendar-outlined"})])])])):T("",!0)])])])])])):T("",!0),o.stepNumber===1?(b(),g("div",Cd,[a("div",Td,[a("div",Od,[Vd,a("div",null,[d(Q,{classInput:"input_color"},{default:j(()=>[d(H,{modelValue:o.bookDraftType,"onUpdate:modelValue":s[38]||(s[38]=n=>o.bookDraftType=n),label:"value",class:"input_color border rounded w-[250px]",reduce:n=>n.value,options:o.bookDraftTypeList},null,8,["modelValue","reduce","options"])]),_:1})])])]),a("div",zd,[o.bookDraftType=="หนังสือภายนอก"?(b(),R(Be,{key:0})):T("",!0),o.bookDraftType=="หนังสือบันทึกข้อความ"?(b(),R(Pe,{key:1})):T("",!0),o.bookDraftType=="หนังสือตราประทับ"?(b(),R(He,{key:2})):T("",!0),o.bookDraftType=="หนังสือระเบียบ"?(b(),R(Je,{key:3})):T("",!0),o.bookDraftType=="หนังสือข้อบังคับ"?(b(),R(qo,{key:4})):T("",!0),o.bookDraftType=="หนังสือประกาศ"?(b(),R(pe,{key:5})):T("",!0),o.bookDraftType=="หนังสือแถลงการณ์"?(b(),R(Ie,{key:6})):T("",!0),o.bookDraftType=="หนังสือข่าว"?(b(),R(we,{key:7})):T("",!0),o.bookDraftType=="หนังสือรับรอง"?(b(),R(be,{key:8})):T("",!0),o.bookDraftType=="หนังสือรายงานการประชุม"?(b(),R(Ge,{key:9})):T("",!0)]),a("div",Dd,[d(S,{type:"button",text:" แสดงตัวอย่าง",btnClass:"btn-primary",onClick:s[39]||(s[39]=n=>o.previewPDF())})])])):T("",!0),o.stepNumber===2?(b(),g("div",Sd,[a("div",Bd,[a("div",Id,[Fd,a("div",jd,[(b(!0),g(ue,null,_e(o.offerList,(n,C)=>(b(),g("div",{key:C},[a("div",{class:Wo({flex:C==0})},[d(A,{label:n.label,class:"mb-5",modelValue:o.offer,"onUpdate:modelValue":s[40]||(s[40]=h=>o.offer=h),activeClass:n.activeClass,value:n.label,disabled:o.is_draft&&!o.draft_ready&&n.label!="ยังไม่ออกเลข"},null,8,["label","modelValue","activeClass","value","disabled"])],2)]))),128)),o.offer=="ใช้เลขจอง"?(b(),g("div",Ed,[a("div",null,[Rd,Ld,a("div",Ud,[a("div",Ad,[d(Q,{classInput:"input_color"},{default:j(()=>[d(H,{modelValue:o.reserveID,"onUpdate:modelValue":s[41]||(s[41]=n=>o.reserveID=n),label:"initial_number",class:"input_color border rounded w-full",reduce:n=>n.id,options:o.advancedTable[0].number},null,8,["modelValue","reduce","options"])]),_:1})]),a("div",Nd,L(o.advancedTable[0].organization_name),1),a("div",Yd,L(o.advancedTable[0].full_name),1)])])])):T("",!0),a("div",null,[d(D,{valid:o.offerError},null,8,["valid"])])])])])])):T("",!0),a("div",{class:Wo(["mt-10",o.stepNumber>0?"flex justify-between":" text-right"])},[this.stepNumber!==0?(b(),R(S,{key:0,onClick:s[42]||(s[42]=pt(n=>o.prev(),["prevent"])),text:"ย้อนกลับ",btnClass:"btn-outline-dark"})):T("",!0),d(S,{type:"submit",text:o.stepNumber!==this.steps.length-1?"ถัดไป":o.offer=="ยังไม่ออกเลข"?"บันทึกฉบับร่าง":"บันทึก",btnClass:"btn-primary"},null,8,["text"])],2)],32)])]}),_:1}),d(Ce,{multiple:!1,isOpen:o.openModalRole,items:o.roleList,value:o.draft_role_id,"onEvent:closeModal":s[44]||(s[44]=f=>o.closeModalRole()),"onEvent:onSelectedItem":o.onSelectedItemRole},null,8,["isOpen","items","value","onEvent:onSelectedItem"]),d(ce,{title:"ค้นหาเอกสารเกี่ยวเนื่อง",multiple:!1,items:o.book_draft_list,isOpen:o.isModal.isModalBookRelate,"onEvent:submit":o.setBookRelate,"onEvent:close":s[45]||(s[45]=f=>o.openModalAction("isModalBookRelate",!1))},null,8,["items","isOpen","onEvent:submit"]),d(wo,{title:"เลือกหน่วยงาน",items:o.outside_organization,selectedItem:o.attn_outside,isOpen:o.isModal.isModalFromOut,"onEvent:submit":s[46]||(s[46]=f=>o.setFromToOut("from_type",f)),"onEvent:close":s[47]||(s[47]=f=>o.openModalAction("isModalFromOut",!1))},null,8,["items","selectedItem","isOpen"]),d(Te,{title:"เลือกหน่วยงาน",items:o.inside_organization,isOpen:o.isModal.isModalFromIn,"onEvent:submit":s[48]||(s[48]=f=>o.setFromTo("from_type",f)),"onEvent:close":s[49]||(s[49]=f=>o.openModalAction("isModalFromIn",!1))},null,8,["items","isOpen"]),d(me,{title:"เลือกบุคคล",tabIndex:1,items:o.user_list,modalId:o.to_id,isOpen:o.isModal.isModalTo,"onEvent:submit":s[50]||(s[50]=f=>o.setFromTo("to_type",f)),"onEvent:close":s[51]||(s[51]=f=>o.openModalAction("isModalTo",!1))},null,8,["items","modalId","isOpen"]),d(me,{title:"ผู้ปฏิบัติราชการแทน",tabIndex:1,items:o.userList,modalId:o.representativeOfficerID,isOpen:o.isModal.isModalUser,"onEvent:submit":s[52]||(s[52]=f=>o.setUser(f)),"onEvent:close":s[53]||(s[53]=f=>o.openModalAction("isModalUser",!1))},null,8,["items","modalId","isOpen"]),d(ce,{title:"ค้นหาหนังสืออ้างถึง",items:o.book_ref_list,isOpen:o.isModal.isModalBookRef,"onEvent:submit":o.setBookRef,"onEvent:close":s[54]||(s[54]=f=>o.openModalAction("isModalBookRef",!1))},null,8,["items","isOpen","onEvent:submit"]),o.isModal.isShowDialogPdf?(b(),R(fe,{key:0,title:"ดูรายละเอียดเอกสาร",labelClass:"btn-outline-dark",sizeClass:"w-3/4",label:"",centered:"",activeModal:o.isModal.isShowDialogPdf,"onEvent:closeModal":s[55]||(s[55]=f=>o.openModalAction("isShowDialogPdf",!1))},{default:j(()=>[a("div",null,[a("iframe",{class:"w-full h-[1000px] mt-4",src:"data:application/pdf;base64, "+o.pdfPath,frameborder:"0"},null,8,Pd)])]),_:1},8,["activeModal"])):T("",!0),o.isModal.isSuccess?(b(),R(fe,{key:1,title:"บันทึกฉบับร่างหนังสือส่งออก",labelClass:"btn-outline-dark",sizeClass:"w-full max-w-[700px]",label:"",centered:"",activeModal:o.isModal.isSuccess,"onEvent:closeModal":s[58]||(s[58]=f=>qe.$router.push("/app/issue/wait-to-send"))},{default:j(()=>{var f,F,n,C,h;return[a("div",Hd,[a("div",Jd,[Gd,a("div",Kd,L((f=o.dataModal)!=null&&f.document_number?(F=o.dataModal)==null?void 0:F.document_number:(n=o.dataModal)==null?void 0:n.book_pdf_at),1)]),a("div",Qd,[Wd,a("div",Xd,L(o.convertDate((C=o.dataModal)==null?void 0:C.document_date)),1)]),a("div",Zd,[$d,a("div",ei,L(o.convertDateTime((h=o.dataModal)==null?void 0:h.created_at)),1)]),a("div",oi,[li,a("div",ai,[a("div",ti,L(o.dataModal.initial_number_from?o.dataModal.initial_number_from:"ยังไม่ออกเลขที่หนังสือ"),1),ni])])]),si,a("div",ri,[d(S,{onClick:s[56]||(s[56]=W=>qe.$router.push("/app/issue/wait-to-send/"+o.dataModal.id)),text:"รายละเอียดหนังสือ",btnClass:"btn-outline-dark"}),d(S,{type:"submit",text:"กลับไปหน้ารายการ",btnClass:"btn-primary",onClick:s[57]||(s[57]=W=>qe.$router.push("/app/issue/wait-to-send"))})])]}),_:1},8,["activeModal"])):T("",!0),d(Fe,{title:"",isOpen:o.isModal.isError,"onEvent:closeModal":s[59]||(s[59]=f=>o.isModal.isError=!1)},{default:j(()=>[di]),_:1},8,["isOpen"]),d(Fe,{title:"",isOpen:o.isFileSizeError,"onEvent:closeModal":s[60]||(s[60]=f=>o.isFileSizeError=!1)},{default:j(()=>[a("div",ii,L(o.fileErrorMessage),1)]),_:1},8,["isOpen"]),d(Qe,{ref:"ModalOrganizeAll",title:"เลือกหน่วยงาน",isOpen:o.isOpen,email:!1,organizeList:o.organizeInList,attnInsideUser:o.attn_inside_users,attnInsideOrg:o.attn_inside_org,userList:o.userListIn,customList:o.customList,"onEvent:close":s[61]||(s[61]=f=>o.isOpen=!1),"onEvent:accept":s[62]||(s[62]=f=>o.setFromToAll(f))},null,8,["isOpen","organizeList","attnInsideUser","attnInsideOrg","userList","customList"])])}const Lu=Yn(bs,[["render",ui]]);export{Lu as default};
