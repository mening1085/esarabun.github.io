import{C as S}from"./index-263882d1.js";import{I as g}from"./index-72ee420c.js";import{B as E}from"./index-441935dc.js";import{E as F}from"./index-1c6333b5.js";import{D as R}from"./index-090a8953.js";import{C as A,B as O,A as H,a as I,b as P,R as V}from"./RouteDetail-b3469ae3.js";import{M as Y}from"./index-1b218db3.js";import{_ as j,t as f,g as N,a as _}from"./index-e058a960.js";import{d as z}from"./dayjs.min-72c81edc.js";import{o as v,x as c,bj as h,m as r,n as a,aF as i,as as n,p as l,aT as p}from"./preload-helper-9e0646ca.js";import"./iconify-4e42c13d.js";import"./dom-891ac6c3.js";import"./focus-management-e6c5d1fd.js";import"./open-closed-486d85f0.js";import"./use-resolve-button-type-38f1f99a.js";import"./use-outside-click-a758fdce.js";import"./index-cc7a2b4b.js";import"./transition-39b574f4.js";import"./hidden-11a9ab9d.js";import"./micro-task-89dcd6af.js";const T={name:"ReceiveView",components:{Card:S,Icon:g,Button:E,Expansion:F,Dropdown:R,CoverSheet:A,BookDetail:O,AttachedFile:H,BookReference:I,Activity:P,RouteDetail:V,Modal:Y},data(){return{isOpen:!1,pdfPath:"",urlSarabun:f,item:null,isSuccess:!1,isError:!1,isSigned:!1,pinError:""}},created(){this.fetchData()},computed:{isMobile(){return N().isMobile}},methods:{async pdfHistory(){const{data:e,status:o}=await _("documentStore","PDFHistory",{payload:this.$route.params.id});o==200&&(console.log("data pdf",e.result),this.pdfPath=e.result,this.isOpen=!0)},async fetchData(){console.log("fetchData");const{data:e,status:o}=await _("pullbackStore","showHistory",{payload:this.$route.params.id});o===200&&(this.item=await e.result)},convertDate(e){return e?z(e).locale("th").add(543,"year").format("DD/MM/YYYY"):"-"},downloadFileDocument(e){console.log(e)},downloadFile(e){const o=f+e;window.open(o,"_blank")}}},q={key:0,class:"flex items-center gap-3"},G=l("div",null,"กลับไปหน้ารายการ",-1),J={class:"md:text-2xl text-[16px] font-medium my-6"},K=["src"];function L(e,o,Q,U,t,s){const y=i("Icon"),k=i("CoverSheet"),b=i("BookDetail"),D=i("AttachedFile"),x=i("BookReference"),C=i("Activity"),M=i("RouteDetail"),w=i("Card"),B=i("Modal");return n(),v("div",null,[c(w,null,{default:h(()=>{var m,d,u;return[s.isMobile?a("",!0):(n(),v("div",q,[l("div",{onClick:o[0]||(o[0]=W=>e.$router.back()),class:"flex items-center text-primary-600 cursor-pointer"},[c(y,{icon:"mdi:chevron-left",class:"text-xl"}),G])])),l("div",J," วันที่ "+p(s.convertDate((m=t.item)==null?void 0:m.document_date))+" "+p((d=t.item)==null?void 0:d.subject)+" พ.ศ. "+p((u=t.item)==null?void 0:u.year),1),c(k,{item:t.item},null,8,["item"]),c(b,{item:t.item},null,8,["item"]),s.isMobile?a("",!0):(n(),r(D,{key:1,item:t.item},null,8,["item"])),s.isMobile?a("",!0):(n(),r(x,{key:2,item:t.item},null,8,["item"])),s.isMobile?a("",!0):(n(),r(C,{key:3,item:t.item,"onEvent:onClick":s.pdfHistory},null,8,["item","onEvent:onClick"])),s.isMobile?a("",!0):(n(),r(M,{key:4,item:t.item},null,8,["item"]))]}),_:1}),t.isOpen?(n(),r(B,{key:0,title:"ดูรายละเอียดเอกสาร",labelClass:"btn-outline-dark",sizeClass:"w-3/4",label:"",centered:"",activeModal:t.isOpen,"onEvent:closeModal":o[1]||(o[1]=m=>t.isOpen=!1)},{default:h(()=>[l("div",null,[l("iframe",{class:"w-full h-[1000px] mt-4",src:"data:application/pdf;base64, "+t.pdfPath,frameborder:"0"},null,8,K)])]),_:1},8,["activeModal"])):a("",!0)])}const he=j(T,[["render",L]]);export{he as default};
