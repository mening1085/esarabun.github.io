import{_ as d}from"./index-f91482a0.js";import{aF as u,as as l,o as i,x as m,p as r,n as h,ac as f}from"./preload-helper-f37a9bec.js";const p={onOpen:[function(e,n,t){t.changeYear(new Date().getFullYear()+543)}],wrap:!0,disableMobile:!0,altFormat:"d/m/Y",altInput:!0,dateFormat:"Y-m-d",locale:{weekdays:{shorthand:["พฤ","ศ","ส","อา","จ","อ","พ"],longhand:["พฤหัสบดี","ศุกร์","เสาร์","อาทิตย์","จันทร์","อังคาร","พุธ"]},months:{shorthand:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],longhand:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"]},firstDayOfWeek:3}};const v={name:"CFlatPickr",props:{value:{default:""},classes:{default:""},clearable:{default:!1},config:{default:()=>({})}},data(){return{tempDate:"",configTH:p,content:this.value?this.toBEYear():""}},watch:{value:{immediate:!0,handler(e){this.content=e?this.toBEYear():""}}},methods:{isShow(){return["issue/order/wait-to-receive/view","issue/order/wait-to-send/view","issue/signed/wait-to-receive/view","issue/signed/wait-to-send/view","issue/signed/wait-to-send/view"].includes(this.$route.name)},eventChange(e){if(e){let t=function(s){let a=s.split("-");return a=[(parseInt(a[0])-543).toString(),a[1],a[2]].join("-"),a};this.tempDate=e;let n;if(e.split(" to ").length>1){let s=t(e.split(" to ")[0]),a=t(e.split(" to ")[1]);n=[s,a]}else n=t(e);this.$emit("onChange",n)}},toBEYear(){let e=new Date(this.value);return e.setFullYear(e.getFullYear()+543),e},async clear(){if(this.tempDate){this.tempDate="";let e=document.querySelector("input.rand-[type=text]");e.focus();const n=new KeyboardEvent("keydown",{keyCode:46});e.dispatchEvent(n),await new Promise((s,a)=>setTimeout(s,200));const t=new KeyboardEvent("keydown",{keyCode:27});e.dispatchEvent(t),this.$emit("clearDate",[])}}}},w={key:0},_=r("div",{class:"text-2xl text-slate-500"},"x",-1),g=[_];function y(e,n,t,s,a,o){const c=u("flat-pickr");return l(),i("div",{class:f(["form-control",t.classes])},[m(c,{class:"border-none inner-flatpickr","model-value":a.content,config:{...a.configTH,...t.config,minDate:o.isShow()?new Date().setFullYear(new Date().getFullYear()+543):""},"onUpdate:modelValue":o.eventChange},null,8,["model-value","config","onUpdate:modelValue"]),t.clearable?(l(),i("div",w,[r("button",{type:"button",class:"clear-position",onClick:n[0]||(n[0]=k=>o.clear())},g)])):h("",!0)],2)}const F=d(v,[["render",y]]);export{F as C};
