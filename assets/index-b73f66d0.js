import{C as y}from"./index-cb5a08aa.js";import{B as C}from"./index-c2d6eb9c.js";import{E as w}from"./index-360221be.js";import{E as T}from"./index-12ff35eb.js";import{V as j,C as k}from"./VueSelect-403231fd.js";import{_ as D,a as S}from"./index-f91482a0.js";import{o as u,x as l,bj as o,aF as n,as as f,p as t,aT as r,n as V}from"./preload-helper-f37a9bec.js";import"./index-8d30ace7.js";import"./iconify-2baafea4.js";import"./index-325a54cb.js";import"./ck-white-3501111f.js";const B={components:{Card:y,Button:C,Expansion:w,ExpansionTableRow:T,VueSelect:j,vSelect:k},data(){return{yearList:[{id:1,title:"2564"},{id:2,title:"2565"},{id:3,title:"2566"},{id:4,title:"2567"},{id:5,title:"2568"}],filter:{year:""},columns:[{label:"วันที่",field:"holiday_date",width:"20%",tdClass:"text_left",thClass:"text_left"},{label:"วันหยุด",field:"name",width:"80%",tdClass:"text_left",thClass:"text_left"}],settings:{},editList:[{id:1,title:"ห้ามแก้ไขหลัง ลงนาม/สั่งการ"},{id:2,title:"ห้ามแก้ไขหลัง ยืนยันการรับหนังสือ"}],onlyList:[{id:1,title:"ทุกวัน"},{id:2,title:"เฉพาะวันทำการ"}],advancedTable:[],advancedTableDefault:[],paginate:{total:50,current:1,perpage:10,pageRange:5}}},async created(){this.res=await S("commonSetting","index"),this.advancedTableDefault=this.res.data.result.holiday,this.advancedTable=this.advancedTableDefault,console.log("list",this.advancedTable),this.settings=this.res.data.result,console.log("data",this.settings)},watch:{filter:{handler(){this.filter.year||(this.advancedTable=this.advancedTableDefault)},deep:!0}},computed:{filteredObjects(){return this.editList.filter(a=>a.id===this.settings.edit)},filteredObjects2(){return this.onlyList.filter(a=>a.id===this.settings.edit)}},methods:{filterYear(a){console.log("dsa",a),this.advancedTable=this.advancedTableDefault.filter(i=>i.year==parseInt(a.title)-543)},formatDate(a){if(a){const i=new Date(a),c=i.getDate().toString().padStart(2,"0"),_=(i.getMonth()+1).toString().padStart(2,"0"),e=i.getFullYear()+543;let s="";switch(i.getDay()){case 1:s="วันจันทร์";break;case 2:s="อังคาร";break;case 3:s="พุธ";break;case 4:s="พฤหัสบดี";break;case 5:s="ศุกร์";break;case 6:s="เสาร์";break;default:s="อาทิตย์"}return`${c}/${_}/${e} (${s})`}else return null}}},E={class:"general-setting"},L={class:"md:flex pb-6 md:space-x-8 space-x-8 items-center"},I=t("div",null,[t("span",null,"ตั้งค่าทั่วไป")],-1),O={class:"p-4"},F={class:"flex items-center bg-gray-100 h-[80px]"},N=t("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0 font-bold"}," ระยะเวลา Log off อัตโนมัติเมื่อไม่มีการใช้งานเป็นระยะ ",-1),Y={class:"sm:basis-1/3 basis-full"},R={class:"flex items-center h-[80px]"},M=t("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0 font-bold"}," ระบบจะลบรายการในถังขยะถาวรหลังจาก ",-1),U={class:"sm:basis-1/3 basis-full"},q={class:"flex items-center h-[80px] bg-gray-100"},z=t("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0 font-bold"}," การแก้ไขหนังสือ ",-1),A={class:"sm:basis-1/3 basis-full"},G={class:"flex items-center h-[80px]"},H=t("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0 font-bold"}," การนับวันในระบบ ",-1),J={class:"sm:basis-1/3 basis-full"},K={class:"mt-5"},P={class:"mt-4 px-4"},Q={class:"flex justify-center bg-gray-100 py-2"},W=t("span",{class:"font-bold mr-10 test"},"ปฏิทินวันหยุด",-1),X={class:"flex"},Z={class:"basis-full test"},$={class:"general-setting p-4"},tt=t("div",{class:"text-center"},[t("div",{class:"text-gray-400"},"ไม่พบข้อมูล")],-1),et={key:0};function st(a,i,c,_,e,s){const p=n("Button"),b=n("router-link"),m=n("Expansion"),h=n("vSelect"),v=n("VueSelect"),g=n("vue-good-table"),x=n("Card");return f(),u("div",E,[l(x,{noborder:""},{default:o(()=>[t("div",L,[I,t("div",null,[l(b,{to:"general/edit"},{default:o(()=>[l(p,{text:"แก้ไข",btnClass:"btn-primary rounded-md h-8 items-center m-2 text-sm w-[100px]"})]),_:1})])]),t("div",null,[t("div",null,[l(m,{activeItem:!0,parentClass:"space-y-5",title:"ตั้งค่าระบบ"},{default:o(()=>[t("div",O,[t("div",F,[N,t("div",Y,r(e.settings.session_duration+" นาที"),1)]),t("div",R,[M,t("div",U,r(e.settings.format_bin_duration+" วัน"),1)]),t("div",q,[z,t("div",A,r(e.settings.edit_document_rules=="after_sign"?"ห้ามแก้ไขหลัง ลงนาม/สั่งการ":"ห้ามแก้ไขหลัง ยืนยันการรับหนังสือ"),1)]),t("div",G,[H,t("div",J,r(e.settings.date_count_rules=="all"?"ทั้งหมด":"เฉพาะวันทำการ"),1)])])]),_:1})]),t("div",K,[l(m,{activeItem:!0,parentClass:"space-y-5",title:"ตั้งค่าปฏิทินวันหยุด"},{default:o(()=>[t("div",P,[t("div",Q,[W,t("div",X,[t("div",Z,[l(v,{classInput:"input_color"},{default:o(()=>[l(h,{placeholder:"วันหยุดทั้งหมด",modelValue:e.filter.year,"onUpdate:modelValue":i[0]||(i[0]=d=>e.filter.year=d),label:"title",class:"input_color border rounded w-[300px]",reduce:d=>d.title,options:e.yearList,"onOption:selected":s.filterYear},null,8,["modelValue","reduce","options","onOption:selected"])]),_:1})])])])]),t("div",$,[l(g,{columns:e.columns,styleClass:" vgt-table bordered centered",rows:e.advancedTable,"sort-options":{enabled:!1}},{emptystate:o(()=>[tt]),"table-row":o(d=>[d.column.field==="holiday_date"?(f(),u("span",et,r(s.formatDate(d.row.holiday_date)),1)):V("",!0)]),_:1},8,["columns","rows"])])]),_:1})])])]),_:1})])}const ft=D(B,[["render",st]]);export{ft as default};
