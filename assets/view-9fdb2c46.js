import{s as S}from"./showOrg-b62a5e1b.js";import{C as E}from"./index-263882d1.js";import{I as F}from"./index-72ee420c.js";import{B as O}from"./index-441935dc.js";import{E as A}from"./index-1c6333b5.js";import{D as I}from"./index-090a8953.js";import{C as P,B as V,A as Y,a as j,b as H,R as N}from"./RouteDetail-b3469ae3.js";import{B as z}from"./BookDraftRef-746d0155.js";import{M as T}from"./index-1b218db3.js";import{_ as q,t as f,g as G,a as _}from"./index-e058a960.js";import{d as J}from"./dayjs.min-72c81edc.js";import{o as h,x as n,bj as v,m,n as a,aF as o,as as s,p as l,aT as p}from"./preload-helper-9e0646ca.js";import"./TextValid-100be459.js";import"./VueSelect-4c8519b3.js";import"./index-31d1a8ca.js";import"./vue-cleave.min-9e1201c2.js";import"./index-86a58ede.js";import"./Modal-19eb68c4.js";import"./transition-39b574f4.js";import"./dom-891ac6c3.js";import"./hidden-11a9ab9d.js";import"./focus-management-e6c5d1fd.js";import"./micro-task-89dcd6af.js";import"./open-closed-486d85f0.js";import"./use-outside-click-a758fdce.js";import"./index-8994827d.js";import"./ck-white-7280cd79.js";import"./tabs-aa384b53.js";import"./use-resolve-button-type-38f1f99a.js";import"./index-96a9bfa7.js";import"./vue3-tree-vue.esm-b89ac387.js";import"./index-3069c0b6.js";import"./index-2d8ae848.js";import"./iconify-4e42c13d.js";import"./index-cc7a2b4b.js";const K={name:"ReceiveView",components:{Card:E,Icon:F,Button:O,Expansion:A,Dropdown:I,CoverSheet:P,BookDetail:V,AttachedFile:Y,BookReference:j,Activity:H,RouteDetail:N,BookDraftRef:z,Modal:T,showOrg:S},data(){return{isOpen:!1,pdfPath:"",urlSarabun:f,item:null,isSuccess:!1,isError:!1,isSigned:!1,pinError:""}},created(){this.fetchData()},computed:{isMobile(){return G().isMobile}},methods:{async pdfHistory(){const{data:t,status:i}=await _("documentStore","PDFHistory",{payload:this.$route.params.id});i==200&&(console.log("data pdf",t.result),this.pdfPath=t.result,this.isOpen=!0)},async fetchData(){console.log("fetchData");const{data:t,status:i}=await _("documentSendStore","showReceived",{payload:this.$route.params.id});i===200&&(this.item=await t.result)},convertDate(t){return t?J(t).locale("th").add(543,"year").format("DD/MM/YYYY"):"-"},downloadFileDocument(t){console.log(t)},downloadFile(t){const i=f+t;window.open(i,"_blank")}}},L={key:0,class:"flex items-center gap-3"},Q=l("div",null,"กลับไปหน้ารายการ",-1),U={class:"md:text-2xl text-[16px] font-medium my-6"},W=["src"];function X(t,i,Z,$,e,r){const k=o("Icon"),y=o("CoverSheet"),D=o("BookDetail"),b=o("BookDraftRef"),w=o("AttachedFile"),B=o("BookReference"),x=o("Activity"),C=o("RouteDetail"),M=o("showOrg"),g=o("Card"),R=o("Modal");return s(),h("div",null,[n(g,null,{default:v(()=>{var c,d,u;return[r.isMobile?a("",!0):(s(),h("div",L,[l("div",{onClick:i[0]||(i[0]=ee=>t.$router.back()),class:"flex items-center text-primary-600 cursor-pointer"},[n(k,{icon:"mdi:chevron-left",class:"text-xl"}),Q])])),l("div",U," วันที่ "+p(r.convertDate((c=e.item)==null?void 0:c.document_date))+" "+p((d=e.item)==null?void 0:d.subject)+" พ.ศ. "+p((u=e.item)==null?void 0:u.year),1),n(y,{item:e.item},null,8,["item"]),n(D,{item:e.item},null,8,["item"]),n(b,{item:e.item},null,8,["item"]),r.isMobile?a("",!0):(s(),m(w,{key:1,item:e.item},null,8,["item"])),r.isMobile?a("",!0):(s(),m(B,{key:2,item:e.item},null,8,["item"])),r.isMobile?a("",!0):(s(),m(x,{key:3,item:e.item,"onEvent:onClick":r.pdfHistory},null,8,["item","onEvent:onClick"])),r.isMobile?a("",!0):(s(),m(C,{key:4,item:e.item},null,8,["item"])),n(M,{item:e.item},null,8,["item"])]}),_:1}),e.isOpen?(s(),m(R,{key:0,title:"ดูรายละเอียดเอกสาร",labelClass:"btn-outline-dark",sizeClass:"w-3/4",label:"",centered:"",activeModal:e.isOpen,"onEvent:closeModal":i[1]||(i[1]=c=>e.isOpen=!1)},{default:v(()=>[l("div",null,[l("iframe",{class:"w-full h-[1000px] mt-4",src:"data:application/pdf;base64, "+e.pdfPath,frameborder:"0"},null,8,W)])]),_:1},8,["activeModal"])):a("",!0)])}const Ve=q(K,[["render",X]]);export{Ve as default};
