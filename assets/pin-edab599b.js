import{I as x}from"./index-8d30ace7.js";import{_ as m,g as v,a as d,c as u,d as b,e as g}from"./index-f91482a0.js";import{o as s,p as e,n as c,F as p,aD as h,x as y,aT as _,aF as k,as as i}from"./preload-helper-f37a9bec.js";import"./iconify-2baafea4.js";const w={components:{Icon:x},data(){return{errorMessage:"",pins:[{active:!1},{active:!1},{active:!1},{active:!1},{active:!1},{active:!1}],pin:""}},computed:{isMobile(){return v().isMobile}},watch:{pin:{handler(){this.pin.length===6&&this.checkPin(),this.errorMessage=""}}},methods:{async getMenuRole(){await d("generalStore","getMenu",{payload:{system_type:"e-sarabun"}})},async checkPin(){const{status:o}=await d("authStore","checkPin",{payload:{pin_code:this.pin,user_id:u().userInfo.id,deviceToken:this.$route.query.deviceToken}});o==200?(u().setPinActive(!0),this.getMenuRole(),this.$router.push("/app/home")):this.errorMessage="รหัส PIN ไม่ถูกต้อง"},addPin(o){this.pin.length<6&&(this.pin+=o.toString(),this.pins[this.pin.length-1].active=!0)},removePin(){this.pin.length>0&&(this.pin=this.pin.slice(0,-1),this.pins[this.pin.length].active=!1)}}},j={class:"relative pin"},M=e("img",{class:"absolute top-[-55px] left-0 w-full h-full object-contain",src:b,alt:"",style:{"margin-left":"auto","margin-right":"auto"}},null,-1),P={class:"relative z-[1] h-screen flex flex-col items-center justify-between"},C={key:0,class:"mt-12 w-[100px] h-[100px] mr-auto ml-auto",src:g,alt:""},I={key:1,class:"text-center text-white mt-4 mb-6"},N=e("div",{class:"text-[16px] font-semibold mb-2"}," สำนักงานเศรษฐกิจการเกษตร ",-1),S=e("div",{class:"text-[12px]"},"e-Office Automation",-1),F=[N,S],B={class:"w-full"},T=e("div",{class:"text-center"},"กรุณากรอกรหัส PIN",-1),V={class:"flex justify-center mt-6"},$={class:"flex justify-between w-[200px]"},A=["onClick"],D={key:0,class:"w-[20px] h-[20px] rounded-full bg-white"},R={class:"bg-white rounded-t-xl mt-10"},q={class:"flex justify-center flex-wrap px-8 pt-8 pb-4 text-black-500"},z=["onClick"],E=e("div",{class:"basis-1/3 flex items-center justify-center"},[e("div",{class:"flex items-center rounded-full justify-center w-[70px] h-[70px] text-2xl"})],-1),L={class:"basis-1/3 flex items-center justify-center"},O={class:"basis-1/3 flex items-center justify-center gap-3"},G={class:"text-center text-red-500 h-[20px] mb-2"},H={key:0};function J(o,n,K,Q,l,r){const f=k("Icon");return i(),s("div",j,[M,e("div",P,[e("div",null,[r.isMobile?(i(),s("img",C)):c("",!0),r.isMobile?(i(),s("div",I,F)):c("",!0)]),e("div",B,[T,e("div",V,[e("div",$,[(i(!0),s(p,null,h(l.pins,(t,a)=>(i(),s("div",{key:a,class:"flex justify-center items-center w-[20px] h-[20px] border border-solid border-gray-300 rounded-full",onClick:U=>t.active=!t.active},[l.pin.length>a?(i(),s("div",D)):c("",!0)],8,A))),128))])]),e("div",R,[e("div",q,[(i(),s(p,null,h(9,t=>e("div",{key:t,class:"basis-1/3 flex items-center justify-center mb-4"},[e("button",{onClick:a=>r.addPin(t),class:"flex items-center rounded-full justify-center w-[70px] h-[70px] text-2xl border border-solid border-gray-300"},_(t),9,z)])),64)),E,e("div",L,[e("button",{onClick:n[0]||(n[0]=t=>r.addPin(0)),class:"flex items-center rounded-full justify-center w-[70px] h-[70px] text-2xl border border-solid border-gray-300"}," 0 ")]),e("div",O,[e("button",{onClick:n[1]||(n[1]=t=>r.removePin()),class:"flex items-center justify-center w-[70px] h-[70px]"},[y(f,{class:"text-4xl text-gray-500",icon:"cil:delete"})])])]),e("div",G,[l.errorMessage?(i(),s("p",H,_(l.errorMessage),1)):c("",!0)]),e("div",{class:"text-center text-black-500 pb-14",onClick:n[2]||(n[2]=t=>o.$router.push("/change-pin"))}," ลืมรหัส PIN ")])])])])}const ee=m(w,[["render",J]]);export{ee as default};
