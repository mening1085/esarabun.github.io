import{e as b}from"./vue3-tree-vue.esm-b89ac387.js";import{_ as h}from"./index-e058a960.js";import{M as x}from"./Modal-19eb68c4.js";import{B as O}from"./index-441935dc.js";import{I as w}from"./index-a60d9262.js";import{I}from"./index-72ee420c.js";import{R as M}from"./index-3069c0b6.js";import{aA as g,be as p,k as y,aF as s,as as C,m as S,bj as c,p as d,x as r,ac as k,aT as V,n as B}from"./preload-helper-9e0646ca.js";const D={name:"ModalOrganize",components:{Modal:x,Button:O,InputGroup:w,Icon:I,tree:b,Radio:M},emits:["event:closeModal","event:acceptSelectOrganize","event:onSelectedItem"],props:["items","value","isShowDialogOrganize"],setup(n,{emit:e}){const l=g(null),o=g(""),v=g([]),f=t=>{t.have_sub_organization!=!1&&(l.value=t.id,e("event:onSelectedItem",t))},m=()=>{e("event:acceptSelectOrganize",l.value)},u=()=>{e("event:closeModal")};p(()=>n.value,t=>{l.value=t}),p(()=>n.items,t=>{i.value=t,v.value=t});const i=y(()=>{if(o.value=="")return n.items;{if(n.items.length==0)return;let t=[];return n.items.forEach(_=>{t=_.children.filter(a=>a.organization_name.toLowerCase().includes(o.value.toLowerCase()))}),[{id:n.items[0].id,organization_name:n.items[0].organization_name,have_sub_organization:n.items[0].have_sub_organization,children:t}]}});return{organizeList:i,checkedItem:l,searchOrganize:o,onSelectedItem:f,closeModal:u,onAcceptSelectOrganize:m}}},L={class:"mb-8"},G={class:"h-[500px] overflow-y-scroll shadow-sm"},R={class:"text-center flex justify-center w-full mb-10 mt-3"};function A(n,e,l,o,v,f){const m=s("InputGroup"),u=s("Radio"),i=s("tree"),t=s("Button"),_=s("Modal");return l.isShowDialogOrganize?(C(),S(_,{key:0,title:"เลือกหน่วยงาน",label:"",labelClass:"btn-outline-dark",ref:"modalDialog",sizeClass:"max-w-3xl",centered:"",activeModal:l.isShowDialogOrganize,"onEvent:closeModal":e[4]||(e[4]=a=>o.closeModal())},{footer:c(()=>[d("div",R,[r(t,{text:"บันทึก",type:"submit",btnClass:"btn-primary w-32 font-medium mx-2",onOnClick:e[2]||(e[2]=a=>o.onAcceptSelectOrganize())}),r(t,{text:"ยกเลิก",btnClass:"btn-outline-dark w-32 mx-2",onOnClick:e[3]||(e[3]=a=>o.closeModal())})])]),default:c(()=>[d("div",L,[r(m,{type:"text",placeholder:"ค้นหา",prependIcon:"material-symbols:search",classInput:"h-[40px] custom_text_input border-2 border-gray-400",merged:"",modelValue:o.searchOrganize,"onUpdate:modelValue":e[0]||(e[0]=a=>o.searchOrganize=a)},null,8,["modelValue"])]),d("div",G,[r(i,{items:o.organizeList,isCheckable:!1,hideGuideLines:!0,class:"tree-root-parent custom_tree_view",onOnSelect:o.onSelectedItem},{"item-prepend":c(a=>[d("div",{class:k(a.have_sub_organization==!1?"text-gray-400 cursor-not-allowed":"text-gray-800")},V(a.organization_name),3)]),"item-prepend-icon":c(a=>[r(u,{svg:"",inputClass:"bg-red-500",disabled:a.have_sub_organization==!1,value:a.id,modelValue:o.checkedItem,"onUpdate:modelValue":e[1]||(e[1]=z=>o.checkedItem=z)},null,8,["disabled","value","modelValue"])]),_:1},8,["items","onOnSelect"])])]),_:1},8,["activeModal"])):B("",!0)}const J=h(D,[["render",A]]);export{J as M};
