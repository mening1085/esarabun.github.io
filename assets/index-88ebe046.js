import{C as Te}from"./index-263882d1.js";import{I as Pe}from"./index-72ee420c.js";import{D as Ue}from"./index-090a8953.js";import{V as Ae,C as Le}from"./VueSelect-4c8519b3.js";import{M as Re}from"./Modal-19eb68c4.js";import{T as Be}from"./index-9078ba5b.js";import{I as Ne}from"./index-a60d9262.js";import{P as qe}from"./index-bb139ada.js";import{B as Fe}from"./index-441935dc.js";import{S as Ge}from"./index-a15147cf.js";import{C as He}from"./index-559355a7.js";import{M as Je}from"./index-7dc8252b.js";import{_ as Ke,a as k,u as Qe}from"./index-e058a960.js";import{C as We}from"./index-3f3a6812.js";import{T as Xe}from"./index-31d1a8ca.js";import{aA as n,be as de,al as Ye,o as _,x as i,bj as c,m as D,n as x,aF as m,as as d,p as e,aT as v,w as I,F as ce,aD as ue,bo as Ze}from"./preload-helper-9e0646ca.js";import{c as $e,a as O}from"./array-e684e252.js";import{u as es,a as T}from"./vee-validate.esm-0c282d04.js";import{R as ss}from"./index-3069c0b6.js";import{N as ts}from"./index-cc7a2b4b.js";import{e as ls}from"./vue3-tree-vue.esm-b89ac387.js";import{f as os}from"./global-funcs-ef1510cf.js";import"./iconify-4e42c13d.js";import"./dom-891ac6c3.js";import"./focus-management-e6c5d1fd.js";import"./open-closed-486d85f0.js";import"./use-resolve-button-type-38f1f99a.js";import"./use-outside-click-a758fdce.js";import"./transition-39b574f4.js";import"./hidden-11a9ab9d.js";import"./micro-task-89dcd6af.js";import"./vue-cleave.min-9e1201c2.js";import"./index-7e9b1d19.js";import"./index-1b218db3.js";const as={components:{Card:Te,Icon:Pe,Dropdown:Ue,VueSelect:Ae,vSelect:Le,Modal:Re,Tooltip:Be,InputGroup:Ne,Pagination:qe,Button:Fe,Switch:Ge,ChangeStatus:He,ModalSuccess:Je,ConfirmDelete:We,Textinput:Xe,Radio:ss,NavigationPath:ts,tree:ls},data(){return{findTreeDir:os,columns:[{label:"ชื่อบัญชีอีเมล",field:"name",width:"27.9%",tdClass:"text_left",thClass:"text_left"},{label:"หน่วยงาน",field:"organization",width:"25%",tdClass:"text_left",thClass:"text_left"},{label:"อีเมล",field:"email",width:"19.9%",tdClass:"text_left",thClass:"text_left"},{label:"เวลาดึงข้อมูลทุก",field:"hook_duration",width:"10.8%",tdClass:"text_left",thClass:"text_left"},{label:"สถานะการใช้งาน",field:"enabled",width:"22%",tdClass:"text_left",thClass:"text_left"},{label:"จัดการ",field:"action",width:"8.5%"}],showItem:{}}},setup(){const S={total:50,current:1,perpage:10,pageRange:5},l=n(!1),X=n(""),s=n(!1),g=n(!0),Y=n(!1);Qe();const b=n(!1),f=n(null),P=n(!1),U=n({}),j=n(!1),R=n(!1),p=n(!1),A=n(null),B=n(""),K=n(""),Q=n([]),Z=n([{id:10,title:"10 นาที"},{id:20,title:"20 นาที"},{id:30,title:"30 นาที"},{id:60,title:"1 ชั่วโมง"}]),y=n([]),W=n([]),u=n({}),w=n([]),M=n(!1),N=n(!1),t=n(""),r=n(!1),E=$e({server_inbox:O().required("กรุณาระบุเซิร์ฟเวอร์จดหมายขาเข้า"),server_output:O().required("กรุณาระบุเซิร์ฟเวอร์จดหมายขาออก"),email:O().required("กรุณาระบุอีเมล").email("กรุณากรอกอีเมลให้ถูกต้อง"),account_name:O().required("กรุณาระบุชื่อบัญชีอีเมล"),password:O().required("กรุณาระบุรหัสผ่าน").min(8,"รหัสผ่านควรมีความยาว 8 ตัวอย่างต่ำ"),parent_id:O().nullable().required("กรุณาระบุว่าอยู่หน่วยงานใด"),time_to_pull_data:O().nullable().required("กรุณาระบุดึงข้อมูลจากอีเมลทุก")}),{handleSubmit:q}=es({validationSchema:E}),{value:h,errorMessage:me}=T("server_inbox"),{value:F,errorMessage:_e}=T("server_output"),{value:V,errorMessage:ve}=T("email"),{value:G,errorMessage:fe}=T("account_name"),{value:H,errorMessage:ee}=T("password"),{value:L,errorMessage:be}=T("parent_id"),{value:J,errorMessage:pe}=T("time_to_pull_data"),se=o=>{if(!o)return"";let a="";return o.parent_organization&&(a+=se(o.parent_organization)),a+(a?" > ":"")+o.organization_name},z=async o=>{var te,le,oe,ae,ie,ne;const{data:a,status:$}=await k("pullEmailStore","get",{payload:{page:o,keyword:K.value,organization_id:B.value}});$==200&&(console.log("data",a),w.value=(te=a==null?void 0:a.result)==null?void 0:te.data,S.total=((le=a==null?void 0:a.result)==null?void 0:le.total_page)*((oe=a==null?void 0:a.result)==null?void 0:oe.per_page),S.current=(ae=a==null?void 0:a.result)==null?void 0:ae.current_page,S.perpage=(ie=a==null?void 0:a.result)==null?void 0:ie.per_page,Q.value=(ne=a==null?void 0:a.result)==null?void 0:ne.organization_list.map(re=>({id:re.id,title:re.organization_name})))},xe=async o=>{b.value=!1;const a=await k("pullEmailStore","delete",{payload:o});console.log("res",a),a.status==200?(M.value=!0,z(1)):(console.log("error: ",a),N.value=!0,t.value=a.data.message)},he=async o=>{b.value=!0,f.value=o},ge=async o=>{P.value=!0;const{data:a,status:$}=await k("pullEmailStore","show",{payload:o});$==200&&(U.value=await a.result),console.log("showItem",U.value)},ye=(o,a)=>{j.value=!0,f.value=o,R.value=a},we=()=>{C(),j.value=!1,f.value=null,w.value=w.value.map(o=>(console.log(f.value),o.id===f.value&&(o.enabled=!!o.enabled),o))},Ce=async o=>{console.log("payload",o);const a=await k("pullEmailStore","pullEmailChangeStatus",{payload:{id:o.id,status:o.status}});a.status==200?(Y.value=!0,C()):(console.log("error: ",a),ee.value=a.data.message),C()},C=()=>{j.value=!1,b.value=!1,M.value=!1,N.value=!1,t.value="",f.value=null,p.value=!1,A.value=null,J.value="",h.value="",F.value="",V.value="",H.value="",G.value="",g.value=!0,L.value=""},ke=()=>{P.value=!1},Ie=async()=>{r.value=!0;const{data:o,status:a}=await k("pullEmailStore","create");a===200&&(y.value=o.result.organization_list,W.value=o.result.organization_list),console.log(y.value)},Se=()=>{s.value=!1,r.value=!1,C()},je=()=>{s.value=!0},Me=()=>{s.value=!1},Ee=o=>{console.log("item",o),o.have_sub_organization&&(p.value=o.item_id,A.value=o,L.value=o.item_id.toString())},Ve=()=>{l.value=!1,r.value=!1,C()},ze=async o=>{S.current=o,await z(o)},De=q(async()=>{if(console.log("test",f.value),f.value){console.log("edit");let o={id:f.value,organization_id:Number(L.value),hook_duration:J.value,inbox_server:h.value,smtp_server:F.value,email:V.value,password:H.value,name:G.value,login_email:V.value,enabled:g.value,remember_password:!0};(await k("pullEmailStore","update",{payload:o})).status===200?(z(1),l.value=!0,C()):alert("error")}else{console.log("create");let o={organization_id:Number(L.value),hook_duration:J.value,inbox_server:h.value,smtp_server:F.value,email:V.value,password:H.value,name:G.value,login_email:V.value,enabled:g.value,remember_password:!0};console.log("payload",o),(await k("pullEmailStore","store",{payload:o})).status===200?(z(1),l.value=!0,C()):alert("error")}}),Oe=async o=>{const a=await k("pullEmailStore","edit",{payload:o});u.value=a.data.result.data,y.value=a.data.result.organization_list,console.log("edit",u.value),r.value=!0,L.value=u.value.organization[0].id,p.value=u.value.organization[0].id,A.value=u.value.organization[0],J.value=u.value.hook_duration,h.value=u.value.inbox_server,F.value=u.value.smtp_server,V.value=u.value.email,H.value=u.value.password,G.value=u.value.name,g.value=u.value.enabled,f.value=o,console.log("id test",f.value)};return de(()=>B.value,o=>{z(1)}),de(()=>X.value,o=>{y.value=W.value.filter(a=>a.organization_name.toLowerCase().includes(o.toLowerCase()))}),Ye(async()=>{z(1)}),{isShowModalDelete:b,modalId:f,isShowDialog:P,showItem:U,isShowDialogSwitch:j,modalStatus:R,advancedTable:w,isModalDeleteSuccess:M,isModalDeleteError:N,errorMessage:t,addEmailModal:r,onDelete:xe,showDetail:ge,onUpdateSwitch:ye,onCloseSwitch:we,onAcceptSwitch:Ce,clearModal:C,onClose:ke,addEmail:Ie,onCloseAddEmailModal:Se,onSubmit:De,server_inbox:h,server_inboxError:me,server_output:F,server_outputError:_e,email:V,emailError:ve,account_name:G,account_nameError:fe,password:H,passwordError:ee,isSuccess:Y,enabled:g,parent_id:L,parentIdError:be,organizeList:y,openOrgModal:s,addOrganizer:je,closeAddOrganizer:Me,onSelectedItem:Ee,checkedItem:p,selectedItem:A,searchOrganize:X,timeToPullDataList:Z,time_to_pull_data:J,timeToPullDataError:pe,onAccept:Ve,successModal:l,edit:u,clickEdit:Oe,getData:z,paginate:S,getOrganization:se,changePage:ze,openModalDelete:he,organization_list:Q,keyword:K,organize:B}}},is={class:"pull-email-setting"},ns={class:"md:flex justify-between pb-6 md:space-y-0 space-y-3 items-center"},rs={class:"basis-2/5"},ds={class:"flex flex-wrap sm:flex-nowrap gap-3 basis-3/5"},cs={class:"basis-full"},us={class:"basis-full"},ms=e("div",{class:"text-center"},[e("div",{class:"text-gray-400"},"ไม่พบข้อมูล")],-1),_s={key:0},vs={key:1},fs={class:"w-full ell-1"},bs={key:2},ps={key:3},xs={class:"w-full"},hs=["onClick"],gs=["onClick"],ys=["onClick"],ws={class:"py-4 px-3"},Cs=e("h4",{class:"text-lg text-slate-900"},[I(" เปิด/ปิดใช้งานสถานะการตั้งค่าอีเมล"),e("span",{class:"text-green-500"},"สำเร็จ")],-1),ks=e("h4",{class:"text-lg text-slate-900"},[I(" ลบข้อมูลตั้งค่าดึงข้อมูลจากอีเมล "),e("span",{class:"text-green-500"},"สำเร็จ")],-1),Is=e("div",{class:"text-xl"},"ข้อมูลทั่วไป",-1),Ss=e("br",null,null,-1),js={class:"bg-gray-100 py-3 px-3 sm:px-0"},Ms={class:"flex justify-center"},Es={class:"flex-1"},Vs={class:"flex flex-wrap"},zs=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," หน่วยงาน ",-1),Ds={class:"sm:basis-1/3 basis-full"},Os=e("div",{class:"text-xl mt-5"},"ตั้งค่าข้อมูลเซิร์ฟเวอร์",-1),Ts=e("br",null,null,-1),Ps={class:"bg-gray-100 py-3 px-3 sm:px-0"},Us={class:"flex justify-center"},As={class:"flex-1"},Ls={class:"flex flex-wrap"},Rs=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," ชนิดบัญชีผู้ใช้ ",-1),Bs={class:"sm:basis-1/3 basis-full"},Ns={class:"py-3 px-3 sm:px-0"},qs={class:"flex justify-center"},Fs={class:"flex-1"},Gs={class:"flex flex-wrap"},Hs=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," เซิร์ฟเวอร์จดหมายขาเข้า ",-1),Js={class:"sm:basis-1/3 basis-full"},Ks={class:"bg-gray-100 py-3 px-3 sm:px-0"},Qs={class:"flex justify-center"},Ws={class:"flex-1"},Xs={class:"flex flex-wrap"},Ys=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," เซิร์ฟเวอร์จดหมายขาออก (SMTP) ",-1),Zs={class:"sm:basis-1/3 basis-full"},$s=e("div",{class:"text-xl mt-5"},"ตั้งค่าเข้าสู่ระบบ",-1),et=e("br",null,null,-1),st={class:"bg-gray-100 py-3 px-3 sm:px-0"},tt={class:"flex justify-center"},lt={class:"flex-1"},ot={class:"flex flex-wrap"},at=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," ชื่อบัญชีอีเมล ",-1),it={class:"sm:basis-1/3 basis-full"},nt={class:"py-3 px-3 sm:px-0"},rt={class:"flex justify-center"},dt={class:"flex-1"},ct={class:"flex flex-wrap"},ut=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," อีเมล ",-1),mt={class:"sm:basis-1/3 basis-full"},_t={class:"bg-gray-100 py-3 px-3 sm:px-0"},vt={class:"flex justify-center"},ft={class:"flex-1"},bt={class:"flex flex-wrap"},pt=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," รหัสผ่าน ",-1),xt={class:"sm:basis-1/3 basis-full"},ht={class:"py-3 px-3 sm:px-0"},gt={class:"flex justify-center"},yt={class:"flex-1"},wt={class:"flex flex-wrap"},Ct=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," ดึงข้อมูลจากอีเมลทุก ",-1),kt={class:"sm:basis-1/3 basis-full"},It={class:"bg-gray-100 py-3 px-3 sm:px-0"},St={class:"flex justify-center"},jt={class:"flex-1"},Mt={class:"flex flex-wrap"},Et=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," สถานะการใช้งาน ",-1),Vt={class:"sm:basis-1/3 basis-full"},zt={class:"text-center mt-4 flex justify-center w-full"},Dt={key:0},Ot=e("div",{class:"text-xl"},"ข้อมูลทั่วไป",-1),Tt=e("br",null,null,-1),Pt={class:"bg-gray-100 py-3 px-3 sm:px-0"},Ut={class:"flex justify-center"},At={class:"flex-1"},Lt={class:"flex flex-wrap"},Rt=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," หน่วยงาน ",-1),Bt={class:"sm:basis-1/3 basis-full"},Nt={class:"px-2 mt-3 flex truncate"},qt=e("div",{class:"shrink-0"},"หน่วยงานที่เลือก:",-1),Ft={class:"ell-11 truncate text-left pl-3"},Gt={class:"breadcrumbs mb-6"},Ht={key:0,class:"breadcrumbs-icon rtl:transform rtl:rotate-180"},Jt={class:"breadcrumbs mb-6"},Kt={key:0,class:"breadcrumbs-icon rtl:transform rtl:rotate-180"},Qt={key:0,class:"text-danger-500 block text-sm"},Wt=e("div",{class:"text-xl mt-5"},"ตั้งค่าข้อมูลเซิร์ฟเวอร์",-1),Xt=e("br",null,null,-1),Yt={class:"py-3 px-3 sm:px-0"},Zt={class:"flex justify-center"},$t={class:"flex-1"},el={class:"flex flex-wrap"},sl=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," เซิร์ฟเวอร์จดหมายขาเข้า ",-1),tl={class:"sm:basis-1/3 basis-full"},ll={class:"bg-gray-100 py-3 px-3 sm:px-0"},ol={class:"flex justify-center"},al={class:"flex-1"},il={class:"flex flex-wrap"},nl=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," เซิร์ฟเวอร์จดหมายขาออก (SMTP) ",-1),rl={class:"sm:basis-1/3 basis-full"},dl=e("div",{class:"text-xl mt-5"},"ตั้งค่าเข้าสู่ระบบ",-1),cl=e("br",null,null,-1),ul={class:"bg-gray-100 py-3 px-3 sm:px-0"},ml={class:"flex justify-center"},_l={class:"flex-1"},vl={class:"flex flex-wrap"},fl=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," ชื่อบัญชีอีเมล ",-1),bl={class:"sm:basis-1/3 basis-full"},pl={class:"py-3 px-3 sm:px-0"},xl={class:"flex justify-center"},hl={class:"flex-1"},gl={class:"flex flex-wrap"},yl=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," อีเมล ",-1),wl={class:"sm:basis-1/3 basis-full"},Cl={class:"bg-gray-100 py-3 px-3 sm:px-0"},kl={class:"flex justify-center"},Il={class:"flex-1"},Sl={class:"flex flex-wrap"},jl=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," รหัสผ่าน ",-1),Ml={class:"sm:basis-1/3 basis-full"},El={class:"py-3 px-3 sm:px-0"},Vl={class:"flex justify-center"},zl={class:"flex-1"},Dl={class:"flex flex-wrap"},Ol=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," ดึงข้อมูลจากอีเมลทุก ",-1),Tl={class:"sm:basis-1/3 basis-full"},Pl={class:"mt-3"},Ul={key:0,class:"text-danger-500 block text-sm"},Al={class:"bg-gray-100 py-3 px-3 sm:px-0"},Ll={class:"flex justify-center"},Rl={class:"flex-1"},Bl={class:"flex flex-wrap"},Nl=e("div",{class:"sm:basis-1/3 basis-full pr-4 flex sm:justify-end justify-start mb-1 sm:mb-0"}," สถานะการใช้งาน ",-1),ql={class:"sm:basis-2/3 basis-full flex space-x-32 flex-wrap"},Fl=e("hr",{class:"mt-5 border"},null,-1),Gl={class:"text-center mt-4 flex justify-center w-full"},Hl={key:1},Jl={class:"mb-8"},Kl={class:"h-[350px] overflow-y-scroll"},Ql=e("hr",{class:"mt-5 border"},null,-1),Wl={class:"text-center flex justify-center w-full mt-10"},Xl={class:"h-36 flex items-center justify-center"},Yl={class:"text-center flex flex-row flex-wrap justify-center"},Zl={class:"basis-full flex justify-center mb-5"},$l={key:0,class:"text-lg text-slate-900"},eo=e("span",{class:"text-green-500"},"สำเร็จ",-1),so={key:1,class:"text-lg text-slate-900"},to=e("span",{class:"text-green-500"},"สำเร็จ",-1),lo={class:"flex justify-center w-full"};function oo(S,l,X,s,g,Y){const b=m("Button"),f=m("vSelect"),P=m("VueSelect"),U=m("InputGroup"),j=m("Tooltip"),R=m("Switch"),p=m("Icon"),A=m("Dropdown"),B=m("Pagination"),K=m("vue-good-table"),Q=m("Card"),Z=m("ChangeStatus"),y=m("ModalSuccess"),W=m("ConfirmDelete"),u=m("Textinput"),w=m("Modal"),M=m("Radio"),N=m("tree");return d(),_("div",is,[i(Q,{noborder:""},{default:c(()=>[e("div",ns,[e("div",rs,[i(b,{icon:"ic:baseline-plus",text:"เพิ่มอีเมล",btnClass:"btn-primary rounded-md",onClick:l[0]||(l[0]=t=>s.addEmail())})]),e("div",ds,[e("div",cs,[i(P,{classInput:"input_color"},{default:c(()=>[i(f,{modelValue:s.organize,"onUpdate:modelValue":l[1]||(l[1]=t=>s.organize=t),label:"title",placeholder:"หน่วยงาน",class:"input_color border rounded",reduce:t=>t.id,options:s.organization_list},null,8,["modelValue","reduce","options"])]),_:1})]),e("div",us,[i(U,{modelValue:s.keyword,"onUpdate:modelValue":l[2]||(l[2]=t=>s.keyword=t),placeholder:"Search",classInputGroup:"border-gray-200",type:"text",prependIcon:"heroicons-outline:search",merged:"",inputEnter:"","onEvent:inputEnter":l[3]||(l[3]=t=>s.getData(1))},null,8,["modelValue"])])])]),i(K,{columns:g.columns,styleClass:" vgt-table bordered centered",rows:s.advancedTable,"pagination-options":{enabled:!0,perPage:s.paginate.perpage},"sort-options":{enabled:!1}},{emptystate:c(()=>[ms]),"table-row":c(t=>[t.column.field=="hook_duration"?(d(),_("span",_s,v(t.row.hook_duration>=60?Math.floor(t.row.hook_duration/60)+" ชั่วโมง":t.row.hook_duration+" นาที"),1)):x("",!0),t.column.field=="organization"?(d(),_("span",vs,[i(j,null,{base:c(()=>[e("div",fs,v(s.getOrganization(t.row.organization)),1)]),default:c(()=>[e("div",null,v(s.getOrganization(t.row.organization)),1)]),_:2},1024)])):x("",!0),t.column.field=="enabled"?(d(),_("span",bs,[t.row.enabled?(d(),D(R,{key:0,label:"เปิดใช้งาน",activeClass:"bg-primary-500",active:!0,modelValue:t.row.enabled,"onUpdate:modelValue":r=>{t.row.enabled=r,s.modalId=t.row.id,s.onUpdateSwitch(t.row.id,r)}},null,8,["modelValue","onUpdate:modelValue"])):(d(),D(R,{key:1,label:"ปิดใช้งาน",activeClass:"bg-primary-500",active:!1,modelValue:t.row.enabled,"onUpdate:modelValue":r=>{t.row.enabled=r,s.modalId=t.row.id,s.onUpdateSwitch(t.row.id,r)}},null,8,["modelValue","onUpdate:modelValue"]))])):x("",!0),t.column.field=="action"?(d(),_("span",ps,[i(A,{classMenuItems:"right-full  w-[220px] top-[110%] "},{menus:c(()=>[e("ul",xs,[e("li",null,[e("div",{class:"p-2 flex items-center hover:bg-gray-50 cursor-pointer",onClick:r=>s.clickEdit(t.row.id)},[i(p,{icon:"bx:edit",class:"text-xl mr-2"}),I(" แก้ไข ")],8,hs)]),e("li",null,[e("div",{class:"p-2 flex items-center hover:bg-gray-50 cursor-pointer",onClick:r=>s.showDetail(t.row.id)},[i(p,{icon:"grommet-icons:document-text",class:"text-xl mr-2"}),I(" ดูรายละเอียด ")],8,gs)]),e("li",null,[e("div",{class:"p-2 flex items-center hover:bg-gray-50 cursor-pointer border-t text-red-500",onClick:r=>s.openModalDelete(t.row.id)},[i(p,{icon:"material-symbols:delete",class:"text-xl mr-2"}),I(" ลบ ")],8,ys)])])]),default:c(()=>[i(p,{icon:"pepicons-pencil:dots-x",class:"text-gray-400 text-4xl"})]),_:2},1024)])):x("",!0)]),"pagination-bottom":c(t=>[e("div",ws,[i(B,{total:s.paginate.total,current:s.paginate.current,"per-page":s.paginate.perpage,pageRange:s.paginate.pageRange,onPageChanged:l[4]||(l[4]=r=>s.changePage(r)),pageChanged:t.pageChanged,perPageChanged:t.perPageChanged,textAfterInput:"ไปที่หน้า",enableSearch:"",enableInput:""},null,8,["total","current","per-page","pageRange","pageChanged","perPageChanged"])])]),_:1},8,["columns","rows","pagination-options"])]),_:1}),i(Z,{title:"ยืนยันการเปิด/ปิดสถานะการตั้งค่าอีเมล",isOpen:s.isShowDialogSwitch,modalId:s.modalId,status:s.modalStatus,"onEvent:close":s.onCloseSwitch,"onEvent:success":s.onAcceptSwitch},null,8,["isOpen","modalId","status","onEvent:close","onEvent:success"]),i(y,{title:"ยืนยันการเปิด/ปิดสถานะการตั้งค่าอีเมล",isOpen:s.isSuccess,"onEvent:closeModal":l[5]||(l[5]=t=>s.isSuccess=!1)},{default:c(()=>[Cs]),_:1},8,["isOpen"]),i(y,{title:"ยืนยันการลบข้อมูล",isOpen:s.isModalDeleteSuccess,"onEvent:closeModal":l[6]||(l[6]=t=>s.isModalDeleteSuccess=!1)},{default:c(()=>[ks]),_:1},8,["isOpen"]),i(W,{title:"ยืนยันการลบข้อมูล",successMessage:"ลบข้อมูล",isOpen:s.isShowModalDelete,modalId:s.modalId,"onEvent:delete":s.onDelete,"onEvent:close":s.clearModal,"onEvent:success":s.clearModal},null,8,["isOpen","modalId","onEvent:delete","onEvent:close","onEvent:success"]),s.isShowDialog?(d(),D(w,{key:0,title:"รายละเอียดการตั้งค่าอีเมล",label:"",labelClass:"btn-outline-dark",sizeClass:"max-w-[900px]",ref:"modalDialog",centered:"",activeModal:s.isShowDialog,"onEvent:closeModal":l[8]||(l[8]=t=>s.onClose())},{footer:c(()=>[e("div",zt,[i(b,{text:"ปิด",btnClass:"btn-outline-dark w-32 mx-2",onOnClick:l[7]||(l[7]=t=>s.onClose())})])]),default:c(()=>[Is,Ss,e("div",null,[e("div",js,[e("div",Ms,[e("div",Es,[e("div",Vs,[zs,e("div",Ds,v(s.getOrganization(s.showItem.organization?s.showItem.organization[0]:"")),1)])])])]),Os,Ts,e("div",Ps,[e("div",Us,[e("div",As,[e("div",Ls,[Rs,e("div",Bs,v(s.showItem.account_type),1)])])])]),e("div",Ns,[e("div",qs,[e("div",Fs,[e("div",Gs,[Hs,e("div",Js,v(s.showItem.inbox_server),1)])])])])]),e("div",Ks,[e("div",Qs,[e("div",Ws,[e("div",Xs,[Ys,e("div",Zs,v(s.showItem.smtp_server),1)])])])]),$s,et,e("div",st,[e("div",tt,[e("div",lt,[e("div",ot,[at,e("div",it,v(s.showItem.name),1)])])])]),e("div",nt,[e("div",rt,[e("div",dt,[e("div",ct,[ut,e("div",mt,v(s.showItem.email),1)])])])]),e("div",_t,[e("div",vt,[e("div",ft,[e("div",bt,[pt,e("div",xt,[i(u,{classInput:"border border-gray-400",type:"password",hasicon:"",modelValue:s.showItem.password,isReadonly:""},null,8,["modelValue"])])])])])]),e("div",ht,[e("div",gt,[e("div",yt,[e("div",wt,[Ct,e("div",kt,v(s.showItem.hook_duration>=60?Math.floor(s.showItem.hook_duration/60)+" ชั่วโมง":s.showItem.hook_duration+" นาที"),1)])])])]),e("div",It,[e("div",St,[e("div",jt,[e("div",Mt,[Et,e("div",Vt,v(s.showItem.enabled?"เปิดการใช้งาน":"ปิดการใช้งาน"),1)])])])])]),_:1},8,["activeModal"])):x("",!0),s.addEmailModal?(d(),D(w,{key:1,title:s.modalId?"แบบฟอร์มแก้ไขการตั้งค่าอีเมล":"แบบฟอร์มเพิ่มการตั้งค่าอีเมล",label:"",labelClass:"btn-outline-dark",sizeClass:"max-w-[900px]",ref:"modalDialog",centered:"",activeModal:s.addEmailModal,"onEvent:closeModal":l[24]||(l[24]=t=>s.onCloseAddEmailModal())},{default:c(()=>[s.openOrgModal?(d(),_("div",Hl,[e("div",Jl,[i(U,{type:"text",placeholder:"ค้นหา",prependIcon:"material-symbols:search",classInput:"h-[40px] custom_text_input border-2 border-gray-400",merged:"",modelValue:s.searchOrganize,"onUpdate:modelValue":l[20]||(l[20]=t=>s.searchOrganize=t)},null,8,["modelValue"])]),e("div",Kl,[i(N,{items:s.organizeList,isCheckable:!1,hideGuideLines:!0,class:"tree-root-parent custom_tree_view",onOnSelect:s.onSelectedItem},{"item-prepend":c(t=>[i(p,{icon:"bi:check-lg"}),I(" "+v(t.organization_name),1)]),"item-prepend-icon":c(t=>[t.type!="role"?(d(),D(M,{key:0,svg:"",inputClass:"bg-red-500",disabled:t.have_sub_organization==!1,value:t.item_id,modelValue:s.checkedItem,"onUpdate:modelValue":l[21]||(l[21]=r=>s.checkedItem=r)},null,8,["disabled","value","modelValue"])):x("",!0)]),_:1},8,["items","onOnSelect"])]),Ql,e("div",Wl,[i(b,{text:"บันทึก",type:"submit",btnClass:"btn-primary w-32 font-medium mx-2",onOnClick:l[22]||(l[22]=t=>s.closeAddOrganizer())}),i(b,{text:"ยกเลิก",btnClass:"btn-outline-dark w-32 mx-2",onOnClick:l[23]||(l[23]=t=>s.closeAddOrganizer())})])])):(d(),_("div",Dt,[e("form",{onSubmit:l[19]||(l[19]=Ze((...t)=>s.onSubmit&&s.onSubmit(...t),["prevent"]))},[Ot,Tt,e("div",null,[e("div",Pt,[e("div",Ut,[e("div",At,[e("div",Lt,[Rt,e("div",Bt,[i(b,{type:"button",icon:"ic:baseline-plus",onClick:l[9]||(l[9]=t=>s.addOrganizer()),text:"เลือกหน่วยงาน",btnClass:"btn-primary w-33 font-medium mx-2"}),e("div",Nt,[qt,s.selectedItem?(d(),D(j,{key:0,placement:"top",arrow:"",theme:"light"},{base:c(()=>{var t,r,E;return[e("div",Ft,[e("ul",Gt,[(d(!0),_(ce,null,ue(g.findTreeDir(s.organizeList,(t=s.selectedItem)!=null&&t.item_id?(r=s.selectedItem)==null?void 0:r.item_id:(E=s.selectedItem)==null?void 0:E.id,"organization_name")||[],(q,h)=>(d(),_("li",{key:h,class:"capitalize text-slate-500 dark:text-slate-400"},[h!==0?(d(),_("span",Ht,[i(p,{icon:"heroicons:chevron-right"})])):x("",!0),e("div",null,v(q),1)]))),128))])])]}),default:c(()=>{var t,r,E;return[e("ul",Jt,[(d(!0),_(ce,null,ue(g.findTreeDir(s.organizeList,(t=s.selectedItem)!=null&&t.item_id?(r=s.selectedItem)==null?void 0:r.item_id:(E=s.selectedItem)==null?void 0:E.id,"organization_name")||[],(q,h)=>(d(),_("li",{key:h,class:"capitalize text-slate-500 dark:text-slate-400"},[h!==0?(d(),_("span",Kt,[i(p,{icon:"heroicons:chevron-right"})])):x("",!0),e("div",null,v(q),1)]))),128))])]}),_:1})):x("",!0)]),s.parentIdError?(d(),_("span",Qt,v(s.parentIdError),1)):x("",!0)])])])])]),Wt,Xt,e("div",Yt,[e("div",Zt,[e("div",$t,[e("div",el,[sl,e("div",tl,[i(u,{classInput:"border border-gray-400",placeholder:"ระบุเซิร์ฟเวอร์จดหมายเข้า",modelValue:s.server_inbox,error:s.server_inboxError,"onUpdate:modelValue":l[10]||(l[10]=t=>s.server_inbox=t)},null,8,["modelValue","error"])])])])])])]),e("div",ll,[e("div",ol,[e("div",al,[e("div",il,[nl,e("div",rl,[i(u,{classInput:"border border-gray-400",placeholder:"ระบุเซิร์ฟเวอร์จดหมายออก",modelValue:s.server_output,error:s.server_outputError,"onUpdate:modelValue":l[11]||(l[11]=t=>s.server_output=t)},null,8,["modelValue","error"])])])])])]),dl,cl,e("div",ul,[e("div",ml,[e("div",_l,[e("div",vl,[fl,e("div",bl,[i(u,{classInput:"border border-gray-400",placeholder:"ระบุชื่อบัญชีอีเมล",modelValue:s.account_name,error:s.account_nameError,"onUpdate:modelValue":l[12]||(l[12]=t=>s.account_name=t)},null,8,["modelValue","error"])])])])])]),e("div",pl,[e("div",xl,[e("div",hl,[e("div",gl,[yl,e("div",wl,[i(u,{classInput:"border border-gray-400",placeholder:"ระบุอีเมล",modelValue:s.email,error:s.emailError,"onUpdate:modelValue":l[13]||(l[13]=t=>s.email=t)},null,8,["modelValue","error"])])])])])]),e("div",Cl,[e("div",kl,[e("div",Il,[e("div",Sl,[jl,e("div",Ml,[i(u,{classInput:"border border-gray-400",type:"password",hasicon:"",placeholder:"ระบุรหัสผ่าน",modelValue:s.password,error:s.passwordError,"onUpdate:modelValue":l[14]||(l[14]=t=>s.password=t)},null,8,["modelValue","error"])])])])])]),e("div",El,[e("div",Vl,[e("div",zl,[e("div",Dl,[Ol,e("div",Tl,[i(P,{classInput:"input_color"},{default:c(()=>[i(f,{modelValue:s.time_to_pull_data,"onUpdate:modelValue":l[15]||(l[15]=t=>s.time_to_pull_data=t),label:"title",class:"input_color border rounded w-[300px]",reduce:t=>t.id,options:s.timeToPullDataList},null,8,["modelValue","reduce","options"])]),_:1}),e("div",Pl,[s.timeToPullDataError?(d(),_("span",Ul,v(s.timeToPullDataError),1)):x("",!0)])])])])])]),e("div",Al,[e("div",Ll,[e("div",Rl,[e("div",Bl,[Nl,e("div",ql,[i(M,{label:"เปิดใช้งาน",name:"enabled",value:!0,modelValue:s.enabled,"onUpdate:modelValue":l[16]||(l[16]=t=>s.enabled=t)},null,8,["modelValue"]),i(M,{label:"ปิดใช้งาน",name:"enabled",value:!1,modelValue:s.enabled,"onUpdate:modelValue":l[17]||(l[17]=t=>s.enabled=t)},null,8,["modelValue"])])])])])]),Fl,e("div",Gl,[i(b,{type:"submit",text:S.$route.params.id?"บันทึกการแก้ไข":"บันทึก",btnClass:"btn-primary w-32 font-medium mx-2"},null,8,["text"]),i(b,{text:"ปิด",btnClass:"btn-outline-dark w-32 mx-2",onOnClick:l[18]||(l[18]=t=>s.onCloseAddEmailModal())})])],32)]))]),_:1},8,["title","activeModal"])):x("",!0),s.successModal?(d(),D(w,{key:2,title:s.modalId?"บันทึกการแก้ไขตั้งค่าอีเมลสำเร็จ":"บันทึกการตั้งค่าอีเมลสำเร็จ",label:"",labelClass:"btn-outline-dark",ref:"modalDialog",centered:"",activeModal:s.successModal,"onEvent:closeModal":l[26]||(l[26]=t=>s.onAccept())},{footer:c(()=>[e("div",lo,[i(b,{text:"ปิด",btnClass:"btn-primary w-36",onClick:l[25]||(l[25]=t=>s.onAccept())})])]),default:c(()=>[e("div",Xl,[e("div",Yl,[e("div",Zl,[i(p,{icon:"icon-park-solid:protect",class:"text-5xl text-green-500"})]),s.modalId?(d(),_("h4",$l,[I(" บันทึกการแก้ไขการตั้งค่าอีเมล "),eo])):(d(),_("h4",so,[I(" บันทึกการตั้งค่าอีเมล "),to]))])])]),_:1},8,["title","activeModal"])):x("",!0)])}const Bo=Ke(as,[["render",oo]]);export{Bo as default};
